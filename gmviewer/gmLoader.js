/*! For license information please see gmLoader.js.LICENSE.txt */
(()=>{var __webpack_modules__={165:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>WorkspaceSearch});const CSS_CONTENT=["path.blocklyPath.blockly-ws-search-highlight {","fill: black;","}","path.blocklyPath.blockly-ws-search-highlight.blockly-ws-search-current {","fill: grey;","}",".blockly-ws-search-close-btn {","background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE0Ij48cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=) no-repeat top left;","}",".blockly-ws-search-next-btn {","background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE0Ij48cGF0aCBkPSJNNy40MSA4LjU5TDEyIDEzLjE3bDQuNTktNC41OEwxOCAxMGwtNiA2LTYtNiAxLjQxLTEuNDF6Ii8+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PC9zdmc+) no-repeat top left;","}",".blockly-ws-search-previous-btn {","background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE0Ij48cGF0aCBkPSJNNy40MSAxNS40MUwxMiAxMC44M2w0LjU5IDQuNThMMTggMTRsLTYtNi02IDZ6Ii8+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==) no-repeat top left;","}",".blockly-ws-search {","background: white;","border: solid lightgrey .5px;","box-shadow: 0px 10px 20px grey;","justify-content: center;","padding: .25em;","position: absolute;","z-index: 70;","}",".blockly-ws-search-input input {","border: none;","}",".blockly-ws-search button {","border: none;","}",".blockly-ws-search-actions {","display: flex;","}",".blockly-ws-search-container {","display: flex;","}",".blockly-ws-search-content {","display: flex;","}"],injectSearchCss=function(){let executed=!1;return function(){if(executed)return;executed=!0;const text=CSS_CONTENT.join("\n"),cssNode=document.createElement("style");cssNode.id="blockly-ws-search-style";const cssTextNode=document.createTextNode(text);cssNode.appendChild(cssTextNode),document.head.insertBefore(cssNode,document.head.firstChild)}}();var core_browser=__webpack_require__(256);class WorkspaceSearch{constructor(workspace){this.workspace_=workspace,this.id="workspaceSearch",this.htmlDiv_=null,this.actionDiv_=null,this.inputElement_=null,this.textInputPlaceholder_="Search",this.blocks_=[],this.currentBlockIndex_=-1,this.searchText_="",this.searchOnInput=!0,this.caseSensitive=!1,this.preserveSelected=!0,this.boundEvents_=[]}init(){this.workspace_.getComponentManager().addComponent({component:this,weight:0,capabilities:[core_browser.ComponentManager.Capability.POSITIONABLE]}),injectSearchCss(),this.createDom_(),this.setVisible_(!1),this.workspace_.resize()}dispose(){for(const event of this.boundEvents_)core_browser.unbindEvent_(event);this.boundEvents_=null,this.htmlDiv_&&(this.htmlDiv_.remove(),this.htmlDiv_=null),this.actionDiv_=null,this.inputElement_=null}createDom_(){const injectionDiv=this.workspace_.getInjectionDiv();this.addEvent_(injectionDiv,"keydown",this,(evt=>this.onWorkspaceKeyDown_(evt))),this.htmlDiv_=document.createElement("div"),core_browser.utils.dom.addClass(this.htmlDiv_,"blockly-ws-search");const searchContainer=document.createElement("div");core_browser.utils.dom.addClass(searchContainer,"blockly-ws-search-container");const searchContent=document.createElement("div");core_browser.utils.dom.addClass(searchContent,"blockly-ws-search-content"),searchContainer.appendChild(searchContent);const inputWrapper=document.createElement("div");core_browser.utils.dom.addClass(inputWrapper,"blockly-ws-search-input"),this.inputElement_=this.createTextInput_(),this.addEvent_(this.inputElement_,"keydown",this,(evt=>this.onKeyDown_(evt))),this.addEvent_(this.inputElement_,"input",this,(()=>this.onInput_())),this.addEvent_(this.inputElement_,"click",this,(()=>this.searchAndHighlight(this.searchText_,this.preserveSelected))),inputWrapper.appendChild(this.inputElement_),searchContent.appendChild(inputWrapper),this.actionDiv_=document.createElement("div"),core_browser.utils.dom.addClass(this.actionDiv_,"blockly-ws-search-actions"),searchContent.appendChild(this.actionDiv_);const nextBtn=this.createNextBtn_();nextBtn&&this.addActionBtn(nextBtn,(()=>this.next()));const previousBtn=this.createPreviousBtn_();previousBtn&&this.addActionBtn(previousBtn,(()=>this.previous()));const closeBtn=this.createCloseBtn_();closeBtn&&(this.addBtnListener_(closeBtn,(()=>this.close())),searchContainer.appendChild(closeBtn)),this.htmlDiv_.appendChild(searchContainer),injectionDiv.insertBefore(this.htmlDiv_,this.workspace_.getParentSvg())}addEvent_(node,name,thisObject,func){const event=core_browser.browserEvents.conditionalBind(node,name,thisObject,func);this.boundEvents_.push(event)}addActionBtn(btn,onClickFn){this.addBtnListener_(btn,onClickFn),this.actionDiv_.appendChild(btn)}createTextInput_(){const textInput=document.createElement("input");return textInput.type="text",textInput.setAttribute("placeholder",this.textInputPlaceholder_),textInput}createNextBtn_(){return this.createBtn_("blockly-ws-search-next-btn","Find next")}createPreviousBtn_(){return this.createBtn_("blockly-ws-search-previous-btn","Find previous")}createCloseBtn_(){return this.createBtn_("blockly-ws-search-close-btn","Close search bar")}createBtn_(className,text){const btn=document.createElement("button");return core_browser.utils.dom.addClass(btn,className),btn.setAttribute("aria-label",text),btn}addBtnListener_(btn,onClickFn){this.addEvent_(btn,"click",this,onClickFn),this.addEvent_(btn,"keydown",this,(e=>{e.keyCode===core_browser.utils.KeyCodes.ENTER?(onClickFn(e),e.preventDefault()):e.keyCode===core_browser.utils.KeyCodes.ESC&&this.close(),e.stopPropagation()}))}getBoundingRectangle(){return null}position(metrics,savedPositions){this.workspace_.RTL?this.htmlDiv_.style.left=metrics.absoluteMetrics.left+"px":metrics.toolboxMetrics.position===core_browser.TOOLBOX_AT_RIGHT?this.htmlDiv_.style.right=metrics.toolboxMetrics.width+"px":this.htmlDiv_.style.right="0",this.htmlDiv_.style.top=metrics.absoluteMetrics.top+"px"}onInput_(){if(this.searchOnInput){const inputValue=this.inputElement_.value.trim();inputValue!==this.searchText_&&this.searchAndHighlight(inputValue,this.preserveSelected)}}onKeyDown_(e){if(e.keyCode===core_browser.utils.KeyCodes.ESC)this.close();else if(e.keyCode===core_browser.utils.KeyCodes.ENTER)if(this.searchOnInput)this.next();else{const inputValue=this.inputElement_.value.trim();inputValue!==this.searchText_&&this.searchAndHighlight(inputValue,this.preserveSelected)}}onWorkspaceKeyDown_(e){(e.ctrlKey||e.metaKey)&&e.keyCode===core_browser.utils.KeyCodes.F&&(this.open(),e.preventDefault(),e.stopPropagation())}previous(){this.setCurrentBlock_(this.currentBlockIndex_-1)}next(){this.setCurrentBlock_(this.currentBlockIndex_+1)}setSearchPlaceholder(placeholderText){this.textInputPlaceholder_=placeholderText,this.inputElement_&&this.inputElement_.setAttribute("placeholder",this.textInputPlaceholder_)}setCurrentBlock_(index){if(!this.blocks_.length)return;let currentBlock=this.blocks_[this.currentBlockIndex_];currentBlock&&this.unhighlightCurrentSelection_(currentBlock),this.currentBlockIndex_=(index%this.blocks_.length+this.blocks_.length)%this.blocks_.length,currentBlock=this.blocks_[this.currentBlockIndex_],this.highlightCurrentSelection_(currentBlock),this.scrollToVisible_(currentBlock)}open(){this.setVisible_(!0),this.inputElement_.focus(),this.searchText_&&this.searchAndHighlight(this.searchText_)}close(){this.setVisible_(!1),this.workspace_.markFocused(),this.clearBlocks()}setVisible_(show){this.htmlDiv_.style.display=show?"flex":"none"}searchAndHighlight(searchText,preserveCurrent){const oldCurrentBlock=this.blocks_[this.currentBlockIndex_];this.searchText_=searchText.trim(),this.clearBlocks(),this.blocks_=this.getMatchingBlocks_(this.workspace_,this.searchText_,this.caseSensitive),this.highlightSearchGroup_(this.blocks_);let currentIdx=0;preserveCurrent&&(currentIdx=this.blocks_.indexOf(oldCurrentBlock),currentIdx=currentIdx>-1?currentIdx:0),this.setCurrentBlock_(currentIdx)}getSearchPool_(workspace){return workspace.getAllBlocks(!0).filter((block=>{const surroundParent=block.getSurroundParent();return!surroundParent||!surroundParent.isCollapsed()}))}isBlockMatch_(block,searchText,caseSensitive){let blockText="";if(block.isCollapsed())blockText=block.toString();else{const topBlockText=[];block.inputList.forEach((input=>{input.fieldRow.forEach((field=>{topBlockText.push(field.getText())}))})),blockText=topBlockText.join(" ").trim()}return caseSensitive||(blockText=blockText.toLowerCase()),blockText.indexOf(searchText)>-1}getMatchingBlocks_(workspace,searchText,caseSensitive){if(!searchText)return[];this.caseSensitive||(searchText=searchText.toLowerCase());return this.getSearchPool_(workspace).filter((block=>this.isBlockMatch_(block,searchText,caseSensitive)))}clearBlocks(){this.unhighlightSearchGroup_(this.blocks_);const currentBlock=this.blocks_[this.currentBlockIndex_];currentBlock&&this.unhighlightCurrentSelection_(currentBlock),this.currentBlockIndex_=-1,this.blocks_=[]}highlightCurrentSelection_(currentBlock){const path=currentBlock.pathObject.svgPath;core_browser.utils.dom.addClass(path,"blockly-ws-search-current")}unhighlightCurrentSelection_(currentBlock){const path=currentBlock.pathObject.svgPath;core_browser.utils.dom.removeClass(path,"blockly-ws-search-current")}highlightSearchGroup_(blocks){blocks.forEach((block=>{const blockPath=block.pathObject.svgPath;core_browser.utils.dom.addClass(blockPath,"blockly-ws-search-highlight")}))}unhighlightSearchGroup_(blocks){blocks.forEach((block=>{const blockPath=block.pathObject.svgPath;core_browser.utils.dom.removeClass(blockPath,"blockly-ws-search-highlight")}))}scrollToVisible_(block){if(!this.workspace_.isMovable())return;const xy=block.getRelativeToSurfaceXY(),scale=this.workspace_.scale,width=block.width*scale,height=block.height*scale,top=xy.y*scale,bottom=(xy.y+block.height)*scale,left=this.workspace_.RTL?xy.x*scale-width:xy.x*scale,right=this.workspace_.RTL?xy.x*scale:xy.x*scale+width,metrics=this.workspace_.getMetrics();let targetLeft=metrics.viewLeft;const overflowLeft=left<metrics.viewLeft,overflowRight=right>metrics.viewLeft+metrics.viewWidth,wideBlock=width>metrics.viewWidth;!wideBlock&&overflowLeft||wideBlock&&!this.workspace_.RTL?targetLeft=left:(!wideBlock&&overflowRight||wideBlock&&this.workspace_.RTL)&&(targetLeft=right-metrics.viewWidth);let targetTop=metrics.viewTop;const overflowTop=top<metrics.viewTop,overflowBottom=bottom>metrics.viewTop+metrics.viewHeight,tallBlock=height>metrics.viewHeight;if(overflowTop||tallBlock&&overflowBottom?targetTop=top:overflowBottom&&(targetTop=bottom-metrics.viewHeight),targetLeft!==metrics.viewLeft||targetTop!==metrics.viewTop){const activeEl=document.activeElement;this.workspace_.scroll(-targetLeft,-targetTop),activeEl&&activeEl.focus()}}}},97:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(334)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(Blockly){return Blockly})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},334:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function(){var $={};$.$jscomp=$.$jscomp||{},$.$jscomp.scope={},$.$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a},$.$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){return a.raw=b,a},$.$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},$.$jscomp.arrayIterator=function(a){return{next:$.$jscomp.arrayIteratorImpl(a)}},$.$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$.$jscomp.arrayIterator(a)},$.$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c},$.$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$.$jscomp.arrayFromIterator($.$jscomp.makeIterator(a))},$.$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},$.$jscomp.ASSUME_ES5=!1,$.$jscomp.ASSUME_NO_NATIVE_MAP=!1,$.$jscomp.ASSUME_NO_NATIVE_SET=!1,$.$jscomp.SIMPLE_FROUND_POLYFILL=!1,$.$jscomp.ISOLATE_POLYFILLS=!1,$.$jscomp.FORCE_POLYFILL_PROMISE=!1,$.$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$.$jscomp.defineProperty=$.$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){return a==Array.prototype||a==Object.prototype||(a[b]=c.value),a},$.$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")},$.$jscomp.global=$.$jscomp.getGlobal(this),$.$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$.$jscomp.TRUST_ES6_POLYFILLS=!$.$jscomp.ISOLATE_POLYFILLS||$.$jscomp.IS_SYMBOL_NATIVE,$.$jscomp.polyfills={},$.$jscomp.propertyToPolyfillSymbol={},$.$jscomp.POLYFILL_PREFIX="$jscp$",$.$jscomp.polyfill=function(a,b,c,d){b&&($.$jscomp.ISOLATE_POLYFILLS?$.$jscomp.polyfillIsolated(a,b,c,d):$.$jscomp.polyfillUnisolated(a,b,c,d))},$.$jscomp.polyfillUnisolated=function(a,b,c,d){for(c=$.$jscomp.global,a=a.split("."),d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}(b=b(d=c[a=a[a.length-1]]))!=d&&null!=b&&$.$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})},$.$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length,d=e[0],d=!a&&d in $.$jscomp.polyfills?$.$jscomp.polyfills:$.$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1],null!=(b=b(c=$.$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null))&&(a?$.$jscomp.defineProperty($.$jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$.$jscomp.propertyToPolyfillSymbol[e]&&(c=1e9*Math.random()>>>0,$.$jscomp.propertyToPolyfillSymbol[e]=$.$jscomp.IS_SYMBOL_NATIVE?$.$jscomp.global.Symbol(e):$.$jscomp.POLYFILL_PREFIX+c+"$"+e),$.$jscomp.defineProperty(d,$.$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))},$.$jscomp.assign=$.$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)$.$jscomp.owns(d,e)&&(a[e]=d[e])}return a},$.$jscomp.polyfill("Object.assign",(function(a){return a||$.$jscomp.assign}),"es6","es3"),$.$jscomp.objectCreate=$.$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};return b.prototype=a,new b},$.$jscomp.getConstructImplementation=function(){if($.$jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function(){function c(){}return new c,Reflect.construct(c,[],(function(){})),new c instanceof c}())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){return c=b(c,d),e&&Reflect.setPrototypeOf(c,e.prototype),c}}return function(c,d,e){return void 0===e&&(e=c),e=$.$jscomp.objectCreate(e.prototype||Object.prototype),Function.prototype.apply.call(c,e,d)||e}},$.$jscomp.construct=$.$jscomp.getConstructImplementation(),$.$jscomp.underscoreProtoCanBeSet=function(){var b={};try{return b.__proto__={a:!0},b.a}catch(c){}return!1},$.$jscomp.setPrototypeOf=$.$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$.$jscomp.underscoreProtoCanBeSet()?function(a,b){if(a.__proto__=b,a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null,$.$jscomp.inherits=function(a,b){if(a.prototype=$.$jscomp.objectCreate(b.prototype),a.prototype.constructor=a,$.$jscomp.setPrototypeOf){var c=$.$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype},$.$jscomp.polyfill("Reflect",(function(a){return a||{}}),"es6","es3"),$.$jscomp.polyfill("Reflect.construct",(function(a){return $.$jscomp.construct}),"es6","es3"),$.$jscomp.polyfill("Reflect.setPrototypeOf",(function(a){if(a)return a;if($.$jscomp.setPrototypeOf){var b=$.$jscomp.setPrototypeOf;return function(c,d){try{return b(c,d),!0}catch(e){return!1}}}return null}),"es6","es5"),$.$jscomp.polyfill("globalThis",(function(a){return a||$.$jscomp.global}),"es_2020","es3"),$.$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""},$.$jscomp.polyfill("String.prototype.startsWith",(function(a){return a||function(b,c){var d=$.$jscomp.checkStringArgs(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(0|c,d.length));for(var g=0;g<f&&c<e;)if(d[c++]!=b[g++])return!1;return g>=f}}),"es6","es3"),$.$jscomp.initSymbol=function(){},$.$jscomp.polyfill("Symbol",(function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f,$.$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e}),"es6","es3"),$.$jscomp.polyfill("Symbol.iterator",(function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$.$jscomp.global[b[c]];"function"==typeof d&&"function"!=typeof d.prototype[a]&&$.$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $.$jscomp.iteratorPrototype($.$jscomp.arrayIteratorImpl(this))}})}return a}),"es6","es3"),$.$jscomp.iteratorPrototype=function(a){return(a={next:a})[Symbol.iterator]=function(){return this},a},$.$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}return d=!0,{done:!0,value:void 0}}};return e[Symbol.iterator]=function(){return e},e},$.$jscomp.polyfill("Array.prototype.keys",(function(a){return a||function(){return $.$jscomp.iteratorFromArray(this,(function(b){return b}))}}),"es6","es3"),$.$jscomp.polyfill("Object.setPrototypeOf",(function(a){return a||$.$jscomp.setPrototypeOf}),"es6","es5"),$.$jscomp.polyfill("Array.prototype.values",(function(a){return a||function(){return $.$jscomp.iteratorFromArray(this,(function(b,c){return c}))}}),"es8","es3"),$.$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $.$jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&"q"==d&&e==b}}));return!0===b.q}catch(c){return!1}},$.$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,$.$jscomp.ES6_CONFORMANCE=$.$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$.$jscomp.checkEs6ConformanceViaProxy(),$.$jscomp.polyfill("WeakMap",(function(a){function c(){}function d(l){var m=typeof l;return"object"===m&&null!==l||"function"===m}function e(l){if(!$.$jscomp.owns(l,g)){var m=new c;$.$jscomp.defineProperty(l,g,{value:m})}}function f(l){if(!$.$jscomp.ISOLATE_POLYFILLS){var m=Object[l];m&&(Object[l]=function(n){return n instanceof c?n:(Object.isExtensible(n)&&e(n),m(n))})}}if($.$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$.$jscomp.ES6_CONFORMANCE)return a}else if(function(){if(!a||!Object.seal)return!1;try{var l=Object.seal({}),m=Object.seal({}),n=new a([[l,2],[m,3]]);return 2==n.get(l)&&3==n.get(m)&&(n.delete(l),n.set(m,4),!n.has(l)&&4==n.get(m))}catch(p){return!1}}())return a;var g="$jscomp_hidden_"+Math.random();f("freeze"),f("preventExtensions"),f("seal");var h=0,k=function(l){if(this.id_=(h+=Math.random()+1).toString(),l){l=$.$jscomp.makeIterator(l);for(var m;!(m=l.next()).done;)m=m.value,this.set(m[0],m[1])}};return k.prototype.set=function(l,m){if(!d(l))throw Error("Invalid WeakMap key");if(e(l),!$.$jscomp.owns(l,g))throw Error("WeakMap key fail: "+l);return l[g][this.id_]=m,this},k.prototype.get=function(l){return d(l)&&$.$jscomp.owns(l,g)?l[g][this.id_]:void 0},k.prototype.has=function(l){return d(l)&&$.$jscomp.owns(l,g)&&$.$jscomp.owns(l[g],this.id_)},k.prototype.delete=function(l){return!!(d(l)&&$.$jscomp.owns(l,g)&&$.$jscomp.owns(l[g],this.id_))&&delete l[g][this.id_]},k}),"es6","es3"),$.$jscomp.polyfill("Object.entries",(function(a){return a||function(b){var d,c=[];for(d in b)$.$jscomp.owns(b,d)&&c.push([d,b[d]]);return c}}),"es8","es3"),$.$jscomp.polyfill("Object.getOwnPropertySymbols",(function(a){return a||function(){return[]}}),"es6","es5"),$.$jscomp.polyfill("Reflect.ownKeys",(function(a){return a||function(b){var c=[],d=Object.getOwnPropertyNames(b);b=Object.getOwnPropertySymbols(b);for(var e=0;e<d.length;e++)("jscomp_symbol_"==d[e].substring(0,14)?b:c).push(d[e]);return c.concat(b)}}),"es6","es5"),$.$jscomp.polyfill("Object.getOwnPropertyDescriptors",(function(a){return a||function(b){for(var c={},d=Reflect.ownKeys(b),e=0;e<d.length;e++)c[d[e]]=Object.getOwnPropertyDescriptor(b,d[e]);return c}}),"es8","es5"),$.$jscomp.polyfill("Array.prototype.fill",(function(a){return a||function(b,c,d){var e=this.length||0;for(0>c&&(c=Math.max(0,e+c)),(null==d||d>e)&&(d=e),0>(d=Number(d))&&(d=Math.max(0,e+d)),c=Number(c||0);c<d;c++)this[c]=b;return this}}),"es6","es3"),$.$jscomp.typedArrayFill=function(a){return a||Array.prototype.fill},$.$jscomp.polyfill("Int8Array.prototype.fill",$.$jscomp.typedArrayFill,"es6","es5"),$.$jscomp.polyfill("Uint8Array.prototype.fill",$.$jscomp.typedArrayFill,"es6","es5"),$.$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$.$jscomp.typedArrayFill,"es6","es5"),$.$jscomp.polyfill("Int16Array.prototype.fill",$.$jscomp.typedArrayFill,"es6","es5"),$.$jscomp.polyfill("Uint16Array.prototype.fill",$.$jscomp.typedArrayFill,"es6","es5"),$.$jscomp.polyfill("Int32Array.prototype.fill",$.$jscomp.typedArrayFill,"es6","es5"),$.$jscomp.polyfill("Uint32Array.prototype.fill",$.$jscomp.typedArrayFill,"es6","es5"),$.$jscomp.polyfill("Float32Array.prototype.fill",$.$jscomp.typedArrayFill,"es6","es5"),$.$jscomp.polyfill("Float64Array.prototype.fill",$.$jscomp.typedArrayFill,"es6","es5"),$.$jscomp.MapEntry=function(){},$.$jscomp.polyfill("Map",(function(a){if($.$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$.$jscomp.ES6_CONFORMANCE)return a}else if(function(){if($.$jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var k=Object.seal({x:4}),l=new a($.$jscomp.makeIterator([[k,"s"]]));if("s"!=l.get(k)||1!=l.size||l.get({x:4})||l.set({x:4},"t")!=l||2!=l.size)return!1;var m=l.entries(),n=m.next();return!n.done&&n.value[0]==k&&"s"==n.value[1]&&!((n=m.next()).done||4!=n.value[0].x||"t"!=n.value[1]||!m.next().done)}catch(p){return!1}}())return a;var c=new WeakMap,d=function(k){if(this.data_={},this.head_=g(),this.size=0,k){k=$.$jscomp.makeIterator(k);for(var l;!(l=k.next()).done;)l=l.value,this.set(l[0],l[1])}};d.prototype.set=function(k,l){var m=e(this,k=0===k?0:k);return m.list||(m.list=this.data_[m.id]=[]),m.entry?m.entry.value=l:(m.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:k,value:l},m.list.push(m.entry),this.head_.previous.next=m.entry,this.head_.previous=m.entry,this.size++),this},d.prototype.delete=function(k){return!(!(k=e(this,k)).entry||!k.list||(k.list.splice(k.index,1),k.list.length||delete this.data_[k.id],k.entry.previous.next=k.entry.next,k.entry.next.previous=k.entry.previous,k.entry.head=null,this.size--,0))},d.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=g(),this.size=0},d.prototype.has=function(k){return!!e(this,k).entry},d.prototype.get=function(k){return(k=e(this,k).entry)&&k.value},d.prototype.entries=function(){return f(this,(function(k){return[k.key,k.value]}))},d.prototype.keys=function(){return f(this,(function(k){return k.key}))},d.prototype.values=function(){return f(this,(function(k){return k.value}))},d.prototype.forEach=function(k,l){for(var n,m=this.entries();!(n=m.next()).done;)n=n.value,k.call(l,n[1],n[0],this)},d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(k,l){var m=l&&typeof l;"object"==m||"function"==m?c.has(l)?m=c.get(l):(m=""+ ++h,c.set(l,m)):m="p_"+l;var n=k.data_[m];if(n&&$.$jscomp.owns(k.data_,m))for(k=0;k<n.length;k++){var p=n[k];if(l!=l&&p.key!=p.key||l===p.key)return{id:m,list:n,index:k,entry:p}}return{id:m,list:n,index:-1,entry:void 0}},f=function(k,l){var m=k.head_;return $.$jscomp.iteratorPrototype((function(){if(m){for(;m.head!=k.head_;)m=m.previous;for(;m.next!=m.head;)return m=m.next,{done:!1,value:l(m)};m=null}return{done:!0,value:void 0}}))},g=function(){var k={};return k.previous=k.next=k.head=k},h=0;return d}),"es6","es3"),$.$jscomp.polyfill("Set",(function(a){if($.$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$.$jscomp.ES6_CONFORMANCE)return a}else if(function(){if($.$jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var d=Object.seal({x:4}),e=new a($.$jscomp.makeIterator([d]));if(!e.has(d)||1!=e.size||e.add(d)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var f=e.entries(),g=f.next();return!g.done&&g.value[0]==d&&g.value[1]==d&&!(g=f.next()).done&&g.value[0]!=d&&4==g.value[0].x&&g.value[1]==g.value[0]&&f.next().done}catch(h){return!1}}())return a;var c=function(d){if(this.map_=new Map,d){d=$.$jscomp.makeIterator(d);for(var e;!(e=d.next()).done;)this.add(e.value)}this.size=this.map_.size};return c.prototype.add=function(d){return d=0===d?0:d,this.map_.set(d,d),this.size=this.map_.size,this},c.prototype.delete=function(d){return d=this.map_.delete(d),this.size=this.map_.size,d},c.prototype.clear=function(){this.map_.clear(),this.size=0},c.prototype.has=function(d){return this.map_.has(d)},c.prototype.entries=function(){return this.map_.entries()},c.prototype.values=function(){return this.map_.values()},c.prototype.keys=c.prototype.values,c.prototype[Symbol.iterator]=c.prototype.values,c.prototype.forEach=function(d,e){var f=this;this.map_.forEach((function(g){return d.call(e,g,g,f)}))},c}),"es6","es3");var goog=goog||{};goog.global=globalThis||root,goog.define=function(a,b){return b},goog.DEBUG=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.provide=function(a){},goog.module=function(a){},goog.module.get=function(a){},goog.module.declareLegacyNamespace=function(){},goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."))},goog.require=function(a){},goog.requireType=function(a){};var module$contents$Blockly$utils$string_wrapLine,module$contents$Blockly$utils$string_wrapScore,module$contents$Blockly$utils$string_wrapMutate,module$contents$Blockly$utils$string_wrapToText,module$exports$Blockly$utils$deprecation={warn:function(a,b,c,d){a=a+" was deprecated on "+b+" and will be deleted on "+c+".",d&&(a+="\nUse "+d+" instead."),console.warn(a)}},module$exports$Blockly$Css={},module$contents$Blockly$Css_injected=!1;module$exports$Blockly$Css.register=function(a){if(module$contents$Blockly$Css_injected)throw Error("CSS already injected");Array.isArray(a)?((0,module$exports$Blockly$utils$deprecation.warn)("Registering CSS by passing an array of strings","September 2021","September 2022","css.register passing a multiline string"),module$exports$Blockly$Css.content+="\n"+a.join("\n")):module$exports$Blockly$Css.content+="\n"+a},module$exports$Blockly$Css.inject=function(a,b){module$contents$Blockly$Css_injected||(module$contents$Blockly$Css_injected=!0,a&&(a=b.replace(/[\\/]$/,""),b=module$exports$Blockly$Css.content.replace(/<<<PATH>>>/g,a),module$exports$Blockly$Css.content="",(a=document.createElement("style")).id="blockly-common-style",b=document.createTextNode(b),a.appendChild(b),document.head.insertBefore(a,document.head.firstChild)))},module$exports$Blockly$Css.content='\n.blocklySvg {\n  background-color: #fff;\n  outline: none;\n  overflow: hidden;  /* IE overflows by default. */\n  position: absolute;\n  display: block;\n}\n\n.blocklyWidgetDiv {\n  display: none;\n  position: absolute;\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\n}\n\n.injectionDiv {\n  height: 100%;\n  position: relative;\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\n  touch-action: none;\n}\n\n.blocklyNonSelectable {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n}\n\n.blocklyWsDragSurface {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n/* Added as a separate rule with multiple classes to make it more specific\n   than a bootstrap rule that selects svg:root. See issue #1275 for context.\n*/\n.blocklyWsDragSurface.blocklyOverflowVisible {\n  overflow: visible;\n}\n\n.blocklyBlockDragSurface {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: visible !important;\n  z-index: 50;  /* Display below toolbox, but above everything else. */\n}\n\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\n  transition: transform .5s;\n}\n\n.blocklyTooltipDiv {\n  background-color: #ffffc7;\n  border: 1px solid #ddc;\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\n  color: #000;\n  display: none;\n  font: 9pt sans-serif;\n  opacity: .9;\n  padding: 2px;\n  position: absolute;\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\n}\n\n.blocklyDropDownDiv {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1000;\n  display: none;\n  border: 1px solid;\n  border-color: #dadce0;\n  background-color: #fff;\n  border-radius: 2px;\n  padding: 4px;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownContent {\n  max-height: 300px;  // @todo: spec for maximum height.\n  overflow: auto;\n  overflow-x: hidden;\n  position: relative;\n}\n\n.blocklyDropDownArrow {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 16px;\n  height: 16px;\n  z-index: -1;\n  background-color: inherit;\n  border-color: inherit;\n}\n\n.blocklyDropDownButton {\n  display: inline-block;\n  float: left;\n  padding: 0;\n  margin: 4px;\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid;\n  transition: box-shadow .1s;\n  cursor: pointer;\n}\n\n.blocklyArrowTop {\n  border-top: 1px solid;\n  border-left: 1px solid;\n  border-top-left-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyArrowBottom {\n  border-bottom: 1px solid;\n  border-right: 1px solid;\n  border-bottom-right-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyResizeSE {\n  cursor: se-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeSW {\n  cursor: sw-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeLine {\n  stroke: #515A5A;\n  stroke-width: 1;\n}\n\n.blocklyHighlightedConnectionPath {\n  fill: none;\n  stroke: #fc3;\n  stroke-width: 4px;\n}\n\n.blocklyPathLight {\n  fill: none;\n  stroke-linecap: round;\n  stroke-width: 1;\n}\n\n.blocklySelected>.blocklyPathLight {\n  display: none;\n}\n\n.blocklyDraggable {\n  /* backup for browsers (e.g. IE11) that don\'t support grab */\n  cursor: url("<<<PATH>>>/handopen.cur"), auto;\n  cursor: grab;\n  cursor: -webkit-grab;\n}\n\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n.blocklyDragging {\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n  /* Changes cursor on mouse down. Not effective in Firefox because of\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n.blocklyDraggable:active {\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Change the cursor on the whole drag surface in case the mouse gets\n   ahead of block during a drag. This way the cursor is still a closed hand.\n  */\n.blocklyBlockDragSurface .blocklyDraggable {\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n.blocklyDragging.blocklyDraggingDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyDragging>.blocklyPath,\n.blocklyDragging>.blocklyPathLight {\n  fill-opacity: .8;\n  stroke-opacity: .8;\n}\n\n.blocklyDragging>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyDisabled>.blocklyPath {\n  fill-opacity: .5;\n  stroke-opacity: .5;\n}\n\n.blocklyDisabled>.blocklyPathLight,\n.blocklyDisabled>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyInsertionMarker>.blocklyPath,\n.blocklyInsertionMarker>.blocklyPathLight,\n.blocklyInsertionMarker>.blocklyPathDark {\n  fill-opacity: .2;\n  stroke: none;\n}\n\n.blocklyMultilineText {\n  font-family: monospace;\n}\n\n.blocklyNonEditableText>text {\n  pointer-events: none;\n}\n\n.blocklyFlyout {\n  position: absolute;\n  z-index: 20;\n}\n\n.blocklyText text {\n  cursor: default;\n}\n\n/*\n  Don\'t allow users to select text.  It gets annoying when trying to\n  drag a block and selected text moves instead.\n*/\n.blocklySvg text,\n.blocklyBlockDragSurface text {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  cursor: inherit;\n}\n\n.blocklyHidden {\n  display: none;\n}\n\n.blocklyFieldDropdown:not(.blocklyHidden) {\n  display: block;\n}\n\n.blocklyIconGroup {\n  cursor: default;\n}\n\n.blocklyIconGroup:not(:hover),\n.blocklyIconGroupReadonly {\n  opacity: .6;\n}\n\n.blocklyIconShape {\n  fill: #00f;\n  stroke: #fff;\n  stroke-width: 1px;\n}\n\n.blocklyIconSymbol {\n  fill: #fff;\n}\n\n.blocklyMinimalBody {\n  margin: 0;\n  padding: 0;\n}\n\n.blocklyHtmlInput {\n  border: none;\n  border-radius: 4px;\n  height: 100%;\n  margin: 0;\n  outline: none;\n  padding: 0;\n  width: 100%;\n  text-align: center;\n  display: block;\n  box-sizing: border-box;\n}\n\n/* Edge and IE introduce a close icon when the input value is longer than a\n   certain length. This affects our sizing calculations of the text input.\n   Hiding the close icon to avoid that. */\n.blocklyHtmlInput::-ms-clear {\n  display: none;\n}\n\n.blocklyMainBackground {\n  stroke-width: 1;\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\n}\n\n.blocklyMutatorBackground {\n  fill: #fff;\n  stroke: #ddd;\n  stroke-width: 1;\n}\n\n.blocklyFlyoutBackground {\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyMainWorkspaceScrollbar {\n  z-index: 20;\n}\n\n.blocklyFlyoutScrollbar {\n  z-index: 30;\n}\n\n.blocklyScrollbarHorizontal,\n.blocklyScrollbarVertical {\n  position: absolute;\n  outline: none;\n}\n\n.blocklyScrollbarBackground {\n  opacity: 0;\n}\n\n.blocklyScrollbarHandle {\n  fill: #ccc;\n}\n\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyScrollbarHandle:hover {\n  fill: #bbb;\n}\n\n/* Darken flyout scrollbars due to being on a grey background. */\n/* By contrast, workspace scrollbars are on a white background. */\n.blocklyFlyout .blocklyScrollbarHandle {\n  fill: #bbb;\n}\n\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyFlyout .blocklyScrollbarHandle:hover {\n  fill: #aaa;\n}\n\n.blocklyInvalidInput {\n  background: #faa;\n}\n\n.blocklyVerticalMarker {\n  stroke-width: 3px;\n  fill: rgba(255,255,255,.5);\n  pointer-events: none;\n}\n\n.blocklyComputeCanvas {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n\n.blocklyNoPointerEvents {\n  pointer-events: none;\n}\n\n.blocklyContextMenu {\n  border-radius: 4px;\n  max-height: 100%;\n}\n\n.blocklyDropdownMenu {\n  border-radius: 2px;\n  padding: 0 !important;\n}\n\n.blocklyDropdownMenu .blocklyMenuItem {\n  /* 28px on the left for icon or checkbox. */\n  padding-left: 28px;\n}\n\n/* BiDi override for the resting state. */\n.blocklyDropdownMenu .blocklyMenuItemRtl {\n  /* Flip left/right padding for BiDi. */\n  padding-left: 5px;\n  padding-right: 28px;\n}\n\n.blocklyWidgetDiv .blocklyMenu {\n  background: #fff;\n  border: 1px solid transparent;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n  font: normal 13px Arial, sans-serif;\n  margin: 0;\n  outline: none;\n  padding: 4px 0;\n  position: absolute;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n.blocklyWidgetDiv .blocklyMenu.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv .blocklyMenu {\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;\n  outline: none;\n  position: relative;  /* Compatibility with gapi, reset from goog-menu */\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n/* State: resting. */\n.blocklyMenuItem {\n  border: none;\n  color: #000;\n  cursor: pointer;\n  list-style: none;\n  margin: 0;\n  /* 7em on the right for shortcut. */\n  min-width: 7em;\n  padding: 6px 15px;\n  white-space: nowrap;\n}\n\n/* State: disabled. */\n.blocklyMenuItemDisabled {\n  color: #ccc;\n  cursor: inherit;\n}\n\n/* State: hover. */\n.blocklyMenuItemHighlight {\n  background-color: rgba(0,0,0,.1);\n}\n\n/* State: selected/checked. */\n.blocklyMenuItemCheckbox {\n  height: 16px;\n  position: absolute;\n  width: 16px;\n}\n\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\n  float: left;\n  margin-left: -24px;\n  position: static;  /* Scroll with the menu. */\n}\n\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\n  float: right;\n  margin-right: -24px;\n}\n',$.module$exports$Blockly$utils$string={startsWith:function(a,b){return 0===a.lastIndexOf(b,0)},shortestStringLength:function(a){return a.length?a.reduce((function(b,c){return b.length<c.length?b:c})).length:0},commonWordPrefix:function(a,b){if(!a.length)return 0;if(1===a.length)return a[0].length;var d,c=0;for(b=b||(0,$.module$exports$Blockly$utils$string.shortestStringLength)(a),d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!==a[f][d])return c;" "===e&&(c=d+1)}for(e=1;e<a.length;e++)if((f=a[e][d])&&" "!==f)return c;return b},commonWordSuffix:function(a,b){if(!a.length)return 0;if(1===a.length)return a[0].length;var d,c=0;for(b=b||(0,$.module$exports$Blockly$utils$string.shortestStringLength)(a),d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!==a[f].substr(-d-1,1))return c;" "===e&&(c=d+1)}for(e=1;e<a.length;e++)if((f=a[e].charAt(a[e].length-d-1))&&" "!==f)return c;return b},wrap:function(a,b){a=a.split("\n");for(var c=0;c<a.length;c++)a[c]=module$contents$Blockly$utils$string_wrapLine(a[c],b);return a.join("\n")}},module$contents$Blockly$utils$string_wrapLine=function(a,b){if(a.length<=b)return a;for(var c=a.trim().split(/\s+/),d=0;d<c.length;d++)c[d].length>b&&(b=c[d].length);var e=-1/0,f=1;do{d=e;var g=a;a=[],e=c.length/f;for(var h=1,k=0;k<c.length-1;k++)h<(k+1.5)/e?(h++,a[k]=!0):a[k]=!1;a=module$contents$Blockly$utils$string_wrapMutate(c,a,b),e=module$contents$Blockly$utils$string_wrapScore(c,a,b),a=module$contents$Blockly$utils$string_wrapToText(c,a),f++}while(e>d);return g},module$contents$Blockly$utils$string_wrapScore=function(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;for(a=Math.max.apply(Math,d),f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!==".?!".indexOf(e[f])?b+=c/3:-1!==",;)]}".indexOf(e[f])&&(b+=c/4);return 1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5),b},module$contents$Blockly$utils$string_wrapMutate=function(a,b,c){for(var e,d=module$contents$Blockly$utils$string_wrapScore(a,b,c),f=0;f<b.length-1;f++)if(b[f]!==b[f+1]){var g=[].concat(b);g[f]=!g[f],g[f+1]=!g[f+1];var h=module$contents$Blockly$utils$string_wrapScore(a,g,c);h>d&&(d=h,e=g)}return e?module$contents$Blockly$utils$string_wrapMutate(a,e,c):b},module$contents$Blockly$utils$string_wrapToText=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]),void 0!==b[d]&&c.push(b[d]?"\n":" ");return c.join("")},$.module$exports$Blockly$utils$string.isNumber=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)},$.module$exports$Blockly$utils$global={},$.module$exports$Blockly$utils$global.globalThis=function(){return"object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof __webpack_require__.g?__webpack_require__.g:this}();var module$exports$Blockly$Touch={};module$exports$Blockly$Touch.TOUCH_ENABLED="ontouchstart"in $.module$exports$Blockly$utils$global.globalThis||!!($.module$exports$Blockly$utils$global.globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!$.module$exports$Blockly$utils$global.globalThis.navigator||!$.module$exports$Blockly$utils$global.globalThis.navigator.maxTouchPoints&&!$.module$exports$Blockly$utils$global.globalThis.navigator.msMaxTouchPoints);var module$contents$Blockly$Touch_touchIdentifier_=null;module$exports$Blockly$Touch.TOUCH_MAP={},$.module$exports$Blockly$utils$global.globalThis.PointerEvent?module$exports$Blockly$Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:module$exports$Blockly$Touch.TOUCH_ENABLED&&(module$exports$Blockly$Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var module$contents$Blockly$Touch_longPid_=0;module$exports$Blockly$Touch.longStart=function(a,b){(0,module$exports$Blockly$Touch.longStop)(),a.changedTouches&&1!==a.changedTouches.length||(module$contents$Blockly$Touch_longPid_=setTimeout((function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),b&&b.handleRightClick(a)}),750))},module$exports$Blockly$Touch.longStop=function(){module$contents$Blockly$Touch_longPid_&&(clearTimeout(module$contents$Blockly$Touch_longPid_),module$contents$Blockly$Touch_longPid_=0)},module$exports$Blockly$Touch.clearTouchIdentifier=function(){module$contents$Blockly$Touch_touchIdentifier_=null},module$exports$Blockly$Touch.shouldHandleEvent=function(a){return!(0,module$exports$Blockly$Touch.isMouseOrTouchEvent)(a)||(0,module$exports$Blockly$Touch.checkTouchIdentifier)(a)},module$exports$Blockly$Touch.getTouchIdentifierFromEvent=function(a){return void 0!==a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"},module$exports$Blockly$Touch.checkTouchIdentifier=function(a){var b=(0,module$exports$Blockly$Touch.getTouchIdentifierFromEvent)(a);return null!=module$contents$Blockly$Touch_touchIdentifier_?module$contents$Blockly$Touch_touchIdentifier_===b:("mousedown"===a.type||"touchstart"===a.type||"pointerdown"===a.type)&&(module$contents$Blockly$Touch_touchIdentifier_=b,!0)},module$exports$Blockly$Touch.setClientFromTouch=function(a){if((0,$.module$exports$Blockly$utils$string.startsWith)(a.type,"touch")&&a.changedTouches){var b=a.changedTouches[0];a.clientX=b.clientX,a.clientY=b.clientY}},module$exports$Blockly$Touch.isMouseOrTouchEvent=function(a){return(0,$.module$exports$Blockly$utils$string.startsWith)(a.type,"touch")||(0,$.module$exports$Blockly$utils$string.startsWith)(a.type,"mouse")||(0,$.module$exports$Blockly$utils$string.startsWith)(a.type,"pointer")},module$exports$Blockly$Touch.isTouchEvent=function(a){return(0,$.module$exports$Blockly$utils$string.startsWith)(a.type,"touch")||(0,$.module$exports$Blockly$utils$string.startsWith)(a.type,"pointer")},module$exports$Blockly$Touch.splitEventByTouches=function(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};var module$exports$Blockly$utils$userAgent={};!function(a){function b(d){return-1!==c.indexOf(d.toUpperCase())}module$exports$Blockly$utils$userAgent.raw=a;var c=module$exports$Blockly$utils$userAgent.raw.toUpperCase();module$exports$Blockly$utils$userAgent.IE=b("Trident")||b("MSIE"),module$exports$Blockly$utils$userAgent.EDGE=b("Edge"),module$exports$Blockly$utils$userAgent.JavaFx=b("JavaFX"),module$exports$Blockly$utils$userAgent.CHROME=(b("Chrome")||b("CriOS"))&&!module$exports$Blockly$utils$userAgent.EDGE,module$exports$Blockly$utils$userAgent.WEBKIT=b("WebKit")&&!module$exports$Blockly$utils$userAgent.EDGE,module$exports$Blockly$utils$userAgent.GECKO=b("Gecko")&&!module$exports$Blockly$utils$userAgent.WEBKIT&&!module$exports$Blockly$utils$userAgent.IE&&!module$exports$Blockly$utils$userAgent.EDGE,module$exports$Blockly$utils$userAgent.ANDROID=b("Android"),a=$.module$exports$Blockly$utils$global.globalThis.navigator&&$.module$exports$Blockly$utils$global.globalThis.navigator.maxTouchPoints,module$exports$Blockly$utils$userAgent.IPAD=b("iPad")||b("Macintosh")&&0<a,module$exports$Blockly$utils$userAgent.IPOD=b("iPod"),module$exports$Blockly$utils$userAgent.IPHONE=b("iPhone")&&!module$exports$Blockly$utils$userAgent.IPAD&&!module$exports$Blockly$utils$userAgent.IPOD,module$exports$Blockly$utils$userAgent.MAC=b("Macintosh"),module$exports$Blockly$utils$userAgent.TABLET=module$exports$Blockly$utils$userAgent.IPAD||module$exports$Blockly$utils$userAgent.ANDROID&&!b("Mobile")||b("Silk"),module$exports$Blockly$utils$userAgent.MOBILE=!module$exports$Blockly$utils$userAgent.TABLET&&(module$exports$Blockly$utils$userAgent.IPOD||module$exports$Blockly$utils$userAgent.IPHONE||module$exports$Blockly$utils$userAgent.ANDROID||b("IEMobile"))}($.module$exports$Blockly$utils$global.globalThis.navigator&&$.module$exports$Blockly$utils$global.globalThis.navigator.userAgent||"");var module$contents$Blockly$common_mainWorkspace,module$exports$Blockly$browserEvents={conditionalBind:function(a,b,c,d,e,f){var g=!1,h=function(p){var q=!e;p=(0,module$exports$Blockly$Touch.splitEventByTouches)(p);for(var r=0;r<p.length;r++){var t=p[r];q&&!(0,module$exports$Blockly$Touch.shouldHandleEvent)(t)||((0,module$exports$Blockly$Touch.setClientFromTouch)(t),c?d.call(c,t):d(t),g=!0)}},k=[];if($.module$exports$Blockly$utils$global.globalThis.PointerEvent&&b in module$exports$Blockly$Touch.TOUCH_MAP)for(var l=0;l<module$exports$Blockly$Touch.TOUCH_MAP[b].length;l++){var m=module$exports$Blockly$Touch.TOUCH_MAP[b][l];a.addEventListener(m,h,!1),k.push([a,m,h])}else if(a.addEventListener(b,h,!1),k.push([a,b,h]),b in module$exports$Blockly$Touch.TOUCH_MAP)for(l=function(p){h(p),g&&!f&&p.preventDefault()},m=0;m<module$exports$Blockly$Touch.TOUCH_MAP[b].length;m++){var n=module$exports$Blockly$Touch.TOUCH_MAP[b][m];a.addEventListener(n,l,!1),k.push([a,n,l])}return k},bind:function(a,b,c,d){var e=function(l){c?d.call(c,l):d(l)},f=[];if($.module$exports$Blockly$utils$global.globalThis.PointerEvent&&b in module$exports$Blockly$Touch.TOUCH_MAP)for(var g=0;g<module$exports$Blockly$Touch.TOUCH_MAP[b].length;g++){var h=module$exports$Blockly$Touch.TOUCH_MAP[b][g];a.addEventListener(h,e,!1),f.push([a,h,e])}else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in module$exports$Blockly$Touch.TOUCH_MAP)for(g=function(l){if(l.changedTouches&&1===l.changedTouches.length){var m=l.changedTouches[0];l.clientX=m.clientX,l.clientY=m.clientY}e(l),l.preventDefault()},h=0;h<module$exports$Blockly$Touch.TOUCH_MAP[b].length;h++){var k=module$exports$Blockly$Touch.TOUCH_MAP[b][h];a.addEventListener(k,g,!1),f.push([a,k,g])}return f},unbind:function(a){for(var b;a.length;){var c=(b=a.pop())[0],d=b[1];b=b[2],c.removeEventListener(d,b,!1)}return b},isTargetInput:function(a){return"textarea"===a.target.type||"text"===a.target.type||"number"===a.target.type||"email"===a.target.type||"password"===a.target.type||"search"===a.target.type||"tel"===a.target.type||"url"===a.target.type||a.target.isContentEditable||a.target.dataset&&"true"===a.target.dataset.isTextInput},isRightButton:function(a){return!(!a.ctrlKey||!module$exports$Blockly$utils$userAgent.MAC)||2===a.button},mouseToSvg:function(a,b,c){var d=b.createSVGPoint();return d.x=a.clientX,d.y=a.clientY,c||(c=b.getScreenCTM().inverse()),d.matrixTransform(c)},getScrollDeltaPixels:function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:40*a.deltaX,y:40*a.deltaY};case 2:return{x:125*a.deltaX,y:125*a.deltaY}}}},module$exports$Blockly$blocks={};module$exports$Blockly$blocks.Blocks=Object.create(null),$.module$exports$Blockly$common={},$.module$exports$Blockly$common.getMainWorkspace=function(){return module$contents$Blockly$common_mainWorkspace},$.module$exports$Blockly$common.setMainWorkspace=function(a){module$contents$Blockly$common_mainWorkspace=a};var module$contents$Blockly$common_parentContainer,module$contents$Blockly$common_selected=null;$.module$exports$Blockly$common.getSelected=function(){return module$contents$Blockly$common_selected},$.module$exports$Blockly$common.setSelected=function(a){module$contents$Blockly$common_selected=a},$.module$exports$Blockly$common.getParentContainer=function(){return module$contents$Blockly$common_parentContainer},$.module$exports$Blockly$common.setParentContainer=function(a){module$contents$Blockly$common_parentContainer=a},$.module$exports$Blockly$common.svgResize=function(a){for(;a.options.parentWorkspace;)a=a.options.parentWorkspace;var b=a.getParentSvg(),c=a.getCachedParentSvgSize(),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight,c.width!==e&&(b.setAttribute("width",e+"px"),a.setCachedParentSvgSize(e,null)),c.height!==d&&(b.setAttribute("height",d+"px"),a.setCachedParentSvgSize(null,d)),a.resize()}},$.module$exports$Blockly$common.draggingConnections=[],$.module$exports$Blockly$common.getBlockTypeCounts=function(a,b){var c=Object.create(null),d=a.getDescendants(!0);for(b&&(a=a.getNextBlock())&&(a=d.indexOf(a),d.splice(a,d.length-a)),a=0;b=d[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c};var module$contents$Blockly$common_jsonInitFactory=function(a){return function(){this.jsonInit(a)}};$.module$exports$Blockly$common.defineBlocksWithJsonArray=function(a){(0,$.module$exports$Blockly$common.defineBlocks)((0,$.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)(a))},$.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray=function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;e?b[e]={init:module$contents$Blockly$common_jsonInitFactory(d)}:console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping.")}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping")}return b},$.module$exports$Blockly$common.defineBlocks=function(a){for(var b=$.$jscomp.makeIterator(Object.keys(a)),c=b.next();!c.done;c=b.next()){var d=a[c=c.value];c in module$exports$Blockly$blocks.Blocks&&console.warn('Block definiton "'+c+'" overwrites previous definition.'),module$exports$Blockly$blocks.Blocks[c]=d}};var module$exports$Blockly$Tooltip={},module$contents$Blockly$Tooltip_customTooltip=void 0;module$exports$Blockly$Tooltip.setCustomTooltip=function(a){module$contents$Blockly$Tooltip_customTooltip=a},module$exports$Blockly$Tooltip.getCustomTooltip=function(){return module$contents$Blockly$Tooltip_customTooltip};var module$contents$Blockly$Tooltip_visible=!1;module$exports$Blockly$Tooltip.isVisible=function(){return module$contents$Blockly$Tooltip_visible},Object.defineProperties(module$exports$Blockly$Tooltip,{visible:{get:function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.Tooltip.visible","September 2021","September 2022","Blockly.Tooltip.isVisible()"),(0,module$exports$Blockly$Tooltip.isVisible)()}}});var module$contents$Blockly$Tooltip_blocked=!1;module$exports$Blockly$Tooltip.LIMIT=50;var module$contents$Blockly$Tooltip_mouseOutPid=0,module$contents$Blockly$Tooltip_showPid=0,module$contents$Blockly$Tooltip_lastX=0,module$contents$Blockly$Tooltip_lastY=0,module$contents$Blockly$Tooltip_element=null,module$contents$Blockly$Tooltip_poisonedElement=null;module$exports$Blockly$Tooltip.OFFSET_X=0,module$exports$Blockly$Tooltip.OFFSET_Y=10,module$exports$Blockly$Tooltip.RADIUS_OK=10,module$exports$Blockly$Tooltip.HOVER_MS=750,module$exports$Blockly$Tooltip.MARGINS=5;var module$contents$Blockly$Tooltip_DIV=null;module$exports$Blockly$Tooltip.getDiv=function(){return module$contents$Blockly$Tooltip_DIV},Object.defineProperties(module$exports$Blockly$Tooltip,{DIV:{get:function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.Tooltip.DIV","September 2021","September 2022","Blockly.Tooltip.getDiv()"),(0,module$exports$Blockly$Tooltip.getDiv)()}}}),module$exports$Blockly$Tooltip.getTooltipOfObject=function(a){if(a=module$contents$Blockly$Tooltip_getTargetObject(a)){for(a=a.tooltip;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};var module$contents$Blockly$Tooltip_getTargetObject=function(a){for(;a&&a.tooltip;){if("string"==typeof a.tooltip||"function"==typeof a.tooltip)return a;a=a.tooltip}return null};module$exports$Blockly$Tooltip.createDom=function(){module$contents$Blockly$Tooltip_DIV||((module$contents$Blockly$Tooltip_DIV=document.createElement("div")).className="blocklyTooltipDiv",((0,$.module$exports$Blockly$common.getParentContainer)()||document.body).appendChild(module$contents$Blockly$Tooltip_DIV))},module$exports$Blockly$Tooltip.bindMouseEvents=function(a){a.mouseOverWrapper_=(0,module$exports$Blockly$browserEvents.bind)(a,"mouseover",null,module$contents$Blockly$Tooltip_onMouseOver),a.mouseOutWrapper_=(0,module$exports$Blockly$browserEvents.bind)(a,"mouseout",null,module$contents$Blockly$Tooltip_onMouseOut),a.addEventListener("mousemove",module$contents$Blockly$Tooltip_onMouseMove,!1)},module$exports$Blockly$Tooltip.unbindMouseEvents=function(a){a&&((0,module$exports$Blockly$browserEvents.unbind)(a.mouseOverWrapper_),(0,module$exports$Blockly$browserEvents.unbind)(a.mouseOutWrapper_),a.removeEventListener("mousemove",module$contents$Blockly$Tooltip_onMouseMove))};var module$contents$Blockly$Tooltip_onMouseOver=function(a){module$contents$Blockly$Tooltip_blocked||(a=module$contents$Blockly$Tooltip_getTargetObject(a.currentTarget),module$contents$Blockly$Tooltip_element!==a&&((0,module$exports$Blockly$Tooltip.hide)(),module$contents$Blockly$Tooltip_poisonedElement=null,module$contents$Blockly$Tooltip_element=a),clearTimeout(module$contents$Blockly$Tooltip_mouseOutPid))},module$contents$Blockly$Tooltip_onMouseOut=function(a){module$contents$Blockly$Tooltip_blocked||(module$contents$Blockly$Tooltip_mouseOutPid=setTimeout((function(){module$contents$Blockly$Tooltip_poisonedElement=module$contents$Blockly$Tooltip_element=null,(0,module$exports$Blockly$Tooltip.hide)()}),1),clearTimeout(module$contents$Blockly$Tooltip_showPid))},module$contents$Blockly$Tooltip_onMouseMove=function(a){if(module$contents$Blockly$Tooltip_element&&module$contents$Blockly$Tooltip_element.tooltip&&!module$contents$Blockly$Tooltip_blocked)if(module$contents$Blockly$Tooltip_visible){var b=module$contents$Blockly$Tooltip_lastX-a.pageX;a=module$contents$Blockly$Tooltip_lastY-a.pageY,Math.sqrt(b*b+a*a)>module$exports$Blockly$Tooltip.RADIUS_OK&&(0,module$exports$Blockly$Tooltip.hide)()}else module$contents$Blockly$Tooltip_poisonedElement!==module$contents$Blockly$Tooltip_element&&(clearTimeout(module$contents$Blockly$Tooltip_showPid),module$contents$Blockly$Tooltip_lastX=a.pageX,module$contents$Blockly$Tooltip_lastY=a.pageY,module$contents$Blockly$Tooltip_showPid=setTimeout(module$contents$Blockly$Tooltip_show,module$exports$Blockly$Tooltip.HOVER_MS))};module$exports$Blockly$Tooltip.dispose=function(){module$contents$Blockly$Tooltip_poisonedElement=module$contents$Blockly$Tooltip_element=null,(0,module$exports$Blockly$Tooltip.hide)()},module$exports$Blockly$Tooltip.hide=function(){module$contents$Blockly$Tooltip_visible&&(module$contents$Blockly$Tooltip_visible=!1,module$contents$Blockly$Tooltip_DIV&&(module$contents$Blockly$Tooltip_DIV.style.display="none")),module$contents$Blockly$Tooltip_showPid&&clearTimeout(module$contents$Blockly$Tooltip_showPid)},module$exports$Blockly$Tooltip.block=function(){(0,module$exports$Blockly$Tooltip.hide)(),module$contents$Blockly$Tooltip_blocked=!0},module$exports$Blockly$Tooltip.unblock=function(){module$contents$Blockly$Tooltip_blocked=!1};var module$contents$Blockly$Tooltip_renderDefaultContent=function(){var a=(0,module$exports$Blockly$Tooltip.getTooltipOfObject)(module$contents$Blockly$Tooltip_element);a=(a=(0,$.module$exports$Blockly$utils$string.wrap)(a,module$exports$Blockly$Tooltip.LIMIT)).split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b])),module$contents$Blockly$Tooltip_DIV.appendChild(c)}},module$contents$Blockly$Tooltip_show=function(){if(!module$contents$Blockly$Tooltip_blocked&&(module$contents$Blockly$Tooltip_poisonedElement=module$contents$Blockly$Tooltip_element,module$contents$Blockly$Tooltip_DIV)){module$contents$Blockly$Tooltip_DIV.textContent="",module$contents$Blockly$Tooltip_DIV&&module$contents$Blockly$Tooltip_element&&("function"==typeof module$contents$Blockly$Tooltip_customTooltip?module$contents$Blockly$Tooltip_customTooltip(module$contents$Blockly$Tooltip_DIV,module$contents$Blockly$Tooltip_element):module$contents$Blockly$Tooltip_renderDefaultContent());var a=module$contents$Blockly$Tooltip_element.RTL;module$contents$Blockly$Tooltip_DIV.style.direction=a?"rtl":"ltr",module$contents$Blockly$Tooltip_DIV.style.display="block",module$contents$Blockly$Tooltip_visible=!0,a=function(a){var b=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=module$contents$Blockly$Tooltip_lastX;d=a?d-(module$exports$Blockly$Tooltip.OFFSET_X+module$contents$Blockly$Tooltip_DIV.offsetWidth):d+module$exports$Blockly$Tooltip.OFFSET_X;var e=module$contents$Blockly$Tooltip_lastY+module$exports$Blockly$Tooltip.OFFSET_Y;return e+module$contents$Blockly$Tooltip_DIV.offsetHeight>c+window.scrollY&&(e-=module$contents$Blockly$Tooltip_DIV.offsetHeight+2*module$exports$Blockly$Tooltip.OFFSET_Y),a?d=Math.max(module$exports$Blockly$Tooltip.MARGINS-window.scrollX,d):d+module$contents$Blockly$Tooltip_DIV.offsetWidth>b+window.scrollX-2*module$exports$Blockly$Tooltip.MARGINS&&(d=b-module$contents$Blockly$Tooltip_DIV.offsetWidth-2*module$exports$Blockly$Tooltip.MARGINS),{x:d,y:e}}(a);var b=a.y;module$contents$Blockly$Tooltip_DIV.style.left=a.x+"px",module$contents$Blockly$Tooltip_DIV.style.top=b+"px"}},module$exports$Blockly$utils$dom={SVG_NS:"http://www.w3.org/2000/svg",HTML_NS:"http://www.w3.org/1999/xhtml",XLINK_NS:"http://www.w3.org/1999/xlink",NodeType:{ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16}},module$contents$Blockly$utils$dom_cacheWidths=null,module$contents$Blockly$utils$dom_cacheReference=0,module$contents$Blockly$utils$dom_canvasContext=null;module$exports$Blockly$utils$dom.createSvgElement=function(a,b,c){for(var d in a=document.createElementNS(module$exports$Blockly$utils$dom.SVG_NS,String(a)),b)a.setAttribute(d,b[d]);return document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style),c&&c.appendChild(a),a},module$exports$Blockly$utils$dom.addClass=function(a,b){var c=a.getAttribute("class")||"";return-1===(" "+c+" ").indexOf(" "+b+" ")&&(c&&(c+=" "),a.setAttribute("class",c+b),!0)},module$exports$Blockly$utils$dom.removeClasses=function(a,b){b=b.split(" ");for(var c=0;c<b.length;c++)(0,module$exports$Blockly$utils$dom.removeClass)(a,b[c])},module$exports$Blockly$utils$dom.removeClass=function(a,b){var c=a.getAttribute("class");if(-1===(" "+c+" ").indexOf(" "+b+" "))return!1;c=c.split(/\s+/);for(var d=0;d<c.length;d++)c[d]&&c[d]!==b||(c.splice(d,1),d--);return c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class"),!0},module$exports$Blockly$utils$dom.hasClass=function(a,b){return-1!==(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")},module$exports$Blockly$utils$dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},module$exports$Blockly$utils$dom.insertAfter=function(a,b){var c=b.nextSibling;if(!(b=b.parentNode))throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)},module$exports$Blockly$utils$dom.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&module$exports$Blockly$utils$dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},module$exports$Blockly$utils$dom.setCssTransform=function(a,b){a.style.transform=b,a.style["-webkit-transform"]=b},module$exports$Blockly$utils$dom.startTextWidthCache=function(){module$contents$Blockly$utils$dom_cacheReference++,module$contents$Blockly$utils$dom_cacheWidths||(module$contents$Blockly$utils$dom_cacheWidths=Object.create(null))},module$exports$Blockly$utils$dom.stopTextWidthCache=function(){--module$contents$Blockly$utils$dom_cacheReference||(module$contents$Blockly$utils$dom_cacheWidths=null)},module$exports$Blockly$utils$dom.getTextWidth=function(a){var c,b=a.textContent+"\n"+a.className.baseVal;if(module$contents$Blockly$utils$dom_cacheWidths&&(c=module$contents$Blockly$utils$dom_cacheWidths[b]))return c;try{c=module$exports$Blockly$utils$userAgent.IE||module$exports$Blockly$utils$userAgent.EDGE?a.getBBox().width:a.getComputedTextLength()}catch(d){return 8*a.textContent.length}return module$contents$Blockly$utils$dom_cacheWidths&&(module$contents$Blockly$utils$dom_cacheWidths[b]=c),c},module$exports$Blockly$utils$dom.getFastTextWidth=function(a,b,c,d){return(0,module$exports$Blockly$utils$dom.getFastTextWidthWithSizeString)(a,b+"pt",c,d)},module$exports$Blockly$utils$dom.getFastTextWidthWithSizeString=function(a,b,c,d){var f,e=a.textContent;return a=e+"\n"+a.className.baseVal,module$contents$Blockly$utils$dom_cacheWidths&&(f=module$contents$Blockly$utils$dom_cacheWidths[a])||(module$contents$Blockly$utils$dom_canvasContext||((f=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(f),module$contents$Blockly$utils$dom_canvasContext=f.getContext("2d")),module$contents$Blockly$utils$dom_canvasContext.font=c+" "+b+" "+d,f=module$contents$Blockly$utils$dom_canvasContext.measureText(e).width,module$contents$Blockly$utils$dom_cacheWidths&&(module$contents$Blockly$utils$dom_cacheWidths[a]=f)),f},module$exports$Blockly$utils$dom.measureFontMetrics=function(a,b,c,d){var e=document.createElement("span");e.style.font=c+" "+b+" "+d,e.textContent=a,(a=document.createElement("div")).style.width="1px",a.style.height=0,(b=document.createElement("div")).setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),b.appendChild(e),b.appendChild(a),document.body.appendChild(b),c={height:0,baseline:0};try{b.style.alignItems="baseline",c.baseline=a.offsetTop-e.offsetTop,b.style.alignItems="flex-end",c.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(b)}return c};var module$contents$Blockly$WidgetDiv_DIV,module$exports$Blockly$WidgetDiv={},module$contents$Blockly$WidgetDiv_owner=null,module$contents$Blockly$WidgetDiv_dispose=null,module$contents$Blockly$WidgetDiv_rendererClassName="",module$contents$Blockly$WidgetDiv_themeClassName="";module$exports$Blockly$WidgetDiv.getDiv=function(){return module$contents$Blockly$WidgetDiv_DIV},module$exports$Blockly$WidgetDiv.testOnly_setDiv=function(a){module$contents$Blockly$WidgetDiv_DIV=a},Object.defineProperties(module$exports$Blockly$WidgetDiv,{DIV:{get:function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.WidgetDiv.DIV","September 2021","September 2022","Blockly.WidgetDiv.getDiv()"),(0,module$exports$Blockly$WidgetDiv.getDiv)()}}}),module$exports$Blockly$WidgetDiv.createDom=function(){module$contents$Blockly$WidgetDiv_DIV||((module$contents$Blockly$WidgetDiv_DIV=document.createElement("div")).className="blocklyWidgetDiv",((0,$.module$exports$Blockly$common.getParentContainer)()||document.body).appendChild(module$contents$Blockly$WidgetDiv_DIV))},module$exports$Blockly$WidgetDiv.show=function(a,b,c){(0,module$exports$Blockly$WidgetDiv.hide)(),module$contents$Blockly$WidgetDiv_owner=a,module$contents$Blockly$WidgetDiv_dispose=c,(a=module$contents$Blockly$WidgetDiv_DIV).style.direction=b?"rtl":"ltr",a.style.display="block",b=(0,$.module$exports$Blockly$common.getMainWorkspace)(),module$contents$Blockly$WidgetDiv_rendererClassName=b.getRenderer().getClassName(),module$contents$Blockly$WidgetDiv_themeClassName=b.getTheme().getClassName(),(0,module$exports$Blockly$utils$dom.addClass)(a,module$contents$Blockly$WidgetDiv_rendererClassName),(0,module$exports$Blockly$utils$dom.addClass)(a,module$contents$Blockly$WidgetDiv_themeClassName)},module$exports$Blockly$WidgetDiv.hide=function(){if((0,module$exports$Blockly$WidgetDiv.isVisible)()){module$contents$Blockly$WidgetDiv_owner=null;var a=module$contents$Blockly$WidgetDiv_DIV;a.style.display="none",a.style.left="",a.style.top="",module$contents$Blockly$WidgetDiv_dispose&&module$contents$Blockly$WidgetDiv_dispose(),module$contents$Blockly$WidgetDiv_dispose=null,a.textContent="",module$contents$Blockly$WidgetDiv_rendererClassName&&((0,module$exports$Blockly$utils$dom.removeClass)(a,module$contents$Blockly$WidgetDiv_rendererClassName),module$contents$Blockly$WidgetDiv_rendererClassName=""),module$contents$Blockly$WidgetDiv_themeClassName&&((0,module$exports$Blockly$utils$dom.removeClass)(a,module$contents$Blockly$WidgetDiv_themeClassName),module$contents$Blockly$WidgetDiv_themeClassName=""),(0,$.module$exports$Blockly$common.getMainWorkspace)().markFocused()}},module$exports$Blockly$WidgetDiv.isVisible=function(){return!!module$contents$Blockly$WidgetDiv_owner},module$exports$Blockly$WidgetDiv.hideIfOwner=function(a){module$contents$Blockly$WidgetDiv_owner===a&&(0,module$exports$Blockly$WidgetDiv.hide)()};var module$contents$Blockly$WidgetDiv_positionInternal=function(a,b,c){module$contents$Blockly$WidgetDiv_DIV.style.left=a+"px",module$contents$Blockly$WidgetDiv_DIV.style.top=b+"px",module$contents$Blockly$WidgetDiv_DIV.style.height=c+"px"};module$exports$Blockly$WidgetDiv.positionWithAnchor=function(a,b,c,d){var e=module$contents$Blockly$WidgetDiv_calculateY(a,b,c);a=module$contents$Blockly$WidgetDiv_calculateX(a,b,c,d),0>e?module$contents$Blockly$WidgetDiv_positionInternal(a,0,c.height+e):module$contents$Blockly$WidgetDiv_positionInternal(a,e,c.height)};var module$contents$Blockly$WidgetDiv_calculateX=function(a,b,c,d){return d?Math.min(Math.max(b.right-c.width,a.left),a.right-c.width):Math.max(Math.min(b.left,a.right-c.width),a.left)},module$contents$Blockly$WidgetDiv_calculateY=function(a,b,c){return b.bottom+c.height>=a.bottom?b.top-c.height:b.bottom},module$exports$Blockly$utils$aria={Role:{GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},State:{ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},setRole:function(a,b){a.setAttribute("role",b)},setState:function(a,b,c){Array.isArray(c)&&(c=c.join(" ")),a.setAttribute("aria-"+b,c)}},module$exports$Blockly$utils$idGenerator={TEST_ONLY:{}},module$contents$Blockly$utils$idGenerator_nextId=0;module$exports$Blockly$utils$idGenerator.getNextUniqueId=function(){return"blockly-"+(module$contents$Blockly$utils$idGenerator_nextId++).toString(36)},module$exports$Blockly$utils$idGenerator.TEST_ONLY.genUid=function(){for(var a="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".length,b=[],c=0;20>c;c++)b[c]="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.random()*a);return b.join("")},module$exports$Blockly$utils$idGenerator.genUid=function(){return module$exports$Blockly$utils$idGenerator.TEST_ONLY.genUid()};var module$exports$Blockly$registry={},module$contents$Blockly$registry_typeMap=Object.create(null);module$exports$Blockly$registry.TEST_ONLY={typeMap:module$contents$Blockly$registry_typeMap};var module$contents$Blockly$registry_nameMap=Object.create(null);module$exports$Blockly$registry.DEFAULT="default",module$exports$Blockly$registry.Type=function(a){this.name_=a},module$exports$Blockly$registry.Type.prototype.toString=function(){return this.name_},module$exports$Blockly$registry.Type.CONNECTION_CHECKER=new module$exports$Blockly$registry.Type("connectionChecker"),module$exports$Blockly$registry.Type.CURSOR=new module$exports$Blockly$registry.Type("cursor"),module$exports$Blockly$registry.Type.EVENT=new module$exports$Blockly$registry.Type("event"),module$exports$Blockly$registry.Type.FIELD=new module$exports$Blockly$registry.Type("field"),module$exports$Blockly$registry.Type.RENDERER=new module$exports$Blockly$registry.Type("renderer"),module$exports$Blockly$registry.Type.TOOLBOX=new module$exports$Blockly$registry.Type("toolbox"),module$exports$Blockly$registry.Type.THEME=new module$exports$Blockly$registry.Type("theme"),module$exports$Blockly$registry.Type.TOOLBOX_ITEM=new module$exports$Blockly$registry.Type("toolboxItem"),module$exports$Blockly$registry.Type.FLYOUTS_VERTICAL_TOOLBOX=new module$exports$Blockly$registry.Type("flyoutsVerticalToolbox"),module$exports$Blockly$registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new module$exports$Blockly$registry.Type("flyoutsHorizontalToolbox"),module$exports$Blockly$registry.Type.METRICS_MANAGER=new module$exports$Blockly$registry.Type("metricsManager"),module$exports$Blockly$registry.Type.BLOCK_DRAGGER=new module$exports$Blockly$registry.Type("blockDragger"),module$exports$Blockly$registry.Type.SERIALIZER=new module$exports$Blockly$registry.Type("serializer"),module$exports$Blockly$registry.register=function(a,b,c,d){if(!(a instanceof module$exports$Blockly$registry.Type)&&"string"!=typeof a||""===String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');if(a=String(a).toLowerCase(),"string"!=typeof b||""===b.trim())throw Error('Invalid name "'+b+'". The name must be a non-empty string.');var e=b.toLowerCase();if(!c)throw Error("Can not register a null value");var f=module$contents$Blockly$registry_typeMap[a],g=module$contents$Blockly$registry_nameMap[a];if(f||(f=module$contents$Blockly$registry_typeMap[a]=Object.create(null),g=module$contents$Blockly$registry_nameMap[a]=Object.create(null)),module$contents$Blockly$registry_validate(a,c),!d&&f[e])throw Error('Name "'+e+'" with type "'+a+'" already registered.');f[e]=c,g[e]=b};var module$contents$Blockly$registry_validate=function(a,b){if(a===String(module$exports$Blockly$registry.Type.FIELD)&&"function"!=typeof b.fromJson)throw Error('Type "'+a+'" must have a fromJson function')};module$exports$Blockly$registry.unregister=function(a,b){a=String(a).toLowerCase(),b=b.toLowerCase();var c=module$contents$Blockly$registry_typeMap[a];c&&c[b]?(delete module$contents$Blockly$registry_typeMap[a][b],delete module$contents$Blockly$registry_nameMap[a][b]):console.warn("Unable to unregister ["+b+"]["+a+"] from the registry.")};var module$contents$Blockly$registry_getItem=function(a,b,c){a=String(a).toLowerCase(),b=b.toLowerCase();var d=module$contents$Blockly$registry_typeMap[a];if(!d||!d[b]){if(b="Unable to find ["+b+"]["+a+"] in the registry.",c)throw Error(b+" You must require or register a "+a+" plugin.");return console.warn(b),null}return d[b]};module$exports$Blockly$registry.hasItem=function(a,b){return a=String(a).toLowerCase(),b=b.toLowerCase(),!!(a=module$contents$Blockly$registry_typeMap[a])&&!!a[b]},module$exports$Blockly$registry.getClass=function(a,b,c){return module$contents$Blockly$registry_getItem(a,b,c)},module$exports$Blockly$registry.getObject=function(a,b,c){return module$contents$Blockly$registry_getItem(a,b,c)},module$exports$Blockly$registry.getAllItems=function(a,b,c){a=String(a).toLowerCase();var d=module$contents$Blockly$registry_typeMap[a];if(!d){if(d="Unable to find ["+a+"] in the registry.",c)throw Error(d+" You must require or register a "+a+" plugin.");return console.warn(d),null}if(!b)return d;a=module$contents$Blockly$registry_nameMap[a],c=Object.create(null),b=Object.keys(d);for(var e=0;e<b.length;e++){var f=b[e];c[a[f]]=d[f]}return c},module$exports$Blockly$registry.getClassFromOptions=function(a,b,c){return"function"==typeof(b=b.plugins[a.toString()]||module$exports$Blockly$registry.DEFAULT)?b:(0,module$exports$Blockly$registry.getClass)(a,b,c)};var module$exports$Blockly$Events$utils={},module$contents$Blockly$Events$utils_group="",module$contents$Blockly$Events$utils_recordUndo=!0;module$exports$Blockly$Events$utils.setRecordUndo=function(a){module$contents$Blockly$Events$utils_recordUndo=a},module$exports$Blockly$Events$utils.getRecordUndo=function(){return module$contents$Blockly$Events$utils_recordUndo};var module$contents$Blockly$Events$utils_disabled=0;module$exports$Blockly$Events$utils.CREATE="create",module$exports$Blockly$Events$utils.BLOCK_CREATE=module$exports$Blockly$Events$utils.CREATE,module$exports$Blockly$Events$utils.DELETE="delete",module$exports$Blockly$Events$utils.BLOCK_DELETE=module$exports$Blockly$Events$utils.DELETE,module$exports$Blockly$Events$utils.CHANGE="change",module$exports$Blockly$Events$utils.BLOCK_CHANGE=module$exports$Blockly$Events$utils.CHANGE,module$exports$Blockly$Events$utils.MOVE="move",module$exports$Blockly$Events$utils.BLOCK_MOVE=module$exports$Blockly$Events$utils.MOVE,module$exports$Blockly$Events$utils.VAR_CREATE="var_create",module$exports$Blockly$Events$utils.VAR_DELETE="var_delete",module$exports$Blockly$Events$utils.VAR_RENAME="var_rename",module$exports$Blockly$Events$utils.UI="ui",module$exports$Blockly$Events$utils.BLOCK_DRAG="drag",module$exports$Blockly$Events$utils.SELECTED="selected",module$exports$Blockly$Events$utils.CLICK="click",module$exports$Blockly$Events$utils.MARKER_MOVE="marker_move",module$exports$Blockly$Events$utils.BUBBLE_OPEN="bubble_open",module$exports$Blockly$Events$utils.TRASHCAN_OPEN="trashcan_open",module$exports$Blockly$Events$utils.TOOLBOX_ITEM_SELECT="toolbox_item_select",module$exports$Blockly$Events$utils.THEME_CHANGE="theme_change",module$exports$Blockly$Events$utils.VIEWPORT_CHANGE="viewport_change",module$exports$Blockly$Events$utils.COMMENT_CREATE="comment_create",module$exports$Blockly$Events$utils.COMMENT_DELETE="comment_delete",module$exports$Blockly$Events$utils.COMMENT_CHANGE="comment_change",module$exports$Blockly$Events$utils.COMMENT_MOVE="comment_move",module$exports$Blockly$Events$utils.FINISHED_LOADING="finished_loading",module$exports$Blockly$Events$utils.BUMP_EVENTS=[module$exports$Blockly$Events$utils.CREATE,module$exports$Blockly$Events$utils.MOVE,module$exports$Blockly$Events$utils.COMMENT_CREATE,module$exports$Blockly$Events$utils.COMMENT_MOVE];var module$contents$Blockly$Events$utils_FIRE_QUEUE=[];module$exports$Blockly$Events$utils.fire=function(a){(0,module$exports$Blockly$Events$utils.isEnabled)()&&(module$contents$Blockly$Events$utils_FIRE_QUEUE.length||setTimeout(module$contents$Blockly$Events$utils_fireNow,0),module$contents$Blockly$Events$utils_FIRE_QUEUE.push(a))};var module$contents$Blockly$Events$utils_fireNow=function(){for(var c,a=(0,module$exports$Blockly$Events$utils.filter)(module$contents$Blockly$Events$utils_FIRE_QUEUE,!0),b=module$contents$Blockly$Events$utils_FIRE_QUEUE.length=0;c=a[b];b++)if(c.workspaceId){var d=module$exports$Blockly$Workspace.Workspace.getById(c.workspaceId);d&&d.fireChangeListener(c)}};module$exports$Blockly$Events$utils.filter=function(a,b){a=a.slice(),b||a.reverse();for(var c=[],d=Object.create(null),e=0,f=void 0;f=a[e];e++)if(!f.isNull()){var g=[f.isUiEvent?module$exports$Blockly$Events$utils.UI:f.type,f.blockId,f.workspaceId].join(" "),h=d[g],k=h?h.event:null;h?f.type===module$exports$Blockly$Events$utils.MOVE&&h.index===e-1?(k.newParentId=f.newParentId,k.newInputName=f.newInputName,k.newCoordinate=f.newCoordinate,h.index=e):f.type===module$exports$Blockly$Events$utils.CHANGE&&f.element===k.element&&f.name===k.name?k.newValue=f.newValue:f.type===module$exports$Blockly$Events$utils.VIEWPORT_CHANGE?(h=f,k.viewTop=h.viewTop,k.viewLeft=h.viewLeft,k.scale=h.scale,k.oldScale=h.oldScale):f.type===module$exports$Blockly$Events$utils.CLICK&&k.type===module$exports$Blockly$Events$utils.BUBBLE_OPEN||(d[g]={event:f,index:e},c.push(f)):(d[g]={event:f,index:e},c.push(f))}for(a=c.filter((function(l){return!l.isNull()})),b||a.reverse(),b=1,c=void 0;c=a[b];b++)c.type===module$exports$Blockly$Events$utils.CHANGE&&"mutation"===c.element&&a.unshift(a.splice(b,1)[0]);return a},module$exports$Blockly$Events$utils.clearPendingUndo=function(){for(var b,a=0;b=module$contents$Blockly$Events$utils_FIRE_QUEUE[a];a++)b.recordUndo=!1},module$exports$Blockly$Events$utils.disable=function(){module$contents$Blockly$Events$utils_disabled++},module$exports$Blockly$Events$utils.enable=function(){module$contents$Blockly$Events$utils_disabled--},module$exports$Blockly$Events$utils.isEnabled=function(){return 0===module$contents$Blockly$Events$utils_disabled},module$exports$Blockly$Events$utils.getGroup=function(){return module$contents$Blockly$Events$utils_group},module$exports$Blockly$Events$utils.setGroup=function(a){module$contents$Blockly$Events$utils_group="boolean"==typeof a?a?(0,module$exports$Blockly$utils$idGenerator.genUid)():"":a},module$exports$Blockly$Events$utils.getDescendantIds=function(a){var b=[];a=a.getDescendants(!1);for(var d,c=0;d=a[c];c++)b[c]=d.id;return b},module$exports$Blockly$Events$utils.fromJson=function(a,b){var c=(0,module$exports$Blockly$Events$utils.get)(a.type);if(!c)throw Error("Unknown event type.");return(c=new c).fromJson(a),c.workspaceId=b.id,c},module$exports$Blockly$Events$utils.get=function(a){return(0,module$exports$Blockly$registry.getClass)(module$exports$Blockly$registry.Type.EVENT,a)},module$exports$Blockly$Events$utils.disableOrphans=function(a){if((a.type===module$exports$Blockly$Events$utils.MOVE||a.type===module$exports$Blockly$Events$utils.CREATE)&&a.workspaceId){var b=module$exports$Blockly$Workspace.Workspace.getById(a.workspaceId),c=b.getBlockById(a.blockId);if(c){a=module$contents$Blockly$Events$utils_recordUndo;try{module$contents$Blockly$Events$utils_recordUndo=!1;var d=c.getParent();if(d&&d.isEnabled()){var e=c.getDescendants(!1);for(b=0,d=void 0;d=e[b];b++)d.setEnabled(!0)}else if((c.outputConnection||c.previousConnection)&&!b.isDragging())do{c.setEnabled(!1),c=c.getNextBlock()}while(c)}finally{module$contents$Blockly$Events$utils_recordUndo=a}}}},module$exports$Blockly$Events$utils.TEST_ONLY={FIRE_QUEUE:module$contents$Blockly$Events$utils_FIRE_QUEUE,fireNow:module$contents$Blockly$Events$utils_fireNow};var module$exports$Blockly$utils$math={toRadians:function(a){return a*Math.PI/180},toDegrees:function(a){return 180*a/Math.PI},clamp:function(a,b,c){if(c<a){var d=c;c=a,a=d}return Math.max(a,Math.min(b,c))}},module$exports$Blockly$bumpObjects={bumpIntoBounds:function(a,b,c){var d=c.getBoundingRectangle(),e=d.right-d.left,f=(0,module$exports$Blockly$utils$math.clamp)(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top,g=b.left;return b=b.left+b.width-e,a.RTL?g=Math.min(b,g):b=Math.max(g,b),!(!(a=(0,module$exports$Blockly$utils$math.clamp)(g,d.left,b)-d.left)&&!f||(c.moveBy(a,f),0))},bumpIntoBoundsHandler:function(a){return function(b){var c=a.getMetricsManager();if(c.hasFixedEdges()&&!a.isDragging())if(-1!==module$exports$Blockly$Events$utils.BUMP_EVENTS.indexOf(b.type)){c=c.getScrollMetrics(!0);var d=module$contents$Blockly$bumpObjects_extractObjectFromEvent(a,b);if(d){var e=(0,module$exports$Blockly$Events$utils.getGroup)();(0,module$exports$Blockly$Events$utils.setGroup)(b.group),(0,module$exports$Blockly$bumpObjects.bumpIntoBounds)(a,c,d)&&!b.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==e&&(0,module$exports$Blockly$Events$utils.setGroup)(e)}}else b.type===module$exports$Blockly$Events$utils.VIEWPORT_CHANGE&&b.scale>b.oldScale&&(0,module$exports$Blockly$bumpObjects.bumpTopObjectsIntoBounds)(a)}}},module$contents$Blockly$bumpObjects_extractObjectFromEvent=function(a,b){var c=null;switch(b.type){case module$exports$Blockly$Events$utils.CREATE:case module$exports$Blockly$Events$utils.MOVE:(c=a.getBlockById(b.blockId))&&(c=c.getRootBlock());break;case module$exports$Blockly$Events$utils.COMMENT_CREATE:case module$exports$Blockly$Events$utils.COMMENT_MOVE:c=a.getCommentById(b.commentId)}return c};module$exports$Blockly$bumpObjects.bumpTopObjectsIntoBounds=function(a){var b=a.getMetricsManager();if(b.hasFixedEdges()&&!a.isDragging()){b=b.getScrollMetrics(!0);for(var e,c=a.getTopBoundedElements(),d=0;e=c[d];d++)(0,module$exports$Blockly$bumpObjects.bumpIntoBounds)(a,b,e)}};var module$exports$Blockly$utils$Coordinate={Coordinate:function(a,b){this.x=a,this.y=b}};module$exports$Blockly$utils$Coordinate.Coordinate.prototype.clone=function(){return new module$exports$Blockly$utils$Coordinate.Coordinate(this.x,this.y)},module$exports$Blockly$utils$Coordinate.Coordinate.prototype.scale=function(a){return this.x*=a,this.y*=a,this},module$exports$Blockly$utils$Coordinate.Coordinate.prototype.translate=function(a,b){return this.x+=a,this.y+=b,this},module$exports$Blockly$utils$Coordinate.Coordinate.equals=function(a,b){return a===b||!(!a||!b)&&a.x===b.x&&a.y===b.y},module$exports$Blockly$utils$Coordinate.Coordinate.distance=function(a,b){var c=a.x-b.x;return a=a.y-b.y,Math.sqrt(c*c+a*a)},module$exports$Blockly$utils$Coordinate.Coordinate.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},module$exports$Blockly$utils$Coordinate.Coordinate.difference=function(a,b){return new module$exports$Blockly$utils$Coordinate.Coordinate(a.x-b.x,a.y-b.y)},module$exports$Blockly$utils$Coordinate.Coordinate.sum=function(a,b){return new module$exports$Blockly$utils$Coordinate.Coordinate(a.x+b.x,a.y+b.y)};var module$exports$Blockly$utils$Size={Size:function(a,b){this.width=a,this.height=b}};module$exports$Blockly$utils$Size.Size.equals=function(a,b){return a===b||!(!a||!b)&&a.width===b.width&&a.height===b.height};var module$exports$Blockly$utils$style={getSize:function(a){if("none"!==module$contents$Blockly$utils$style_getStyle(a,"display"))return module$contents$Blockly$utils$style_getSizeWithDisplay(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden",b.position="absolute",b.display="inline";var f=a.offsetWidth;return a=a.offsetHeight,b.display=c,b.position=e,b.visibility=d,new module$exports$Blockly$utils$Size.Size(f,a)}},module$contents$Blockly$utils$style_getSizeWithDisplay=function(a){return new module$exports$Blockly$utils$Size.Size(a.offsetWidth,a.offsetHeight)},module$contents$Blockly$utils$style_getStyle=function(a,b){return(0,module$exports$Blockly$utils$style.getComputedStyle)(a,b)||(0,module$exports$Blockly$utils$style.getCascadedStyle)(a,b)||a.style&&a.style[b]};module$exports$Blockly$utils$style.getComputedStyle=function(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))&&(a[b]||a.getPropertyValue(b))||""},module$exports$Blockly$utils$style.getCascadedStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:null},module$exports$Blockly$utils$style.getPageOffset=function(a){var b=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0);a=a.getBoundingClientRect();var c=document.documentElement;return c=new module$exports$Blockly$utils$Coordinate.Coordinate(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop),b.x=a.left+c.x,b.y=a.top+c.y,b},module$exports$Blockly$utils$style.getViewportPageOffset=function(){var a=document.body,b=document.documentElement;return new module$exports$Blockly$utils$Coordinate.Coordinate(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop)},module$exports$Blockly$utils$style.setElementShown=function(a,b){a.style.display=b?"":"none"},module$exports$Blockly$utils$style.isRightToLeft=function(a){return"rtl"===module$contents$Blockly$utils$style_getStyle(a,"direction")},module$exports$Blockly$utils$style.getBorderBox=function(a){var b=(0,module$exports$Blockly$utils$style.getComputedStyle)(a,"borderLeftWidth"),c=(0,module$exports$Blockly$utils$style.getComputedStyle)(a,"borderRightWidth"),d=(0,module$exports$Blockly$utils$style.getComputedStyle)(a,"borderTopWidth");return a=(0,module$exports$Blockly$utils$style.getComputedStyle)(a,"borderBottomWidth"),{top:parseFloat(d),right:parseFloat(c),bottom:parseFloat(a),left:parseFloat(b)}},module$exports$Blockly$utils$style.scrollIntoContainerView=function(a,b,c){a=(0,module$exports$Blockly$utils$style.getContainerOffsetToScrollInto)(a,b,c),b.scrollLeft=a.x,b.scrollTop=a.y},module$exports$Blockly$utils$style.getContainerOffsetToScrollInto=function(a,b,c){var d=(0,module$exports$Blockly$utils$style.getPageOffset)(a),e=(0,module$exports$Blockly$utils$style.getPageOffset)(b),f=(0,module$exports$Blockly$utils$style.getBorderBox)(b),g=d.x-e.x-f.left;return d=d.y-e.y-f.top,e=module$contents$Blockly$utils$style_getSizeWithDisplay(a),a=b.clientWidth-e.width,e=b.clientHeight-e.height,f=b.scrollLeft,b=b.scrollTop,c?(f+=g-a/2,b+=d-e/2):(f+=Math.min(g,Math.max(g-a,0)),b+=Math.min(d,Math.max(d-e,0))),new module$exports$Blockly$utils$Coordinate.Coordinate(f,b)};var module$exports$Blockly$utils$Rect={Rect:function(a,b,c,d){this.top=a,this.bottom=b,this.left=c,this.right=d}};module$exports$Blockly$utils$Rect.Rect.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom},module$exports$Blockly$utils$Rect.Rect.prototype.intersects=function(a){return!(this.left>a.right||this.right<a.left||this.top>a.bottom||this.bottom<a.top)};var module$contents$Blockly$dropDownDiv_div,module$contents$Blockly$dropDownDiv_content,module$contents$Blockly$dropDownDiv_arrow,module$exports$Blockly$dropDownDiv={ARROW_SIZE:16,BORDER_SIZE:1,ARROW_HORIZONTAL_PADDING:12,PADDING_Y:16,ANIMATION_TIME:.25},module$contents$Blockly$dropDownDiv_animateOutTimer=null,module$contents$Blockly$dropDownDiv_onHide=null,module$contents$Blockly$dropDownDiv_renderedClassName="",module$contents$Blockly$dropDownDiv_themeClassName="",module$contents$Blockly$dropDownDiv_boundsElement=null,module$contents$Blockly$dropDownDiv_owner=null,module$contents$Blockly$dropDownDiv_positionToField=null;module$exports$Blockly$dropDownDiv.createDom=function(){module$contents$Blockly$dropDownDiv_div||((module$contents$Blockly$dropDownDiv_div=document.createElement("div")).className="blocklyDropDownDiv",((0,$.module$exports$Blockly$common.getParentContainer)()||document.body).appendChild(module$contents$Blockly$dropDownDiv_div),(module$contents$Blockly$dropDownDiv_content=document.createElement("div")).className="blocklyDropDownContent",module$contents$Blockly$dropDownDiv_div.appendChild(module$contents$Blockly$dropDownDiv_content),(module$contents$Blockly$dropDownDiv_arrow=document.createElement("div")).className="blocklyDropDownArrow",module$contents$Blockly$dropDownDiv_div.appendChild(module$contents$Blockly$dropDownDiv_arrow),module$contents$Blockly$dropDownDiv_div.style.opacity=0,module$contents$Blockly$dropDownDiv_div.style.transition="transform "+module$exports$Blockly$dropDownDiv.ANIMATION_TIME+"s, opacity "+module$exports$Blockly$dropDownDiv.ANIMATION_TIME+"s",module$contents$Blockly$dropDownDiv_div.addEventListener("focusin",(function(){(0,module$exports$Blockly$utils$dom.addClass)(module$contents$Blockly$dropDownDiv_div,"blocklyFocused")})),module$contents$Blockly$dropDownDiv_div.addEventListener("focusout",(function(){(0,module$exports$Blockly$utils$dom.removeClass)(module$contents$Blockly$dropDownDiv_div,"blocklyFocused")})))},module$exports$Blockly$dropDownDiv.setBoundsElement=function(a){module$contents$Blockly$dropDownDiv_boundsElement=a},module$exports$Blockly$dropDownDiv.getContentDiv=function(){return module$contents$Blockly$dropDownDiv_content},module$exports$Blockly$dropDownDiv.clearContent=function(){module$contents$Blockly$dropDownDiv_content.textContent="",module$contents$Blockly$dropDownDiv_content.style.width=""},module$exports$Blockly$dropDownDiv.setColour=function(a,b){module$contents$Blockly$dropDownDiv_div.style.backgroundColor=a,module$contents$Blockly$dropDownDiv_div.style.borderColor=b},module$exports$Blockly$dropDownDiv.showPositionedByBlock=function(a,b,c,d){return module$contents$Blockly$dropDownDiv_showPositionedByRect(module$contents$Blockly$dropDownDiv_getScaledBboxOfBlock(b),a,c,d)},module$exports$Blockly$dropDownDiv.showPositionedByField=function(a,b,c){return module$contents$Blockly$dropDownDiv_positionToField=!0,module$contents$Blockly$dropDownDiv_showPositionedByRect(module$contents$Blockly$dropDownDiv_getScaledBboxOfField(a),a,b,c)};var module$contents$Blockly$dropDownDiv_getScaledBboxOfBlock=function(a){var b=a.getSvgRoot(),c=b.getBBox(),d=a.workspace.scale;return a=c.height*d,c=c.width*d,b=(0,module$exports$Blockly$utils$style.getPageOffset)(b),new module$exports$Blockly$utils$Rect.Rect(b.y,b.y+a,b.x,b.x+c)},module$contents$Blockly$dropDownDiv_getScaledBboxOfField=function(a){return a=a.getScaledBBox(),new module$exports$Blockly$utils$Rect.Rect(a.top,a.bottom,a.left,a.right)},module$contents$Blockly$dropDownDiv_showPositionedByRect=function(a,b,c,d){var e=a.left+(a.right-a.left)/2,f=a.bottom;a=a.top,d&&(a+=d);for(var g=(d=b.getSourceBlock()).workspace;g.options.parentWorkspace;)g=g.options.parentWorkspace;return(0,module$exports$Blockly$dropDownDiv.setBoundsElement)(g.getParentSvg().parentNode),(0,module$exports$Blockly$dropDownDiv.show)(b,d.RTL,e,f,e,a,c)};module$exports$Blockly$dropDownDiv.show=function(a,b,c,d,e,f,g){return module$contents$Blockly$dropDownDiv_owner=a,module$contents$Blockly$dropDownDiv_onHide=g||null,module$contents$Blockly$dropDownDiv_div.style.direction=b?"rtl":"ltr",a=(0,$.module$exports$Blockly$common.getMainWorkspace)(),module$contents$Blockly$dropDownDiv_renderedClassName=a.getRenderer().getClassName(),module$contents$Blockly$dropDownDiv_themeClassName=a.getTheme().getClassName(),(0,module$exports$Blockly$utils$dom.addClass)(module$contents$Blockly$dropDownDiv_div,module$contents$Blockly$dropDownDiv_renderedClassName),(0,module$exports$Blockly$utils$dom.addClass)(module$contents$Blockly$dropDownDiv_div,module$contents$Blockly$dropDownDiv_themeClassName),module$contents$Blockly$dropDownDiv_positionInternal(c,d,e,f)},module$exports$Blockly$dropDownDiv.TEST_ONLY={},module$exports$Blockly$dropDownDiv.TEST_ONLY.getBoundsInfo=function(){var a=(0,module$exports$Blockly$utils$style.getPageOffset)(module$contents$Blockly$dropDownDiv_boundsElement),b=(0,module$exports$Blockly$utils$style.getSize)(module$contents$Blockly$dropDownDiv_boundsElement);return{left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height}},module$exports$Blockly$dropDownDiv.TEST_ONLY.getPositionMetrics=function(a,b,c,d){var e=module$exports$Blockly$dropDownDiv.TEST_ONLY.getBoundsInfo(),f=(0,module$exports$Blockly$utils$style.getSize)(module$contents$Blockly$dropDownDiv_div);return b+f.height<e.bottom?module$contents$Blockly$dropDownDiv_getPositionBelowMetrics(a,b,e,f):d-f.height>e.top?module$contents$Blockly$dropDownDiv_getPositionAboveMetrics(c,d,e,f):b+f.height<document.documentElement.clientHeight?module$contents$Blockly$dropDownDiv_getPositionBelowMetrics(a,b,e,f):d-f.height>document.documentElement.clientTop?module$contents$Blockly$dropDownDiv_getPositionAboveMetrics(c,d,e,f):module$contents$Blockly$dropDownDiv_getPositionTopOfPageMetrics(a,e,f)};var module$contents$Blockly$dropDownDiv_getPositionBelowMetrics=function(a,b,c,d){return{initialX:(a=(0,module$exports$Blockly$dropDownDiv.getPositionX)(a,c.left,c.right,d.width)).divX,initialY:b,finalX:a.divX,finalY:b+module$exports$Blockly$dropDownDiv.PADDING_Y,arrowX:a.arrowX,arrowY:-(module$exports$Blockly$dropDownDiv.ARROW_SIZE/2+module$exports$Blockly$dropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},module$contents$Blockly$dropDownDiv_getPositionAboveMetrics=function(a,b,c,d){return{initialX:(a=(0,module$exports$Blockly$dropDownDiv.getPositionX)(a,c.left,c.right,d.width)).divX,initialY:b-d.height,finalX:a.divX,finalY:b-d.height-module$exports$Blockly$dropDownDiv.PADDING_Y,arrowX:a.arrowX,arrowY:d.height-2*module$exports$Blockly$dropDownDiv.BORDER_SIZE-module$exports$Blockly$dropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},module$contents$Blockly$dropDownDiv_getPositionTopOfPageMetrics=function(a,b,c){return{initialX:(a=(0,module$exports$Blockly$dropDownDiv.getPositionX)(a,b.left,b.right,c.width)).divX,initialY:0,finalX:a.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}};module$exports$Blockly$dropDownDiv.getPositionX=function(a,b,c,d){return b=(0,module$exports$Blockly$utils$math.clamp)(b,a-d/2,c-d),a=a-module$exports$Blockly$dropDownDiv.ARROW_SIZE/2-b,c=module$exports$Blockly$dropDownDiv.ARROW_HORIZONTAL_PADDING,{arrowX:a=(0,module$exports$Blockly$utils$math.clamp)(c,a,d-c-module$exports$Blockly$dropDownDiv.ARROW_SIZE),divX:b}},module$exports$Blockly$dropDownDiv.isVisible=function(){return!!module$contents$Blockly$dropDownDiv_owner},module$exports$Blockly$dropDownDiv.hideIfOwner=function(a,b){return module$contents$Blockly$dropDownDiv_owner===a&&(b?(0,module$exports$Blockly$dropDownDiv.hideWithoutAnimation)():(0,module$exports$Blockly$dropDownDiv.hide)(),!0)},module$exports$Blockly$dropDownDiv.hide=function(){module$contents$Blockly$dropDownDiv_div.style.transform="translate(0, 0)",module$contents$Blockly$dropDownDiv_div.style.opacity=0,module$contents$Blockly$dropDownDiv_animateOutTimer=setTimeout((function(){(0,module$exports$Blockly$dropDownDiv.hideWithoutAnimation)()}),1e3*module$exports$Blockly$dropDownDiv.ANIMATION_TIME),module$contents$Blockly$dropDownDiv_onHide&&(module$contents$Blockly$dropDownDiv_onHide(),module$contents$Blockly$dropDownDiv_onHide=null)},module$exports$Blockly$dropDownDiv.hideWithoutAnimation=function(){(0,module$exports$Blockly$dropDownDiv.isVisible)()&&(module$contents$Blockly$dropDownDiv_animateOutTimer&&clearTimeout(module$contents$Blockly$dropDownDiv_animateOutTimer),module$contents$Blockly$dropDownDiv_div.style.transform="",module$contents$Blockly$dropDownDiv_div.style.left="",module$contents$Blockly$dropDownDiv_div.style.top="",module$contents$Blockly$dropDownDiv_div.style.opacity=0,module$contents$Blockly$dropDownDiv_div.style.display="none",module$contents$Blockly$dropDownDiv_div.style.backgroundColor="",module$contents$Blockly$dropDownDiv_div.style.borderColor="",module$contents$Blockly$dropDownDiv_onHide&&(module$contents$Blockly$dropDownDiv_onHide(),module$contents$Blockly$dropDownDiv_onHide=null),(0,module$exports$Blockly$dropDownDiv.clearContent)(),module$contents$Blockly$dropDownDiv_owner=null,module$contents$Blockly$dropDownDiv_renderedClassName&&((0,module$exports$Blockly$utils$dom.removeClass)(module$contents$Blockly$dropDownDiv_div,module$contents$Blockly$dropDownDiv_renderedClassName),module$contents$Blockly$dropDownDiv_renderedClassName=""),module$contents$Blockly$dropDownDiv_themeClassName&&((0,module$exports$Blockly$utils$dom.removeClass)(module$contents$Blockly$dropDownDiv_div,module$contents$Blockly$dropDownDiv_themeClassName),module$contents$Blockly$dropDownDiv_themeClassName=""),(0,$.module$exports$Blockly$common.getMainWorkspace)().markFocused())};var module$contents$Blockly$dropDownDiv_positionInternal=function(a,b,c,d){(a=module$exports$Blockly$dropDownDiv.TEST_ONLY.getPositionMetrics(a,b,c,d)).arrowVisible?(module$contents$Blockly$dropDownDiv_arrow.style.display="",module$contents$Blockly$dropDownDiv_arrow.style.transform="translate("+a.arrowX+"px,"+a.arrowY+"px) rotate(45deg)",module$contents$Blockly$dropDownDiv_arrow.setAttribute("class",a.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):module$contents$Blockly$dropDownDiv_arrow.style.display="none",b=Math.floor(a.initialX),c=Math.floor(a.initialY),d=Math.floor(a.finalX);var e=Math.floor(a.finalY);return module$contents$Blockly$dropDownDiv_div.style.left=b+"px",module$contents$Blockly$dropDownDiv_div.style.top=c+"px",module$contents$Blockly$dropDownDiv_div.style.display="block",module$contents$Blockly$dropDownDiv_div.style.opacity=1,module$contents$Blockly$dropDownDiv_div.style.transform="translate("+(d-b)+"px,"+(e-c)+"px)",!!a.arrowAtTop};module$exports$Blockly$dropDownDiv.repositionForWindowResize=function(){if(module$contents$Blockly$dropDownDiv_owner){var a=module$contents$Blockly$dropDownDiv_owner,b=a.getSourceBlock();b=(a=module$contents$Blockly$dropDownDiv_positionToField?module$contents$Blockly$dropDownDiv_getScaledBboxOfField(a):module$contents$Blockly$dropDownDiv_getScaledBboxOfBlock(b)).left+(a.right-a.left)/2,module$contents$Blockly$dropDownDiv_positionInternal(b,a.bottom,b,a.top)}else(0,module$exports$Blockly$dropDownDiv.hide)()};var module$exports$Blockly$utils$svgMath={},module$contents$Blockly$utils$svgMath_XY_REGEX=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,module$contents$Blockly$utils$svgMath_XY_STYLE_REGEX=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;module$exports$Blockly$utils$svgMath.getRelativeXY=function(a){var b=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0),c=a.getAttribute("x");return c&&(b.x=parseInt(c,10)),(c=a.getAttribute("y"))&&(b.y=parseInt(c,10)),(c=(c=a.getAttribute("transform"))&&c.match(module$contents$Blockly$utils$svgMath_XY_REGEX))&&(b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]))),(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(module$contents$Blockly$utils$svgMath_XY_STYLE_REGEX))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3]))),b},module$exports$Blockly$utils$svgMath.getInjectionDivXY=function(a){for(var b=0,c=0;a;){var d=(0,module$exports$Blockly$utils$svgMath.getRelativeXY)(a);if(b+=d.x,c+=d.y,-1!==(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new module$exports$Blockly$utils$Coordinate.Coordinate(b,c)},module$exports$Blockly$utils$svgMath.is3dSupported=function(){if(void 0!==module$exports$Blockly$utils$svgMath.is3dSupported.cached_)return module$exports$Blockly$utils$svgMath.is3dSupported.cached_;if(!$.module$exports$Blockly$utils$global.globalThis.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var d in document.body.insertBefore(a,null),c)if(void 0!==a.style[d]){if(a.style[d]="translate3d(1px,1px,1px)",!(b=$.module$exports$Blockly$utils$global.globalThis.getComputedStyle(a)))return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}return document.body.removeChild(a),module$exports$Blockly$utils$svgMath.is3dSupported.cached_="none"!==b,module$exports$Blockly$utils$svgMath.is3dSupported.cached_},module$exports$Blockly$utils$svgMath.getViewportBBox=function(){var a=(0,module$exports$Blockly$utils$style.getViewportPageOffset)();return new module$exports$Blockly$utils$Rect.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)},module$exports$Blockly$utils$svgMath.getDocumentScroll=function(){var a=document.documentElement,b=window;return module$exports$Blockly$utils$userAgent.IE&&b.pageYOffset!==a.scrollTop?new module$exports$Blockly$utils$Coordinate.Coordinate(a.scrollLeft,a.scrollTop):new module$exports$Blockly$utils$Coordinate.Coordinate(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)},module$exports$Blockly$utils$svgMath.screenToWsCoordinates=function(a,b){var c=b.x;b=b.y;var d=a.getInjectionDiv().getBoundingClientRect();return c=new module$exports$Blockly$utils$Coordinate.Coordinate(c-d.left,b-d.top),b=a.getOriginOffsetInPixels(),module$exports$Blockly$utils$Coordinate.Coordinate.difference(c,b).scale(1/a.scale)},module$exports$Blockly$utils$svgMath.svgSize=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new module$exports$Blockly$utils$Size.Size(a.cachedWidth_,a.cachedHeight_)},module$exports$Blockly$utils$svgMath.TEST_ONLY={XY_REGEX:module$contents$Blockly$utils$svgMath_XY_REGEX,XY_STYLE_REGEX:module$contents$Blockly$utils$svgMath_XY_STYLE_REGEX};var module$exports$Blockly$utils$Svg={Svg:function(a){this.tagName_=a}};module$exports$Blockly$utils$Svg.Svg.prototype.toString=function(){return this.tagName_},module$exports$Blockly$utils$Svg.Svg.ANIMATE=new module$exports$Blockly$utils$Svg.Svg("animate"),module$exports$Blockly$utils$Svg.Svg.CIRCLE=new module$exports$Blockly$utils$Svg.Svg("circle"),module$exports$Blockly$utils$Svg.Svg.CLIPPATH=new module$exports$Blockly$utils$Svg.Svg("clipPath"),module$exports$Blockly$utils$Svg.Svg.DEFS=new module$exports$Blockly$utils$Svg.Svg("defs"),module$exports$Blockly$utils$Svg.Svg.FECOMPOSITE=new module$exports$Blockly$utils$Svg.Svg("feComposite"),module$exports$Blockly$utils$Svg.Svg.FECOMPONENTTRANSFER=new module$exports$Blockly$utils$Svg.Svg("feComponentTransfer"),module$exports$Blockly$utils$Svg.Svg.FEFLOOD=new module$exports$Blockly$utils$Svg.Svg("feFlood"),module$exports$Blockly$utils$Svg.Svg.FEFUNCA=new module$exports$Blockly$utils$Svg.Svg("feFuncA"),module$exports$Blockly$utils$Svg.Svg.FEGAUSSIANBLUR=new module$exports$Blockly$utils$Svg.Svg("feGaussianBlur"),module$exports$Blockly$utils$Svg.Svg.FEPOINTLIGHT=new module$exports$Blockly$utils$Svg.Svg("fePointLight"),module$exports$Blockly$utils$Svg.Svg.FESPECULARLIGHTING=new module$exports$Blockly$utils$Svg.Svg("feSpecularLighting"),module$exports$Blockly$utils$Svg.Svg.FILTER=new module$exports$Blockly$utils$Svg.Svg("filter"),module$exports$Blockly$utils$Svg.Svg.FOREIGNOBJECT=new module$exports$Blockly$utils$Svg.Svg("foreignObject"),module$exports$Blockly$utils$Svg.Svg.G=new module$exports$Blockly$utils$Svg.Svg("g"),module$exports$Blockly$utils$Svg.Svg.IMAGE=new module$exports$Blockly$utils$Svg.Svg("image"),module$exports$Blockly$utils$Svg.Svg.LINE=new module$exports$Blockly$utils$Svg.Svg("line"),module$exports$Blockly$utils$Svg.Svg.PATH=new module$exports$Blockly$utils$Svg.Svg("path"),module$exports$Blockly$utils$Svg.Svg.PATTERN=new module$exports$Blockly$utils$Svg.Svg("pattern"),module$exports$Blockly$utils$Svg.Svg.POLYGON=new module$exports$Blockly$utils$Svg.Svg("polygon"),module$exports$Blockly$utils$Svg.Svg.RECT=new module$exports$Blockly$utils$Svg.Svg("rect"),module$exports$Blockly$utils$Svg.Svg.SVG=new module$exports$Blockly$utils$Svg.Svg("svg"),module$exports$Blockly$utils$Svg.Svg.TEXT=new module$exports$Blockly$utils$Svg.Svg("text"),module$exports$Blockly$utils$Svg.Svg.TSPAN=new module$exports$Blockly$utils$Svg.Svg("tspan");var module$exports$Blockly$BlockDragSurfaceSvg={BlockDragSurfaceSvg:function(a){this.dragGroup_=this.SVG_=null,this.container_=a,this.scale_=1,this.surfaceXY_=null,this.childSurfaceXY_=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0),this.createDom()}};module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.SVG,{xmlns:module$exports$Blockly$utils$dom.SVG_NS,"xmlns:html":module$exports$Blockly$utils$dom.HTML_NS,"xmlns:xlink":module$exports$Blockly$utils$dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{},this.SVG_))},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(a){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(a),this.SVG_.style.display="block",this.surfaceXY_=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0)},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(a,b,c){this.scale_=c,a=a.toFixed(0),b=b.toFixed(0),this.childSurfaceXY_.x=parseInt(a,10),this.childSurfaceXY_.y=parseInt(b,10),this.dragGroup_.setAttribute("transform","translate("+a+","+b+") scale("+c+")")},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var a=this.surfaceXY_.x,b=this.surfaceXY_.y;a=a.toFixed(0),b=b.toFixed(0),this.SVG_.style.display="block",(0,module$exports$Blockly$utils$dom.setCssTransform)(this.SVG_,"translate3d("+a+"px, "+b+"px, 0)")},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.translateBy=function(a,b){this.surfaceXY_=new module$exports$Blockly$utils$Coordinate.Coordinate(this.surfaceXY_.x+a,this.surfaceXY_.y+b),this.translateSurfaceInternal_()},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.translateSurface=function(a,b){this.surfaceXY_=new module$exports$Blockly$utils$Coordinate.Coordinate(a*this.scale_,b*this.scale_),this.translateSurfaceInternal_()},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var a=(0,module$exports$Blockly$utils$svgMath.getRelativeXY)(this.SVG_);return new module$exports$Blockly$utils$Coordinate.Coordinate(a.x/this.scale_,a.y/this.scale_)},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.getSvgRoot=function(){return this.SVG_},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.getWsTranslation=function(){return this.childSurfaceXY_.clone()},module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg.prototype.clearAndHide=function(a){var b=this.getCurrentBlock();if(b&&(a?a.appendChild(b):this.dragGroup_.removeChild(b)),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null};var module$contents$Blockly$utils$xml_xmlDocument,module$contents$Blockly$Xml_fieldToDom,module$contents$Blockly$Xml_allFieldsToDom,module$exports$Blockly$Grid={Grid:function(a,b){this.scale_=1,this.gridPattern_=a,this.spacing_=b.spacing,this.length_=b.length,this.line2_=(this.line1_=a.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=b.snap}};module$exports$Blockly$Grid.Grid.prototype.dispose=function(){this.gridPattern_=null},module$exports$Blockly$Grid.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},module$exports$Blockly$Grid.Grid.prototype.getSpacing=function(){return this.spacing_},module$exports$Blockly$Grid.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},module$exports$Blockly$Grid.Grid.prototype.update=function(a){this.scale_=a;var b=this.spacing_*a||100;this.gridPattern_.setAttribute("width",b),this.gridPattern_.setAttribute("height",b);var c=(b=Math.floor(this.spacing_/2)+.5)-this.length_/2,d=b+this.length_/2;b*=a,c*=a,d*=a,this.setLineAttributes_(this.line1_,a,c,d,b,b),this.setLineAttributes_(this.line2_,a,b,b,c,d)},module$exports$Blockly$Grid.Grid.prototype.setLineAttributes_=function(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))},module$exports$Blockly$Grid.Grid.prototype.moveTo=function(a,b){this.gridPattern_.setAttribute("x",a),this.gridPattern_.setAttribute("y",b),(module$exports$Blockly$utils$userAgent.IE||module$exports$Blockly$utils$userAgent.EDGE)&&this.update(this.scale_)},module$exports$Blockly$Grid.Grid.createDom=function(a,b,c){return a=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATTERN,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},c),0<b.length&&0<b.spacing?((0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{stroke:b.colour},a),1<b.length&&(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{stroke:b.colour},a)):(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{},a),a},$.module$exports$Blockly$Msg={},$.module$exports$Blockly$Msg.Msg=Object.create(null),$.module$exports$Blockly$utils$xml={NAME_SPACE:"https://developers.google.com/blockly/xml"},module$contents$Blockly$utils$xml_xmlDocument=$.module$exports$Blockly$utils$global.globalThis.document,$.module$exports$Blockly$utils$xml.getDocument=function(){return module$contents$Blockly$utils$xml_xmlDocument},$.module$exports$Blockly$utils$xml.setDocument=function(a){module$contents$Blockly$utils$xml_xmlDocument=a},$.module$exports$Blockly$utils$xml.createElement=function(a){return module$contents$Blockly$utils$xml_xmlDocument.createElementNS($.module$exports$Blockly$utils$xml.NAME_SPACE,a)},$.module$exports$Blockly$utils$xml.createTextNode=function(a){return module$contents$Blockly$utils$xml_xmlDocument.createTextNode(a)},$.module$exports$Blockly$utils$xml.textToDomDocument=function(a){return(new DOMParser).parseFromString(a,"text/xml")},$.module$exports$Blockly$utils$xml.domToText=function(a){return(new XMLSerializer).serializeToString(a)},$.module$exports$Blockly$ConnectionType={ConnectionType:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4}},$.module$exports$Blockly$inputTypes={},$.module$exports$Blockly$inputTypes.inputTypes={VALUE:$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,STATEMENT:$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT,DUMMY:5},$.module$exports$Blockly$Xml={workspaceToDom:function(a,b){var c=(0,$.module$exports$Blockly$utils$xml.createElement)("xml"),d=(0,$.module$exports$Blockly$Xml.variablesToDom)($.module$exports$Blockly$Variables.allUsedVarModels(a));d.hasChildNodes()&&c.appendChild(d),d=a.getTopComments(!0);for(var e=0;e<d.length;e++)c.appendChild(d[e].toXmlWithXY(b));for(a=a.getTopBlocks(!0),d=0;d<a.length;d++)c.appendChild((0,$.module$exports$Blockly$Xml.blockToDomWithXY)(a[d],b));return c},variablesToDom:function(a){for(var b=(0,$.module$exports$Blockly$utils$xml.createElement)("variables"),c=0;c<a.length;c++){var d=a[c],e=(0,$.module$exports$Blockly$utils$xml.createElement)("variable");e.appendChild((0,$.module$exports$Blockly$utils$xml.createTextNode)(d.name)),d.type&&e.setAttribute("type",d.type),e.id=d.getId(),b.appendChild(e)}return b},blockToDomWithXY:function(a,b){if(a.isInsertionMarker()&&!(a=a.getChildren(!1)[0]))return new DocumentFragment;var c;a.workspace.RTL&&(c=a.workspace.getWidth()),b=(0,$.module$exports$Blockly$Xml.blockToDom)(a,b);var d=a.getRelativeToSurfaceXY();return b.setAttribute("x",Math.round(a.workspace.RTL?c-d.x:d.x)),b.setAttribute("y",Math.round(d.y)),b}},module$contents$Blockly$Xml_fieldToDom=function(a){if(a.isSerializable()){var b=(0,$.module$exports$Blockly$utils$xml.createElement)("field");return b.setAttribute("name",a.name||""),a.toXml(b)}return null},module$contents$Blockly$Xml_allFieldsToDom=function(a,b){for(var c=0;c<a.inputList.length;c++)for(var d=a.inputList[c],e=0;e<d.fieldRow.length;e++){var f=module$contents$Blockly$Xml_fieldToDom(d.fieldRow[e]);f&&b.appendChild(f)}},$.module$exports$Blockly$Xml.blockToDom=function(a,b){if(a.isInsertionMarker())return(b=a.getChildren(!1)[0])?(0,$.module$exports$Blockly$Xml.blockToDom)(b):new DocumentFragment;var c=(0,$.module$exports$Blockly$utils$xml.createElement)(a.isShadow()?"shadow":"block");if(c.setAttribute("type",a.type),b||c.setAttribute("id",a.id),a.mutationToDom){var d=a.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}if(module$contents$Blockly$Xml_allFieldsToDom(a,c),d=a.getCommentText()){var e=a.commentModel.size,f=a.commentModel.pinned,g=(0,$.module$exports$Blockly$utils$xml.createElement)("comment");g.appendChild((0,$.module$exports$Blockly$utils$xml.createTextNode)(d)),g.setAttribute("pinned",f),g.setAttribute("h",e.height),g.setAttribute("w",e.width),c.appendChild(g)}for(a.data&&((d=(0,$.module$exports$Blockly$utils$xml.createElement)("data")).appendChild((0,$.module$exports$Blockly$utils$xml.createTextNode)(a.data)),c.appendChild(d)),d=0;d<a.inputList.length;d++)if(f=void 0,g=!0,(e=a.inputList[d]).type!==$.module$exports$Blockly$inputTypes.inputTypes.DUMMY){var h=e.connection.targetBlock();e.type===$.module$exports$Blockly$inputTypes.inputTypes.VALUE?f=(0,$.module$exports$Blockly$utils$xml.createElement)("value"):e.type===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&(f=(0,$.module$exports$Blockly$utils$xml.createElement)("statement"));var k=e.connection.getShadowDom();!k||h&&h.isShadow()||f.appendChild(module$contents$Blockly$Xml_cloneShadow(k,b)),h&&(h=(0,$.module$exports$Blockly$Xml.blockToDom)(h,b)).nodeType===module$exports$Blockly$utils$dom.NodeType.ELEMENT_NODE&&(f.appendChild(h),g=!1),f.setAttribute("name",e.name),g||c.appendChild(f)}if(void 0!==a.inputsInline&&a.inputsInline!==a.inputsInlineDefault&&c.setAttribute("inline",a.inputsInline),a.isCollapsed()&&c.setAttribute("collapsed",!0),a.isEnabled()||c.setAttribute("disabled",!0),a.isDeletable()||a.isShadow()||c.setAttribute("deletable",!1),a.isMovable()||a.isShadow()||c.setAttribute("movable",!1),a.isEditable()||c.setAttribute("editable",!1),(d=a.getNextBlock())&&(e=(0,$.module$exports$Blockly$Xml.blockToDom)(d,b)).nodeType===module$exports$Blockly$utils$dom.NodeType.ELEMENT_NODE){var l=(0,$.module$exports$Blockly$utils$xml.createElement)("next");l.appendChild(e),c.appendChild(l)}return!(a=a.nextConnection&&a.nextConnection.getShadowDom())||d&&d.isShadow()||l.appendChild(module$contents$Blockly$Xml_cloneShadow(a,b)),c};var module$contents$Blockly$Xml_cloneShadow=function(a,b){for(var d,c=a=a.cloneNode(!0);c;)if(b&&"shadow"===c.nodeName&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;)d=c,c=c.parentNode,d.nodeType===module$exports$Blockly$utils$dom.NodeType.TEXT_NODE&&""===d.data.trim()&&c.firstChild!==d&&(0,module$exports$Blockly$utils$dom.removeNode)(d);c&&(d=c,c=c.nextSibling,d.nodeType===module$exports$Blockly$utils$dom.NodeType.TEXT_NODE&&""===d.data.trim()&&(0,module$exports$Blockly$utils$dom.removeNode)(d))}return a};$.module$exports$Blockly$Xml.domToText=function(a){return(0,$.module$exports$Blockly$utils$xml.domToText)(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},$.module$exports$Blockly$Xml.domToPrettyText=function(a){a=(0,$.module$exports$Blockly$Xml.domToText)(a).split("<");for(var b="",c=1;c<a.length;c++){var d=a[c];"/"===d[0]&&(b=b.substring(2)),a[c]=b+"<"+d,"/"!==d[0]&&"/>"!==d.slice(-2)&&(b+="  ")}return(a=(a=a.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},$.module$exports$Blockly$Xml.textToDom=function(a){var b=(0,$.module$exports$Blockly$utils$xml.textToDomDocument)(a);if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement},$.module$exports$Blockly$Xml.clearWorkspaceAndLoadFromXml=function(a,b){return b.setResizesEnabled(!1),b.clear(),a=(0,$.module$exports$Blockly$Xml.domToWorkspace)(a,b),b.setResizesEnabled(!0),a},$.module$exports$Blockly$Xml.domToWorkspace=function(a,b){if(a instanceof module$exports$Blockly$Workspace.Workspace){var c=a;a=b,b=c,console.warn("Deprecated call to domToWorkspace, swap the arguments.")}var d;b.RTL&&(d=b.getWidth()),c=[],(0,module$exports$Blockly$utils$dom.startTextWidthCache)();var e=(0,module$exports$Blockly$Events$utils.getGroup)();e||(0,module$exports$Blockly$Events$utils.setGroup)(!0),b.setResizesEnabled&&b.setResizesEnabled(!1);var f=!0;try{for(var g=0,h=void 0;h=a.childNodes[g];g++){var k=h.nodeName.toLowerCase(),l=h;if("block"===k||"shadow"===k&&!(0,module$exports$Blockly$Events$utils.getRecordUndo)()){var m=(0,$.module$exports$Blockly$Xml.domToBlock)(l,b);c.push(m.id);var n=l.hasAttribute("x")?parseInt(l.getAttribute("x"),10):10,p=l.hasAttribute("y")?parseInt(l.getAttribute("y"),10):10;isNaN(n)||isNaN(p)||m.moveBy(b.RTL?d-n:n,p),f=!1}else{if("shadow"===k)throw TypeError("Shadow block cannot be a top-level block.");if("comment"===k)if(b.rendered){var q=module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg;q?q.fromXmlRendered(l,b,d):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment.")}else{var r=module$exports$Blockly$WorkspaceComment.WorkspaceComment;r?r.fromXml(l,b):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.")}else if("variables"===k){if(!f)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");(0,$.module$exports$Blockly$Xml.domToVariables)(l,b),f=!1}}}}finally{e||(0,module$exports$Blockly$Events$utils.setGroup)(!1),(0,module$exports$Blockly$utils$dom.stopTextWidthCache)()}return b.setResizesEnabled&&b.setResizesEnabled(!0),(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.FINISHED_LOADING))(b)),c},$.module$exports$Blockly$Xml.appendDomToWorkspace=function(a,b){if(!b.getBlocksBoundingBox)return(0,$.module$exports$Blockly$Xml.domToWorkspace)(a,b);var c=b.getBlocksBoundingBox();if(a=(0,$.module$exports$Blockly$Xml.domToWorkspace)(a,b),c&&c.top!==c.bottom){var d=c.bottom;c=b.RTL?c.right:c.left;for(var e=1/0,f=-1/0,g=1/0,h=0;h<a.length;h++){var k=b.getBlockById(a[h]).getRelativeToSurfaceXY();k.y<g&&(g=k.y),k.x<e&&(e=k.x),k.x>f&&(f=k.x)}for(d=d-g+10,c=b.RTL?c-f:c-e,e=0;e<a.length;e++)b.getBlockById(a[e]).moveBy(c,d)}return a},$.module$exports$Blockly$Xml.domToBlock=function(a,b){if(a instanceof module$exports$Blockly$Workspace.Workspace){var c=a;a=b,b=c,console.warn("Deprecated call to domToBlock, swap the arguments.")}(0,module$exports$Blockly$Events$utils.disable)(),c=b.getAllVariables();try{var d=module$contents$Blockly$Xml_domToBlockHeadless(a,b);if(b.rendered){var e=d,f=d.getDescendants(!1);e.setConnectionTracking(!1);for(var g=f.length-1;0<=g;g--)f[g].initSvg();for(var h=f.length-1;0<=h;h--)f[h].render(!1);setTimeout((function(){e.disposed||e.setConnectionTracking(!0)}),1),e.updateDisabled(),b.resizeContents()}else for(var k=d.getDescendants(!1),l=k.length-1;0<=l;l--)k[l].initModel()}finally{(0,module$exports$Blockly$Events$utils.enable)()}if((0,module$exports$Blockly$Events$utils.isEnabled)()){for(a=$.module$exports$Blockly$Variables.getAddedVariables(b,c),b=0;b<a.length;b++)f=a[b],(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.VAR_CREATE))(f));(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CREATE))(d))}return d},$.module$exports$Blockly$Xml.domToVariables=function(a,b){for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];if(d.nodeType===module$exports$Blockly$utils$dom.NodeType.ELEMENT_NODE){var e=d.getAttribute("type"),f=d.getAttribute("id");b.createVariable(d.textContent,e,f)}}};var module$contents$Blockly$Xml_findChildBlocks=function(a){for(var b={childBlockElement:null,childShadowElement:null},c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];d.nodeType===module$exports$Blockly$utils$dom.NodeType.ELEMENT_NODE&&("block"===d.nodeName.toLowerCase()?b.childBlockElement=d:"shadow"===d.nodeName.toLowerCase()&&(b.childShadowElement=d))}return b},module$contents$Blockly$Xml_domToBlockHeadless=function(a,b,c,d){var e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");f=b.newBlock(e,f);var g=function(a){for(var b={mutation:[],comment:[],data:[],field:[],input:[],next:[]},c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];if(d.nodeType!==module$exports$Blockly$utils$dom.NodeType.TEXT_NODE)switch(d.nodeName.toLowerCase()){case"mutation":b.mutation.push(d);break;case"comment":if(!module$exports$Blockly$Comment){console.warn("Missing require for Comment, ignoring block comment.");break}b.comment.push(d);break;case"data":b.data.push(d);break;case"title":case"field":b.field.push(d);break;case"value":case"statement":b.input.push(d);break;case"next":b.next.push(d);break;default:console.warn("Ignoring unknown tag: "+d.nodeName)}}return b}(a),h=function(a,b){for(var c=!1,d=0;d<a.length;d++){var e=a[d];b.domToMutation&&(b.domToMutation(e),b.initSvg&&(c=!0))}return c}(g.mutation,f);if(function(a,b){for(var c={},d=0;d<a.length;c={$jscomp$loop$prop$blockSvg$289:c.$jscomp$loop$prop$blockSvg$289},d++){var e=a[d],f=e.textContent,g="true"===e.getAttribute("pinned"),h=parseInt(e.getAttribute("w"),10);e=parseInt(e.getAttribute("h"),10),b.setCommentText(f),b.commentModel.pinned=g,isNaN(h)||isNaN(e)||(b.commentModel.size=new module$exports$Blockly$utils$Size.Size(h,e)),g&&b.getCommentIcon&&!b.isInFlyout&&(c.$jscomp$loop$prop$blockSvg$289=b,setTimeout(function(k){return function(){k.$jscomp$loop$prop$blockSvg$289.getCommentIcon().setVisible(!0)}}(c),1))}}(g.comment,f),function(a,b){for(var c=0;c<a.length;c++)b.data=a[c].textContent}(g.data,f),c)if(d){if(!f.previousConnection)throw TypeError("Next block does not have previous statement.");c.connect(f.previousConnection)}else if(f.outputConnection)c.connect(f.outputConnection);else{if(!f.previousConnection)throw TypeError("Child block does not have output or previous statement.");c.connect(f.previousConnection)}if(function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.getAttribute("name");module$contents$Blockly$Xml_domToField(b,e,d)}}(g.field,f),function(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],g=f.getAttribute("name"),h=c.getInput(g);if(!h){console.warn("Ignoring non-existent input "+g+" in block "+d);break}if((f=module$contents$Blockly$Xml_findChildBlocks(f)).childBlockElement){if(!h.connection)throw TypeError("Input connection does not exist.");module$contents$Blockly$Xml_domToBlockHeadless(f.childBlockElement,b,h.connection,!1)}f.childShadowElement&&h.connection.setShadowDom(f.childShadowElement)}}(g.input,b,f,e),function(a,b,c){for(var d=0;d<a.length;d++){var e=module$contents$Blockly$Xml_findChildBlocks(a[d]);if(e.childBlockElement){if(!c.nextConnection)throw TypeError("Next statement does not exist.");if(c.nextConnection.isConnected())throw TypeError("Next statement is already connected.");module$contents$Blockly$Xml_domToBlockHeadless(e.childBlockElement,b,c.nextConnection,!0)}e.childShadowElement&&c.nextConnection&&c.nextConnection.setShadowDom(e.childShadowElement)}}(g.next,b,f),h&&f.initSvg(),(b=a.getAttribute("inline"))&&f.setInputsInline("true"===b),(b=a.getAttribute("disabled"))&&f.setEnabled("true"!==b&&"disabled"!==b),(b=a.getAttribute("deletable"))&&f.setDeletable("true"===b),(b=a.getAttribute("movable"))&&f.setMovable("true"===b),(b=a.getAttribute("editable"))&&f.setEditable("true"===b),(b=a.getAttribute("collapsed"))&&f.setCollapsed("true"===b),"shadow"===a.nodeName.toLowerCase()){for(a=f.getChildren(!1),b=0;b<a.length;b++)if(!a[b].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(f.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");f.setShadow(!0)}return f},module$contents$Blockly$Xml_domToField=function(a,b,c){var d=a.getField(b);d?d.fromXml(c):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};$.module$exports$Blockly$Xml.deleteNext=function(a){for(var b=0;b<a.childNodes.length;b++){var c=a.childNodes[b];if("next"===c.nodeName.toLowerCase()){a.removeChild(c);break}}};var module$exports$Blockly$utils$toolbox={Position:{TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},convertToolboxDefToJson:function(a){return a?((a instanceof Element||"string"==typeof a)&&(a=(0,module$exports$Blockly$utils$toolbox.parseToolboxTree)(a),a=module$contents$Blockly$utils$toolbox_convertToToolboxJson(a)),module$contents$Blockly$utils$toolbox_validateToolbox(a),a):null}},module$contents$Blockly$utils$toolbox_validateToolbox=function(a){var b=a.kind;if(a=a.contents,b&&"flyoutToolbox"!==b&&"categoryToolbox"!==b)throw Error("Invalid toolbox kind "+b+". Please supply either flyoutToolbox or categoryToolbox");if(!a)throw Error("Toolbox must have a contents attribute.")};module$exports$Blockly$utils$toolbox.convertFlyoutDefToJsonArray=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:module$contents$Blockly$utils$toolbox_xmlToJsonArray(a):[]},module$exports$Blockly$utils$toolbox.hasCategories=function(a){if(!a)return!1;var b=a.kind;return b?"categoryToolbox"===b:!!a.contents.filter((function(c){return"CATEGORY"===c.kind.toUpperCase()})).length},module$exports$Blockly$utils$toolbox.isCategoryCollapsible=function(a){return!(!a||!a.contents||!a.contents.filter((function(b){return"CATEGORY"===b.kind.toUpperCase()})).length)};var module$contents$Blockly$utils$toolbox_convertToToolboxJson=function(a){var b={contents:module$contents$Blockly$utils$toolbox_xmlToJsonArray(a)};return a instanceof Node&&module$contents$Blockly$utils$toolbox_addAttributes(a,b),b},module$contents$Blockly$utils$toolbox_xmlToJsonArray=function(a){var d,b=[],c=a.childNodes;for(c||(c=a),a=0;d=c[a];a++)if(d.tagName){var e={},f=d.tagName.toUpperCase();e.kind=f,"BLOCK"===f?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=module$contents$Blockly$utils$toolbox_xmlToJsonArray(d)),module$contents$Blockly$utils$toolbox_addAttributes(d,e),b.push(e)}return b},module$contents$Blockly$utils$toolbox_addAttributes=function(a,b){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];-1<d.nodeName.indexOf("css-")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace("css-","")]=d.value):b[d.nodeName]=d.value}};module$exports$Blockly$utils$toolbox.parseToolboxTree=function(a){if(a){if("string"!=typeof a&&(module$exports$Blockly$utils$userAgent.IE&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&"xml"!==(a=(0,$.module$exports$Blockly$Xml.textToDom)(a)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else a=null;return a},$.module$exports$Blockly$utils$object={inherits:function(a,b){a.superClass_=b.prototype,Object.setPrototypeOf(a,b),a.prototype=Object.create(b.prototype),a.prototype.constructor=a},mixin:function(a,b){for(var c in b)a[c]=b[c]},deepMerge:function(a,b){for(var c in b)a[c]=null!==b[c]&&"object"==typeof b[c]?(0,$.module$exports$Blockly$utils$object.deepMerge)(a[c]||Object.create(null),b[c]):b[c];return a},values:function(a){return Object.values?Object.values(a):Object.keys(a).map((function(b){return a[b]}))}};var module$exports$Blockly$Theme={Theme:function(a,b,c,d){this.name=a,this.blockStyles=b||Object.create(null),this.categoryStyles=c||Object.create(null),this.componentStyles=d||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.THEME,a,this)}};module$exports$Blockly$Theme.Theme.prototype.getClassName=function(){return this.name+"-theme"},module$exports$Blockly$Theme.Theme.prototype.setBlockStyle=function(a,b){this.blockStyles[a]=b},module$exports$Blockly$Theme.Theme.prototype.setCategoryStyle=function(a,b){this.categoryStyles[a]=b},module$exports$Blockly$Theme.Theme.prototype.getComponentStyle=function(a){return(a=this.componentStyles[a])&&"string"==typeof a&&this.getComponentStyle(a)?this.getComponentStyle(a):a?String(a):null},module$exports$Blockly$Theme.Theme.prototype.setComponentStyle=function(a,b){this.componentStyles[a]=b},module$exports$Blockly$Theme.Theme.prototype.setFontStyle=function(a){this.fontStyle=a},module$exports$Blockly$Theme.Theme.prototype.setStartHats=function(a){this.startHats=a},module$exports$Blockly$Theme.Theme.defineTheme=function(a,b){var c=new module$exports$Blockly$Theme.Theme(a),d=b.base;return d&&("string"==typeof d&&(d=(0,module$exports$Blockly$registry.getObject)(module$exports$Blockly$registry.Type.THEME,d)),d instanceof module$exports$Blockly$Theme.Theme&&((0,$.module$exports$Blockly$utils$object.deepMerge)(c,d),c.name=a)),(0,$.module$exports$Blockly$utils$object.deepMerge)(c.blockStyles,b.blockStyles),(0,$.module$exports$Blockly$utils$object.deepMerge)(c.categoryStyles,b.categoryStyles),(0,$.module$exports$Blockly$utils$object.deepMerge)(c.componentStyles,b.componentStyles),(0,$.module$exports$Blockly$utils$object.deepMerge)(c.fontStyle,b.fontStyle),null!==b.startHats&&(c.startHats=b.startHats),c};var module$exports$Blockly$Themes$Classic={};module$exports$Blockly$Themes$Classic.Classic=new module$exports$Blockly$Theme.Theme("classic",{colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},{colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}});var module$exports$Blockly$Options={Options:function(a){var b=null,c=!1,d=!1,e=!1,f=!1,g=!1,h=!1,k=!!a.readOnly;k||(b=(0,module$exports$Blockly$utils$toolbox.convertToolboxDefToJson)(a.toolbox),c=(0,module$exports$Blockly$utils$toolbox.hasCategories)(b),void 0===(d=a.trashcan)&&(d=c),void 0===(e=a.collapse)&&(e=c),void 0===(f=a.comments)&&(f=c),void 0===(g=a.disable)&&(g=c),void 0===(h=a.sounds)&&(h=!0));var l=a.maxTrashcanContents;d?void 0===l&&(l=32):l=0;var m=!!a.rtl,n=a.horizontalLayout;void 0===n&&(n=!1);var p=a.toolboxPosition;p="end"!==p,p=n?p?module$exports$Blockly$utils$toolbox.Position.TOP:module$exports$Blockly$utils$toolbox.Position.BOTTOM:p===m?module$exports$Blockly$utils$toolbox.Position.RIGHT:module$exports$Blockly$utils$toolbox.Position.LEFT;var q=a.css;void 0===q&&(q=!0);var r="https://blockly-demo.appspot.com/static/media/";a.media?r=a.media:a.path&&(r=a.path+"media/");var t=void 0===a.oneBasedIndex||!!a.oneBasedIndex,u=a.renderer||"geras",v=a.plugins||{};this.RTL=m,this.oneBasedIndex=t,this.collapse=e,this.comments=f,this.disable=g,this.readOnly=k,this.maxBlocks=a.maxBlocks||1/0,this.maxInstances=a.maxInstances,this.pathToMedia=r,this.hasCategories=c,this.moveOptions=module$exports$Blockly$Options.Options.parseMoveOptions_(a,c),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=d,this.maxTrashcanContents=l,this.hasSounds=h,this.hasCss=q,this.horizontalLayout=n,this.languageTree=b,this.gridOptions=module$exports$Blockly$Options.Options.parseGridOptions_(a),this.zoomOptions=module$exports$Blockly$Options.Options.parseZoomOptions_(a),this.toolboxPosition=p,this.theme=module$exports$Blockly$Options.Options.parseThemeOptions_(a),this.renderer=u,this.rendererOverrides=a.rendererOverrides,this.gridPattern=null,this.parentWorkspace=a.parentWorkspace,this.plugins=v,this.getMetrics=this.setMetrics=void 0}};module$exports$Blockly$Options.Options.parseMoveOptions_=function(a,b){var c=a.move||{},d={};return void 0===c.scrollbars&&void 0===a.scrollbars?d.scrollbars=b:"object"==typeof c.scrollbars?(d.scrollbars={},d.scrollbars.horizontal=!!c.scrollbars.horizontal,d.scrollbars.vertical=!!c.scrollbars.vertical,d.scrollbars.horizontal&&d.scrollbars.vertical?d.scrollbars=!0:d.scrollbars.horizontal||d.scrollbars.vertical||(d.scrollbars=!1)):d.scrollbars=!!c.scrollbars||!!a.scrollbars,d.wheel=d.scrollbars&&void 0!==c.wheel?!!c.wheel:"object"==typeof d.scrollbars,d.drag=!(!d.scrollbars||void 0!==c.drag&&!c.drag),d},module$exports$Blockly$Options.Options.parseZoomOptions_=function(a){a=a.zoom||{};var b={};return b.controls=void 0!==a.controls&&!!a.controls,b.wheel=void 0!==a.wheel&&!!a.wheel,b.startScale=void 0===a.startScale?1:Number(a.startScale),b.maxScale=void 0===a.maxScale?3:Number(a.maxScale),b.minScale=void 0===a.minScale?.3:Number(a.minScale),b.scaleSpeed=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed),b.pinch=void 0===a.pinch?b.wheel||b.controls:!!a.pinch,b},module$exports$Blockly$Options.Options.parseGridOptions_=function(a){a=a.grid||{};var b={};return b.spacing=Number(a.spacing)||0,b.colour=a.colour||"#888",b.length=void 0===a.length?1:Number(a.length),b.snap=0<b.spacing&&!!a.snap,b},module$exports$Blockly$Options.Options.parseThemeOptions_=function(a){return"string"==typeof(a=a.theme||module$exports$Blockly$Themes$Classic.Classic)?(0,module$exports$Blockly$registry.getObject)(module$exports$Blockly$registry.Type.THEME,a):a instanceof module$exports$Blockly$Theme.Theme?a:module$exports$Blockly$Theme.Theme.defineTheme(a.name||"builtin"+(0,module$exports$Blockly$utils$idGenerator.getNextUniqueId)(),a)};var module$exports$Blockly$Scrollbar={Scrollbar:function(a,b,c,d,e){this.workspace_=a,this.pair_=c||!1,this.horizontal_=b,this.margin_=void 0!==e?e:module$exports$Blockly$Scrollbar.Scrollbar.DEFAULT_SCROLLBAR_MARGIN,this.ratio=this.oldHostMetrics_=null,this.origin_=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0),this.startDragHandle=this.handlePosition_=this.handleLength_=this.scrollbarLength_=this.startDragMouse_=0,this.containerVisible_=this.isVisible_=!0,this.svgGroup_=this.outerSvg_=this.svgHandle_=this.svgBackground_=null,this.createDom_(d),this.position=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0),a=module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness,b?(this.svgBackground_.setAttribute("height",a),this.outerSvg_.setAttribute("height",a),this.svgHandle_.setAttribute("height",a-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",a),this.outerSvg_.setAttribute("width",a),this.svgHandle_.setAttribute("width",a-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)}};module$exports$Blockly$Scrollbar.Scrollbar.prototype.dispose=function(){this.cleanUp_(),(0,module$exports$Blockly$browserEvents.unbind)(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,(0,module$exports$Blockly$browserEvents.unbind)(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,(0,module$exports$Blockly$utils$dom.removeNode)(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},module$exports$Blockly$Scrollbar.Scrollbar.prototype.constrainHandleLength_=function(a){return 0>=a||isNaN(a)?0:Math.min(a,this.scrollbarLength_)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.setHandleLength_=function(a){this.handleLength_=a,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.constrainHandlePosition_=function(a){return 0>=a||isNaN(a)?0:Math.min(a,this.scrollbarLength_-this.handleLength_)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.setHandlePosition=function(a){this.handlePosition_=a,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.setScrollbarLength_=function(a){this.scrollbarLength_=a,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.setPosition=function(a,b){this.position.x=a,this.position.y=b,(0,module$exports$Blockly$utils$dom.setCssTransform)(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},module$exports$Blockly$Scrollbar.Scrollbar.prototype.resize=function(a){(a||(a=this.workspace_.getMetrics()))&&(this.oldHostMetrics_&&module$exports$Blockly$Scrollbar.Scrollbar.metricsAreEquivalent_(a,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(a):this.resizeVertical_(a),this.oldHostMetrics_=a,this.updateMetrics_()))},module$exports$Blockly$Scrollbar.Scrollbar.prototype.requiresViewResize_=function(a){return!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==a.viewWidth||this.oldHostMetrics_.viewHeight!==a.viewHeight||this.oldHostMetrics_.absoluteLeft!==a.absoluteLeft||this.oldHostMetrics_.absoluteTop!==a.absoluteTop},module$exports$Blockly$Scrollbar.Scrollbar.prototype.resizeHorizontal_=function(a){this.requiresViewResize_(a)?this.resizeViewHorizontal(a):this.resizeContentHorizontal(a)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.resizeViewHorizontal=function(a){var b=a.viewWidth-2*this.margin_;this.pair_&&(b-=module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,b)),b=a.absoluteLeft+this.margin_,this.pair_&&this.workspace_.RTL&&(b+=module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness),this.setPosition(b,a.absoluteTop+a.viewHeight-module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness-this.margin_),this.resizeContentHorizontal(a)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.resizeContentHorizontal=function(a){if(a.viewWidth>=a.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var b=this.scrollbarLength_*a.viewWidth/a.scrollWidth;b=this.constrainHandleLength_(b),this.setHandleLength_(b),b=a.scrollWidth-a.viewWidth;var c=this.scrollbarLength_-this.handleLength_;a=(a.viewLeft-a.scrollLeft)/b*c,a=this.constrainHandlePosition_(a),this.setHandlePosition(a),this.ratio=c/b}},module$exports$Blockly$Scrollbar.Scrollbar.prototype.resizeVertical_=function(a){this.requiresViewResize_(a)?this.resizeViewVertical(a):this.resizeContentVertical(a)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.resizeViewVertical=function(a){var b=a.viewHeight-2*this.margin_;this.pair_&&(b-=module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,b)),this.setPosition(this.workspace_.RTL?a.absoluteLeft+this.margin_:a.absoluteLeft+a.viewWidth-module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness-this.margin_,a.absoluteTop+this.margin_),this.resizeContentVertical(a)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.resizeContentVertical=function(a){if(a.viewHeight>=a.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var b=this.scrollbarLength_*a.viewHeight/a.scrollHeight;b=this.constrainHandleLength_(b),this.setHandleLength_(b),b=a.scrollHeight-a.viewHeight;var c=this.scrollbarLength_-this.handleLength_;a=(a.viewTop-a.scrollTop)/b*c,a=this.constrainHandlePosition_(a),this.setHandlePosition(a),this.ratio=c/b}},module$exports$Blockly$Scrollbar.Scrollbar.prototype.createDom_=function(a){var b="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");a&&(b+=" "+a),this.outerSvg_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.SVG,{class:b},null),this.svgGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{},this.outerSvg_),this.svgBackground_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),a=Math.floor((module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyScrollbarHandle",rx:a,ry:a},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),(0,module$exports$Blockly$utils$dom.insertAfter)(this.outerSvg_,this.workspace_.getParentSvg())},module$exports$Blockly$Scrollbar.Scrollbar.prototype.isVisible=function(){return this.isVisible_},module$exports$Blockly$Scrollbar.Scrollbar.prototype.setContainerVisible=function(a){var b=a!==this.containerVisible_;this.containerVisible_=a,b&&this.updateDisplay_()},module$exports$Blockly$Scrollbar.Scrollbar.prototype.setVisible=function(a){var b=a!==this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=a,b&&this.updateDisplay_()},module$exports$Blockly$Scrollbar.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},module$exports$Blockly$Scrollbar.Scrollbar.prototype.onMouseDownBar_=function(a){if(this.workspace_.markFocused(),(0,module$exports$Blockly$Touch.clearTouchIdentifier)(),this.cleanUp_(),(0,module$exports$Blockly$browserEvents.isRightButton)(a))a.stopPropagation();else{var b=(0,module$exports$Blockly$browserEvents.mouseToSvg)(a,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());b=this.horizontal_?b.x:b.y;var c=(0,module$exports$Blockly$utils$svgMath.getInjectionDivXY)(this.svgHandle_);c=this.horizontal_?c.x:c.y;var d=this.handlePosition_,e=.95*this.handleLength_;b<=c?d-=e:b>=c+this.handleLength_&&(d+=e),this.setHandlePosition(this.constrainHandlePosition_(d)),this.updateMetrics_(),a.stopPropagation(),a.preventDefault()}},module$exports$Blockly$Scrollbar.Scrollbar.prototype.onMouseDownHandle_=function(a){this.workspace_.markFocused(),this.cleanUp_(),(0,module$exports$Blockly$browserEvents.isRightButton)(a)?a.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?a.clientX:a.clientY,module$exports$Blockly$Scrollbar.Scrollbar.onMouseUpWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mouseup",this,this.onMouseUpHandle_),module$exports$Blockly$Scrollbar.Scrollbar.onMouseMoveWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mousemove",this,this.onMouseMoveHandle_),a.stopPropagation(),a.preventDefault())},module$exports$Blockly$Scrollbar.Scrollbar.prototype.onMouseMoveHandle_=function(a){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?a.clientX:a.clientY)-this.startDragMouse_))),this.updateMetrics_()},module$exports$Blockly$Scrollbar.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),(0,module$exports$Blockly$Touch.clearTouchIdentifier)(),this.cleanUp_()},module$exports$Blockly$Scrollbar.Scrollbar.prototype.cleanUp_=function(){this.workspace_.hideChaff(!0),module$exports$Blockly$Scrollbar.Scrollbar.onMouseUpWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(module$exports$Blockly$Scrollbar.Scrollbar.onMouseUpWrapper_),module$exports$Blockly$Scrollbar.Scrollbar.onMouseUpWrapper_=null),module$exports$Blockly$Scrollbar.Scrollbar.onMouseMoveWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(module$exports$Blockly$Scrollbar.Scrollbar.onMouseMoveWrapper_),module$exports$Blockly$Scrollbar.Scrollbar.onMouseMoveWrapper_=null)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.getRatio_=function(){var a=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(a)&&(a=0),a},module$exports$Blockly$Scrollbar.Scrollbar.prototype.updateMetrics_=function(){var a=this.getRatio_(),b={};this.horizontal_?b.x=a:b.y=a,this.workspace_.setMetrics(b)},module$exports$Blockly$Scrollbar.Scrollbar.prototype.set=function(a,b){this.setHandlePosition(this.constrainHandlePosition_(a*this.ratio)),(b||void 0===b)&&this.updateMetrics_()},module$exports$Blockly$Scrollbar.Scrollbar.prototype.setOrigin=function(a,b){this.origin_=new module$exports$Blockly$utils$Coordinate.Coordinate(a,b)},module$exports$Blockly$Scrollbar.Scrollbar.metricsAreEquivalent_=function(a,b){return a.viewWidth===b.viewWidth&&a.viewHeight===b.viewHeight&&a.viewLeft===b.viewLeft&&a.viewTop===b.viewTop&&a.absoluteTop===b.absoluteTop&&a.absoluteLeft===b.absoluteLeft&&a.scrollWidth===b.scrollWidth&&a.scrollHeight===b.scrollHeight&&a.scrollLeft===b.scrollLeft&&a.scrollTop===b.scrollTop},module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness=15,module$exports$Blockly$Touch.TOUCH_ENABLED&&(module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness=25),module$exports$Blockly$Scrollbar.Scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5;var module$exports$Blockly$ScrollbarPair={ScrollbarPair:function(a,b,c,d,e){this.workspace_=a,c=void 0===c||c;var f=(b=void 0===b||b)&&c;b&&(this.hScroll=new module$exports$Blockly$Scrollbar.Scrollbar(a,!0,f,d,e)),c&&(this.vScroll=new module$exports$Blockly$Scrollbar.Scrollbar(a,!1,f,d,e)),f&&(this.corner_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{height:module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness,width:module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),(0,module$exports$Blockly$utils$dom.insertAfter)(this.corner_,a.getBubbleCanvas())),this.oldHostMetrics_=null}};module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.dispose=function(){(0,module$exports$Blockly$utils$dom.removeNode)(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.resize=function(){var a=this.workspace_.getMetrics();if(a){var b=!1,c=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===a.viewWidth&&this.oldHostMetrics_.viewHeight===a.viewHeight&&this.oldHostMetrics_.absoluteTop===a.absoluteTop&&this.oldHostMetrics_.absoluteLeft===a.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===a.scrollWidth&&this.oldHostMetrics_.viewLeft===a.viewLeft&&this.oldHostMetrics_.scrollLeft===a.scrollLeft||(b=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===a.scrollHeight&&this.oldHostMetrics_.viewTop===a.viewTop&&this.oldHostMetrics_.scrollTop===a.scrollTop||(c=!0)):c=b=!0,b||c){try{(0,module$exports$Blockly$Events$utils.disable)(),this.hScroll&&b&&this.hScroll.resize(a),this.vScroll&&c&&this.vScroll.resize(a)}finally{(0,module$exports$Blockly$Events$utils.enable)()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===a.viewWidth&&this.oldHostMetrics_.absoluteLeft===a.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight===a.viewHeight&&this.oldHostMetrics_.absoluteTop===a.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=a}},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.setOrigin=function(a,b){this.hScroll&&this.hScroll.setOrigin(a,b),this.vScroll&&this.vScroll.setOrigin(a,b)},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.set=function(a,b,c){this.hScroll&&this.hScroll.set(a,!1),this.vScroll&&this.vScroll.set(b,!1),(c||void 0===c)&&(a={},this.hScroll&&(a.x=this.hScroll.getRatio_()),this.vScroll&&(a.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(a))},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.setX=function(a){this.hScroll&&this.hScroll.set(a,!0)},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.setY=function(a){this.vScroll&&this.vScroll.set(a,!0)},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.setContainerVisible=function(a){this.hScroll&&this.hScroll.setContainerVisible(a),this.vScroll&&this.vScroll.setContainerVisible(a)},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.isVisible=function(){var a=!1;return this.hScroll&&(a=this.hScroll.isVisible()),this.vScroll&&(a=a||this.vScroll.isVisible()),a},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.resizeContent=function(a){this.hScroll&&this.hScroll.resizeContentHorizontal(a),this.vScroll&&this.vScroll.resizeContentVertical(a)},module$exports$Blockly$ScrollbarPair.ScrollbarPair.prototype.resizeView=function(a){this.hScroll&&this.hScroll.resizeViewHorizontal(a),this.vScroll&&this.vScroll.resizeViewVertical(a)};var module$exports$Blockly$utils$KeyCodes_KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},module$exports$Blockly$ShortcutRegistry={ShortcutRegistry:function(){this.reset()}};module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.reset=function(){this.registry_=Object.create(null),this.keyMap_=Object.create(null)},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.register=function(a,b){if(this.registry_[a.name]&&!b)throw Error('Shortcut with name "'+a.name+'" already exists.');this.registry_[a.name]=a},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.unregister=function(a){return this.registry_[a]?(this.removeAllKeyMappings(a),delete this.registry_[a],!0):(console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1)},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.addKeyMapping=function(a,b,c){a=String(a);var d=this.keyMap_[a];if(d&&!c)throw Error('Shortcut with name "'+b+'" collides with shortcuts '+d.toString());d&&c?d.unshift(b):this.keyMap_[a]=[b]},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.removeKeyMapping=function(a,b,c){var d=this.keyMap_[a];if(!d&&!c)return console.warn('No keyboard shortcut with name "'+b+'" registered with key code "'+a+'"'),!1;var e=d.indexOf(b);return-1<e?(d.splice(e,1),0===d.length&&delete this.keyMap_[a],!0):(c||console.warn('No keyboard shortcut with name "'+b+'" registered with key code "'+a+'"'),!1)},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.removeAllKeyMappings=function(a){for(var b in this.keyMap_)this.removeKeyMapping(b,a,!0)},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.setKeyMap=function(a){this.keyMap_=a},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.getKeyMap=function(){return(0,$.module$exports$Blockly$utils$object.deepMerge)(Object.create(null),this.keyMap_)},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.getRegistry=function(){return(0,$.module$exports$Blockly$utils$object.deepMerge)(Object.create(null),this.registry_)},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.onKeyDown=function(a,b){var c=this.serializeKeyEvent_(b);if(!(c=this.getShortcutNamesByKeyCode(c)))return!1;for(var e,d=0;e=c[d];d++)if((!(e=this.registry_[e]).preconditionFn||e.preconditionFn(a))&&e.callback&&e.callback(a,b,e))return!0;return!1},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(a){return this.keyMap_[a]||[]},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(a){var c,b=[];for(c in this.keyMap_)-1<this.keyMap_[c].indexOf(a)&&b.push(c);return b},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.serializeKeyEvent_=function(a){var c,b="";for(c in module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.modifierKeys)a.getModifierState(c)&&(""!==b&&(b+="+"),b+=c);return""!==b&&a.keyCode?b=b+"+"+a.keyCode:a.keyCode&&(b=a.keyCode.toString()),b},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.checkModifiers_=function(a){for(var d,b=(0,$.module$exports$Blockly$utils$object.values)(module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.modifierKeys),c=0;d=a[c];c++)if(0>b.indexOf(d))throw Error(d+" is not a valid modifier key.")},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.prototype.createSerializedKey=function(a,b){var c="";if(b)for(var d in this.checkModifiers_(b),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.modifierKeys)-1<b.indexOf(module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.modifierKeys[d])&&(""!==c&&(c+="+"),c+=d);return""!==c&&a?c=c+"+"+a:a&&(c=a.toString()),c},module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.modifierKeys={Shift:module$exports$Blockly$utils$KeyCodes_KeyCodes.SHIFT,Control:module$exports$Blockly$utils$KeyCodes_KeyCodes.CTRL,Alt:module$exports$Blockly$utils$KeyCodes_KeyCodes.ALT,Meta:module$exports$Blockly$utils$KeyCodes_KeyCodes.META};var module$contents$Blockly$ShortcutRegistry_registry=new module$exports$Blockly$ShortcutRegistry.ShortcutRegistry;module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry=module$contents$Blockly$ShortcutRegistry_registry;var module$exports$Blockly$WorkspaceDragSurfaceSvg={WorkspaceDragSurfaceSvg:function(a){this.SVG_=null,this.container_=a,this.previousSibling_=null,this.createDom()}};module$exports$Blockly$WorkspaceDragSurfaceSvg.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.SVG,{xmlns:module$exports$Blockly$utils$dom.SVG_NS,"xmlns:html":module$exports$Blockly$utils$dom.HTML_NS,"xmlns:xlink":module$exports$Blockly$utils$dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},module$exports$Blockly$WorkspaceDragSurfaceSvg.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(a,b){a=a.toFixed(0),b=b.toFixed(0),this.SVG_.style.display="block",(0,module$exports$Blockly$utils$dom.setCssTransform)(this.SVG_,"translate3d("+a+"px, "+b+"px, 0)")},module$exports$Blockly$WorkspaceDragSurfaceSvg.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return(0,module$exports$Blockly$utils$svgMath.getRelativeXY)(this.SVG_)},module$exports$Blockly$WorkspaceDragSurfaceSvg.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.SVG_.childNodes[0],c=this.SVG_.childNodes[1];if(!(b&&c&&(0,module$exports$Blockly$utils$dom.hasClass)(b,"blocklyBlockCanvas")&&(0,module$exports$Blockly$utils$dom.hasClass)(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!==this.previousSibling_?(0,module$exports$Blockly$utils$dom.insertAfter)(b,this.previousSibling_):a.insertBefore(b,a.firstChild),(0,module$exports$Blockly$utils$dom.insertAfter)(c,b),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");(0,module$exports$Blockly$utils$dom.setCssTransform)(this.SVG_,""),this.previousSibling_=null},module$exports$Blockly$WorkspaceDragSurfaceSvg.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(a,b,c,d,e,f){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=c,a.setAttribute("transform","translate(0, 0) scale("+f+")"),b.setAttribute("transform","translate(0, 0) scale("+f+")"),this.SVG_.setAttribute("width",d),this.SVG_.setAttribute("height",e),this.SVG_.appendChild(a),this.SVG_.appendChild(b),this.SVG_.style.display="block"};var module$exports$Blockly$clipboard={},module$contents$Blockly$clipboard_copyData=null;module$exports$Blockly$clipboard.copy=function(a){module$contents$Blockly$clipboard_copyData=a.toCopyData()},module$exports$Blockly$clipboard.paste=function(){if(!module$contents$Blockly$clipboard_copyData)return null;var a=module$contents$Blockly$clipboard_copyData.source;return a.isFlyout&&(a=a.targetWorkspace),module$contents$Blockly$clipboard_copyData.typeCounts&&a.isCapacityAvailable(module$contents$Blockly$clipboard_copyData.typeCounts)?a.paste(module$contents$Blockly$clipboard_copyData.saveInfo):null},module$exports$Blockly$clipboard.duplicate=function(a){var b=module$contents$Blockly$clipboard_copyData;return(0,module$exports$Blockly$clipboard.copy)(a),a=a.workspace.paste(module$contents$Blockly$clipboard_copyData.saveInfo),module$contents$Blockly$clipboard_copyData=b,a},$.module$exports$Blockly$config={},$.module$exports$Blockly$config.config={dragRadius:5,flyoutDragRadius:10,snapRadius:28,connectingSnapRadius:28,currentConnectionPreference:8,bumpDelay:250};var module$exports$Blockly$MenuItem={MenuItem:function(a,b){this.content_=a,this.value_=b,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null}};module$exports$Blockly$MenuItem.MenuItem.prototype.createDom=function(){var a=document.createElement("div");a.id=(0,module$exports$Blockly$utils$idGenerator.getNextUniqueId)(),this.element_=a,a.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var b=document.createElement("div");if(b.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var c=document.createElement("div");c.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",b.appendChild(c)}return c=this.content_,"string"==typeof this.content_&&(c=document.createTextNode(this.content_)),b.appendChild(c),a.appendChild(b),this.roleName_&&(0,module$exports$Blockly$utils$aria.setRole)(a,this.roleName_),(0,module$exports$Blockly$utils$aria.setState)(a,module$exports$Blockly$utils$aria.State.SELECTED,this.checkable_&&this.checked_||!1),(0,module$exports$Blockly$utils$aria.setState)(a,module$exports$Blockly$utils$aria.State.DISABLED,!this.enabled_),a},module$exports$Blockly$MenuItem.MenuItem.prototype.dispose=function(){this.element_=null},module$exports$Blockly$MenuItem.MenuItem.prototype.getElement=function(){return this.element_},module$exports$Blockly$MenuItem.MenuItem.prototype.getId=function(){return this.element_.id},module$exports$Blockly$MenuItem.MenuItem.prototype.getValue=function(){return this.value_},module$exports$Blockly$MenuItem.MenuItem.prototype.setRightToLeft=function(a){this.rightToLeft_=a},module$exports$Blockly$MenuItem.MenuItem.prototype.setRole=function(a){this.roleName_=a},module$exports$Blockly$MenuItem.MenuItem.prototype.setCheckable=function(a){this.checkable_=a},module$exports$Blockly$MenuItem.MenuItem.prototype.setChecked=function(a){this.checked_=a},module$exports$Blockly$MenuItem.MenuItem.prototype.setHighlighted=function(a){this.highlight_=a;var b=this.getElement();b&&this.isEnabled()&&(a?((0,module$exports$Blockly$utils$dom.addClass)(b,"blocklyMenuItemHighlight"),(0,module$exports$Blockly$utils$dom.addClass)(b,"goog-menuitem-highlight")):((0,module$exports$Blockly$utils$dom.removeClass)(b,"blocklyMenuItemHighlight"),(0,module$exports$Blockly$utils$dom.removeClass)(b,"goog-menuitem-highlight")))},module$exports$Blockly$MenuItem.MenuItem.prototype.isEnabled=function(){return this.enabled_},module$exports$Blockly$MenuItem.MenuItem.prototype.setEnabled=function(a){this.enabled_=a},module$exports$Blockly$MenuItem.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},module$exports$Blockly$MenuItem.MenuItem.prototype.onAction=function(a,b){this.actionHandler_=a.bind(b)};var module$exports$Blockly$Menu={Menu:function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null}};module$exports$Blockly$Menu.Menu.prototype.addChild=function(a){this.menuItems_.push(a)},module$exports$Blockly$Menu.Menu.prototype.render=function(a){var b=document.createElement("div");b.className="blocklyMenu goog-menu blocklyNonSelectable",b.tabIndex=0,this.roleName_&&(0,module$exports$Blockly$utils$aria.setRole)(b,this.roleName_),this.element_=b;for(var d,c=0;d=this.menuItems_[c];c++)b.appendChild(d.createDom());this.mouseOverHandler_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"keydown",this,this.handleKeyEvent_),a.appendChild(b)},module$exports$Blockly$Menu.Menu.prototype.getElement=function(){return this.element_},module$exports$Blockly$Menu.Menu.prototype.focus=function(){var a=this.getElement();a&&(a.focus({preventScroll:!0}),(0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyFocused"))},module$exports$Blockly$Menu.Menu.prototype.blur_=function(){var a=this.getElement();a&&(a.blur(),(0,module$exports$Blockly$utils$dom.removeClass)(a,"blocklyFocused"))},module$exports$Blockly$Menu.Menu.prototype.setRole=function(a){this.roleName_=a},module$exports$Blockly$Menu.Menu.prototype.dispose=function(){this.mouseOverHandler_&&((0,module$exports$Blockly$browserEvents.unbind)(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&((0,module$exports$Blockly$browserEvents.unbind)(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&((0,module$exports$Blockly$browserEvents.unbind)(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&((0,module$exports$Blockly$browserEvents.unbind)(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var b,a=0;b=this.menuItems_[a];a++)b.dispose();this.element_=null},module$exports$Blockly$Menu.Menu.prototype.getMenuItem_=function(a){for(var b=this.getElement();a&&a!==b;){if((0,module$exports$Blockly$utils$dom.hasClass)(a,"blocklyMenuItem"))for(var d,c=0;d=this.menuItems_[c];c++)if(d.getElement()===a)return d;a=a.parentElement}return null},module$exports$Blockly$Menu.Menu.prototype.setHighlighted=function(a){var b=this.highlightedItem_;b&&(b.setHighlighted(!1),this.highlightedItem_=null),a&&(a.setHighlighted(!0),this.highlightedItem_=a,b=this.getElement(),(0,module$exports$Blockly$utils$style.scrollIntoContainerView)(a.getElement(),b),(0,module$exports$Blockly$utils$aria.setState)(b,module$exports$Blockly$utils$aria.State.ACTIVEDESCENDANT,a.getId()))},module$exports$Blockly$Menu.Menu.prototype.highlightNext=function(){var a=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(a,1)},module$exports$Blockly$Menu.Menu.prototype.highlightPrevious=function(){var a=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>a?this.menuItems_.length:a,-1)},module$exports$Blockly$Menu.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},module$exports$Blockly$Menu.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},module$exports$Blockly$Menu.Menu.prototype.highlightHelper_=function(a,b){a+=b;for(var c;c=this.menuItems_[a];){if(c.isEnabled()){this.setHighlighted(c);break}a+=b}},module$exports$Blockly$Menu.Menu.prototype.handleMouseOver_=function(a){(a=this.getMenuItem_(a.target))&&(a.isEnabled()?this.highlightedItem_!==a&&this.setHighlighted(a):this.setHighlighted(null))},module$exports$Blockly$Menu.Menu.prototype.handleClick_=function(a){var b=this.openingCoords;if(this.openingCoords=null,b&&"number"==typeof a.clientX){var c=new module$exports$Blockly$utils$Coordinate.Coordinate(a.clientX,a.clientY);if(1>module$exports$Blockly$utils$Coordinate.Coordinate.distance(b,c))return}(a=this.getMenuItem_(a.target))&&a.performAction()},module$exports$Blockly$Menu.Menu.prototype.handleMouseEnter_=function(a){this.focus()},module$exports$Blockly$Menu.Menu.prototype.handleMouseLeave_=function(a){this.getElement()&&(this.blur_(),this.setHighlighted(null))},module$exports$Blockly$Menu.Menu.prototype.handleKeyEvent_=function(a){if(this.menuItems_.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.highlightedItem_;switch(a.keyCode){case module$exports$Blockly$utils$KeyCodes_KeyCodes.ENTER:case module$exports$Blockly$utils$KeyCodes_KeyCodes.SPACE:b&&b.performAction();break;case module$exports$Blockly$utils$KeyCodes_KeyCodes.UP:this.highlightPrevious();break;case module$exports$Blockly$utils$KeyCodes_KeyCodes.DOWN:this.highlightNext();break;case module$exports$Blockly$utils$KeyCodes_KeyCodes.PAGE_UP:case module$exports$Blockly$utils$KeyCodes_KeyCodes.HOME:this.highlightFirst_();break;case module$exports$Blockly$utils$KeyCodes_KeyCodes.PAGE_DOWN:case module$exports$Blockly$utils$KeyCodes_KeyCodes.END:this.highlightLast_();break;default:return}a.preventDefault(),a.stopPropagation()}},module$exports$Blockly$Menu.Menu.prototype.getSize=function(){var a=this.getElement(),b=(0,module$exports$Blockly$utils$style.getSize)(a);return b.height=a.scrollHeight,b};var module$exports$Blockly$serialization$priorities={VARIABLES:100,BLOCKS:50},module$exports$Blockly$serialization$registry={register:function(a,b){(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.SERIALIZER,a,b)},unregister:function(a){(0,module$exports$Blockly$registry.unregister)(module$exports$Blockly$registry.Type.SERIALIZER,a)}},module$exports$Blockly$serialization$exceptions={DeserializationError:function(){var a=Error.apply(this,arguments);this.message=a.message,"stack"in a&&(this.stack=a.stack)}};$.$jscomp.inherits(module$exports$Blockly$serialization$exceptions.DeserializationError,Error),module$exports$Blockly$serialization$exceptions.MissingBlockType=function(a){module$exports$Blockly$serialization$exceptions.DeserializationError.call(this,"Expected to find a 'type' property, defining the block type"),this.state=a},$.$jscomp.inherits(module$exports$Blockly$serialization$exceptions.MissingBlockType,module$exports$Blockly$serialization$exceptions.DeserializationError),module$exports$Blockly$serialization$exceptions.MissingConnection=function(a,b,c){module$exports$Blockly$serialization$exceptions.DeserializationError.call(this,"The block "+b.toDevString()+" is missing a(n) "+a+"\nconnection"),this.block=b,this.state=c},$.$jscomp.inherits(module$exports$Blockly$serialization$exceptions.MissingConnection,module$exports$Blockly$serialization$exceptions.DeserializationError),module$exports$Blockly$serialization$exceptions.BadConnectionCheck=function(a,b,c,d){module$exports$Blockly$serialization$exceptions.DeserializationError.call(this,"The block "+c.toDevString()+" could not connect its\n"+b+" to its parent, because: "+a),this.childBlock=c,this.childState=d},$.$jscomp.inherits(module$exports$Blockly$serialization$exceptions.BadConnectionCheck,module$exports$Blockly$serialization$exceptions.DeserializationError),module$exports$Blockly$serialization$exceptions.RealChildOfShadow=function(a){module$exports$Blockly$serialization$exceptions.DeserializationError.call(this,"Encountered a real block which is defined as a child of a shadow\nblock. It is an invariant of Blockly that shadow blocks only have shadow\nchildren"),this.state=a},$.$jscomp.inherits(module$exports$Blockly$serialization$exceptions.RealChildOfShadow,module$exports$Blockly$serialization$exceptions.DeserializationError);var module$exports$Blockly$serialization$ISerializer={ISerializer:function(){}};module$exports$Blockly$serialization$ISerializer.ISerializer.prototype.save=function(a){},module$exports$Blockly$serialization$ISerializer.ISerializer.prototype.load=function(a,b){},module$exports$Blockly$serialization$ISerializer.ISerializer.prototype.clear=function(a){};var module$exports$Blockly$serialization$blocks={save:function(a,b){var c=void 0===b?{}:b;b=void 0!==c.addCoordinates&&c.addCoordinates;var d=void 0===c.addInputBlocks||c.addInputBlocks,e=void 0===c.addNextBlocks||c.addNextBlocks;if(c=void 0===c.doFullSerialization||c.doFullSerialization,a.isInsertionMarker())return null;var f={type:a.type,id:a.id};return b&&module$contents$Blockly$serialization$blocks_saveCoords(a,f),module$contents$Blockly$serialization$blocks_saveAttributes(a,f),module$contents$Blockly$serialization$blocks_saveExtraState(a,f),module$contents$Blockly$serialization$blocks_saveIcons(a,f),module$contents$Blockly$serialization$blocks_saveFields(a,f,c),d&&module$contents$Blockly$serialization$blocks_saveInputBlocks(a,f,c),e&&module$contents$Blockly$serialization$blocks_saveNextBlocks(a,f,c),f}},module$contents$Blockly$serialization$blocks_saveAttributes=function(a,b){a.isCollapsed()&&(b.collapsed=!0),a.isEnabled()||(b.enabled=!1),void 0!==a.inputsInline&&a.inputsInline!==a.inputsInlineDefault&&(b.inline=a.inputsInline),a.data&&(b.data=a.data)},module$contents$Blockly$serialization$blocks_saveCoords=function(a,b){var c=a.workspace;a=a.getRelativeToSurfaceXY(),b.x=Math.round(c.RTL?c.getWidth()-a.x:a.x),b.y=Math.round(a.y)},module$contents$Blockly$serialization$blocks_saveExtraState=function(a,b){a.saveExtraState?null!==(a=a.saveExtraState())&&(b.extraState=a):a.mutationToDom&&null!==(a=a.mutationToDom())&&(b.extraState=(0,$.module$exports$Blockly$Xml.domToText)(a).replace(' xmlns="https://developers.google.com/blockly/xml"',""))},module$contents$Blockly$serialization$blocks_saveIcons=function(a,b){a.getCommentText()&&(b.icons={comment:{text:a.getCommentText(),pinned:a.commentModel.pinned,height:Math.round(a.commentModel.size.height),width:Math.round(a.commentModel.size.width)}})},module$contents$Blockly$serialization$blocks_saveFields=function(a,b,c){for(var d=Object.create(null),e=0;e<a.inputList.length;e++)for(var f=a.inputList[e],g=0;g<f.fieldRow.length;g++){var h=f.fieldRow[g];h.isSerializable()&&(d[h.name]=h.saveState(c))}Object.keys(d).length&&(b.fields=d)},module$contents$Blockly$serialization$blocks_saveInputBlocks=function(a,b,c){for(var d=Object.create(null),e=0;e<a.inputList.length;e++){var f=a.inputList[e];if(f.type!==$.module$exports$Blockly$inputTypes.inputTypes.DUMMY){var g=module$contents$Blockly$serialization$blocks_saveConnection(f.connection,c);g&&(d[f.name]=g)}}Object.keys(d).length&&(b.inputs=d)},module$contents$Blockly$serialization$blocks_saveNextBlocks=function(a,b,c){a.nextConnection&&(a=module$contents$Blockly$serialization$blocks_saveConnection(a.nextConnection,c))&&(b.next=a)},module$contents$Blockly$serialization$blocks_saveConnection=function(a,b){var c=a.getShadowState(!0);if(a=a.targetBlock(),!c&&!a)return null;var d=Object.create(null);return c&&(d.shadow=c),a&&!a.isShadow()&&(d.block=(0,module$exports$Blockly$serialization$blocks.save)(a,{doFullSerialization:b})),d};module$exports$Blockly$serialization$blocks.append=function(a,b,c){return c=void 0===c?{}:c,(0,module$exports$Blockly$serialization$blocks.appendInternal)(a,b,{recordUndo:void 0!==c.recordUndo&&c.recordUndo})},module$exports$Blockly$serialization$blocks.appendInternal=function(a,b,c){var d=void 0===c?{}:c;c=void 0===d.parentConnection?void 0:d.parentConnection;var e=void 0!==d.isShadow&&d.isShadow,f=void 0!==d.recordUndo&&d.recordUndo;d=(0,module$exports$Blockly$Events$utils.getRecordUndo)(),(0,module$exports$Blockly$Events$utils.setRecordUndo)(f),(f=(0,module$exports$Blockly$Events$utils.getGroup)())||(0,module$exports$Blockly$Events$utils.setGroup)(!0),(0,module$exports$Blockly$Events$utils.disable)();var g=module$contents$Blockly$serialization$blocks_appendPrivate(a,b,{parentConnection:c,isShadow:e});return(0,module$exports$Blockly$Events$utils.enable)(),(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CREATE))(g)),(0,module$exports$Blockly$Events$utils.setGroup)(f),(0,module$exports$Blockly$Events$utils.setRecordUndo)(d),b.rendered&&setTimeout((function(){g.disposed||g.setConnectionTracking(!0)}),1),g};var module$contents$Blockly$serialization$blocks_appendPrivate=function(a,b,c){var d=void 0===c?{}:c;if(c=void 0===d.parentConnection?void 0:d.parentConnection,d=void 0!==d.isShadow&&d.isShadow,!a.type)throw new module$exports$Blockly$serialization$exceptions.MissingBlockType(a);var e=b.newBlock(a.type,a.id);return e.setShadow(d),module$contents$Blockly$serialization$blocks_loadCoords(e,a),module$contents$Blockly$serialization$blocks_loadAttributes(e,a),module$contents$Blockly$serialization$blocks_loadExtraState(e,a),module$contents$Blockly$serialization$blocks_tryToConnectParent(c,e,a),module$contents$Blockly$serialization$blocks_loadIcons(e,a),module$contents$Blockly$serialization$blocks_loadFields(e,a),module$contents$Blockly$serialization$blocks_loadInputBlocks(e,a),module$contents$Blockly$serialization$blocks_loadNextBlocks(e,a),module$contents$Blockly$serialization$blocks_initBlock(e,b.rendered),e},module$contents$Blockly$serialization$blocks_loadCoords=function(a,b){var c=void 0===b.x?0:b.x;b=void 0===b.y?0:b.y;var d=a.workspace;c=d.RTL?d.getWidth()-c:c,a.moveBy(c,b)},module$contents$Blockly$serialization$blocks_loadAttributes=function(a,b){b.collapsed&&a.setCollapsed(!0),!1===b.enabled&&a.setEnabled(!1),void 0!==b.inline&&a.setInputsInline(b.inline),void 0!==b.data&&(a.data=b.data)},module$contents$Blockly$serialization$blocks_loadExtraState=function(a,b){b.extraState&&(a.loadExtraState?a.loadExtraState(b.extraState):a.domToMutation((0,$.module$exports$Blockly$Xml.textToDom)(b.extraState)))},module$contents$Blockly$serialization$blocks_tryToConnectParent=function(a,b,c){if(a){if(a.getSourceBlock().isShadow()&&!b.isShadow())throw new module$exports$Blockly$serialization$exceptions.RealChildOfShadow(c);if(a.type===$.module$exports$Blockly$inputTypes.inputTypes.VALUE){var d=b.outputConnection;if(!d)throw new module$exports$Blockly$serialization$exceptions.MissingConnection("output",b,c)}else if(!(d=b.previousConnection))throw new module$exports$Blockly$serialization$exceptions.MissingConnection("previous",b,c);if(!a.connect(d)){var e=b.workspace.connectionChecker;throw new module$exports$Blockly$serialization$exceptions.BadConnectionCheck(e.getErrorMessage(e.canConnectWithReason(d,a,!1),d,a),a.type===$.module$exports$Blockly$inputTypes.inputTypes.VALUE?"output connection":"previous connection",b,c)}}},module$contents$Blockly$serialization$blocks_loadIcons=function(a,b){b.icons&&(b=b.icons.comment)&&(a.setCommentText(b.text),"pinned"in b&&(a.commentModel.pinned=b.pinned),"width"in b&&"height"in b&&(a.commentModel.size=new module$exports$Blockly$utils$Size.Size(b.width,b.height)),b.pinned&&a.rendered&&!a.isInFlyout&&setTimeout((function(){return a.getCommentIcon().setVisible(!0)}),1))},module$contents$Blockly$serialization$blocks_loadFields=function(a,b){if(b.fields)for(var c=Object.keys(b.fields),d=0;d<c.length;d++){var e=c[d],f=b.fields[e],g=a.getField(e);g?g.loadState(f):console.warn("Ignoring non-existant field "+e+" in block "+a.type)}},module$contents$Blockly$serialization$blocks_loadInputBlocks=function(a,b){if(b.inputs)for(var c=Object.keys(b.inputs),d=0;d<c.length;d++){var e=c[d],f=a.getInput(e);if(!f||!f.connection)throw new module$exports$Blockly$serialization$exceptions.MissingConnection(e,a,b);module$contents$Blockly$serialization$blocks_loadConnection(f.connection,b.inputs[e])}},module$contents$Blockly$serialization$blocks_loadNextBlocks=function(a,b){if(b.next){if(!a.nextConnection)throw new module$exports$Blockly$serialization$exceptions.MissingConnection("next",a,b);module$contents$Blockly$serialization$blocks_loadConnection(a.nextConnection,b.next)}},module$contents$Blockly$serialization$blocks_loadConnection=function(a,b){b.shadow&&a.setShadowState(b.shadow),b.block&&module$contents$Blockly$serialization$blocks_appendPrivate(b.block,a.getSourceBlock().workspace,{parentConnection:a})},module$contents$Blockly$serialization$blocks_initBlock=function(a,b){if(b)for(a.setConnectionTracking(!1),a.initSvg(),a.render(!1),a=a.getIcons(),b=0;b<a.length;b++)a[b].computeIconLocation();else a.initModel()},module$contents$Blockly$serialization$blocks_saveBlock=module$exports$Blockly$serialization$blocks.save,module$contents$Blockly$serialization$blocks_BlockSerializer=function(){this.priority=module$exports$Blockly$serialization$priorities.BLOCKS};module$contents$Blockly$serialization$blocks_BlockSerializer.prototype.save=function(a){for(var b=[],c=(a=$.$jscomp.makeIterator(a.getTopBlocks(!1))).next();!c.done;c=a.next())(c=module$contents$Blockly$serialization$blocks_saveBlock(c.value,{addCoordinates:!0,doFullSerialization:!1}))&&b.push(c);return b.length?{languageVersion:0,blocks:b}:null},module$contents$Blockly$serialization$blocks_BlockSerializer.prototype.load=function(a,b){for(var c=(a=$.$jscomp.makeIterator(a.blocks)).next();!c.done;c=a.next())(0,module$exports$Blockly$serialization$blocks.append)(c.value,b,{recordUndo:(0,module$exports$Blockly$Events$utils.getRecordUndo)()})},module$contents$Blockly$serialization$blocks_BlockSerializer.prototype.clear=function(a){for(var b=(a=$.$jscomp.makeIterator(a.getTopBlocks(!1))).next();!b.done;b=a.next())b.value.dispose(!1)},(0,module$exports$Blockly$serialization$registry.register)("blocks",new module$contents$Blockly$serialization$blocks_BlockSerializer);var module$exports$Blockly$Events$Abstract={Abstract:function(){this.isBlank=null,this.workspaceId=void 0,this.group=(0,module$exports$Blockly$Events$utils.getGroup)(),this.recordUndo=(0,module$exports$Blockly$Events$utils.getRecordUndo)(),this.isUiEvent=!1,this.type=void 0}};module$exports$Blockly$Events$Abstract.Abstract.prototype.toJson=function(){var a={type:this.type};return this.group&&(a.group=this.group),a},module$exports$Blockly$Events$Abstract.Abstract.prototype.fromJson=function(a){this.isBlank=!1,this.group=a.group},module$exports$Blockly$Events$Abstract.Abstract.prototype.isNull=function(){return!1},module$exports$Blockly$Events$Abstract.Abstract.prototype.run=function(a){},module$exports$Blockly$Events$Abstract.Abstract.prototype.getEventWorkspace_=function(){var a;if(this.workspaceId&&(a=module$exports$Blockly$Workspace.Workspace.getById(this.workspaceId)),!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};var module$exports$Blockly$Events$BlockBase={BlockBase:function(a){module$exports$Blockly$Events$Abstract.Abstract.call(this),this.blockId=(this.isBlank=void 0===a)?"":a.id,this.workspaceId=this.isBlank?"":a.workspace.id}};$.$jscomp.inherits(module$exports$Blockly$Events$BlockBase.BlockBase,module$exports$Blockly$Events$Abstract.Abstract),module$exports$Blockly$Events$BlockBase.BlockBase.prototype.toJson=function(){var a=module$exports$Blockly$Events$Abstract.Abstract.prototype.toJson.call(this);return a.blockId=this.blockId,a},module$exports$Blockly$Events$BlockBase.BlockBase.prototype.fromJson=function(a){module$exports$Blockly$Events$Abstract.Abstract.prototype.fromJson.call(this,a),this.blockId=a.blockId};var module$contents$Blockly$ContextMenu_currentBlock,module$exports$Blockly$Events$BlockCreate={BlockCreate:function(a){module$exports$Blockly$Events$BlockBase.BlockBase.call(this,a),this.type=module$exports$Blockly$Events$utils.CREATE,a&&(a.isShadow()&&(this.recordUndo=!1),this.xml=(0,$.module$exports$Blockly$Xml.blockToDomWithXY)(a),this.ids=(0,module$exports$Blockly$Events$utils.getDescendantIds)(a),this.json=(0,module$exports$Blockly$serialization$blocks.save)(a,{addCoordinates:!0}))}};$.$jscomp.inherits(module$exports$Blockly$Events$BlockCreate.BlockCreate,module$exports$Blockly$Events$BlockBase.BlockBase),module$exports$Blockly$Events$BlockCreate.BlockCreate.prototype.toJson=function(){var a=module$exports$Blockly$Events$BlockBase.BlockBase.prototype.toJson.call(this);return a.xml=(0,$.module$exports$Blockly$Xml.domToText)(this.xml),a.ids=this.ids,a.json=this.json,this.recordUndo||(a.recordUndo=this.recordUndo),a},module$exports$Blockly$Events$BlockCreate.BlockCreate.prototype.fromJson=function(a){module$exports$Blockly$Events$BlockBase.BlockBase.prototype.fromJson.call(this,a),this.xml=(0,$.module$exports$Blockly$Xml.textToDom)(a.xml),this.ids=a.ids,this.json=a.json,void 0!==a.recordUndo&&(this.recordUndo=a.recordUndo)},module$exports$Blockly$Events$BlockCreate.BlockCreate.prototype.run=function(a){var b=this.getEventWorkspace_();if(a)(0,module$exports$Blockly$serialization$blocks.append)(this.json,b);else for(a=0;a<this.ids.length;a++){var c=this.ids[a],d=b.getBlockById(c);d?d.dispose(!1):c===this.blockId&&console.warn("Can't uncreate non-existent block: "+c)}},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.CREATE,module$exports$Blockly$Events$BlockCreate.BlockCreate),$.module$exports$Blockly$ContextMenu={},module$contents$Blockly$ContextMenu_currentBlock=null,$.module$exports$Blockly$ContextMenu.getCurrentBlock=function(){return module$contents$Blockly$ContextMenu_currentBlock},$.module$exports$Blockly$ContextMenu.setCurrentBlock=function(a){module$contents$Blockly$ContextMenu_currentBlock=a},Object.defineProperties($.module$exports$Blockly$ContextMenu,{currentBlock:{get:function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.getCurrentBlock()"),(0,$.module$exports$Blockly$ContextMenu.getCurrentBlock)()},set:function(a){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.setCurrentBlock(block)"),(0,$.module$exports$Blockly$ContextMenu.setCurrentBlock)(a)}}});var module$contents$Blockly$ContextMenu_menu_=null;$.module$exports$Blockly$ContextMenu.show=function(a,b,c){if((0,module$exports$Blockly$WidgetDiv.show)($.module$exports$Blockly$ContextMenu,c,$.module$exports$Blockly$ContextMenu.dispose),b.length){var d=module$contents$Blockly$ContextMenu_populate_(b,c);module$contents$Blockly$ContextMenu_menu_=d,module$contents$Blockly$ContextMenu_position_(d,a,c),setTimeout((function(){d.focus()}),1),module$contents$Blockly$ContextMenu_currentBlock=null}else(0,$.module$exports$Blockly$ContextMenu.hide)()};var module$contents$Blockly$ContextMenu_populate_=function(a,b){var c=new module$exports$Blockly$Menu.Menu;c.setRole(module$exports$Blockly$utils$aria.Role.MENU);for(var d=0;d<a.length;d++){var e=a[d],f=new module$exports$Blockly$MenuItem.MenuItem(e.text);f.setRightToLeft(b),f.setRole(module$exports$Blockly$utils$aria.Role.MENUITEM),c.addChild(f),f.setEnabled(e.enabled),e.enabled&&f.onAction((function(g){(0,$.module$exports$Blockly$ContextMenu.hide)(),this.callback(this.scope)}),e)}return c},module$contents$Blockly$ContextMenu_position_=function(a,b,c){var d=(0,module$exports$Blockly$utils$svgMath.getViewportBBox)();b=new module$exports$Blockly$utils$Rect.Rect(b.clientY+d.top,b.clientY+d.top,b.clientX+d.left,b.clientX+d.left),module$contents$Blockly$ContextMenu_createWidget_(a);var e=a.getSize();c&&(b.left+=e.width,b.right+=e.width,d.left+=e.width,d.right+=e.width),(0,module$exports$Blockly$WidgetDiv.positionWithAnchor)(d,b,e,c),a.focus()},module$contents$Blockly$ContextMenu_createWidget_=function(a){var b=(0,module$exports$Blockly$WidgetDiv.getDiv)();if(!b)throw Error("Attempting to create a context menu when widget div is null");a.render(b),b=a.getElement(),(0,module$exports$Blockly$utils$dom.addClass)(b,"blocklyContextMenu"),(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"contextmenu",null,module$contents$Blockly$ContextMenu_haltPropagation),a.focus()},module$contents$Blockly$ContextMenu_haltPropagation=function(a){a.preventDefault(),a.stopPropagation()};$.module$exports$Blockly$ContextMenu.hide=function(){(0,module$exports$Blockly$WidgetDiv.hideIfOwner)($.module$exports$Blockly$ContextMenu),module$contents$Blockly$ContextMenu_currentBlock=null},$.module$exports$Blockly$ContextMenu.dispose=function(){module$contents$Blockly$ContextMenu_menu_&&(module$contents$Blockly$ContextMenu_menu_.dispose(),module$contents$Blockly$ContextMenu_menu_=null)},$.module$exports$Blockly$ContextMenu.callbackFactory=function(a,b){return function(){(0,module$exports$Blockly$Events$utils.disable)();try{var c=(0,$.module$exports$Blockly$Xml.domToBlock)(b,a.workspace),d=a.getRelativeToSurfaceXY();d.x=a.RTL?d.x-$.module$exports$Blockly$config.config.snapRadius:d.x+$.module$exports$Blockly$config.config.snapRadius,d.y+=2*$.module$exports$Blockly$config.config.snapRadius,c.moveBy(d.x,d.y)}finally{(0,module$exports$Blockly$Events$utils.enable)()}(0,module$exports$Blockly$Events$utils.isEnabled)()&&!c.isShadow()&&(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CREATE))(c)),c.select()}},$.module$exports$Blockly$ContextMenu.commentDeleteOption=function(a){return{text:$.module$exports$Blockly$Msg.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){(0,module$exports$Blockly$Events$utils.setGroup)(!0),a.dispose(),(0,module$exports$Blockly$Events$utils.setGroup)(!1)}}},$.module$exports$Blockly$ContextMenu.commentDuplicateOption=function(a){return{text:$.module$exports$Blockly$Msg.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){(0,module$exports$Blockly$clipboard.duplicate)(a)}}},$.module$exports$Blockly$ContextMenu.workspaceCommentOption=function(a,b){var c=module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg;if(!c)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!module$exports$Blockly$utils$userAgent.IE};return d.text=$.module$exports$Blockly$Msg.Msg.ADD_COMMENT,d.callback=function(){var e=new c(a,$.module$exports$Blockly$Msg.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,c.DEFAULT_SIZE,c.DEFAULT_SIZE),f=a.getInjectionDiv().getBoundingClientRect();f=new module$exports$Blockly$utils$Coordinate.Coordinate(b.clientX-f.left,b.clientY-f.top);var g=a.getOriginOffsetInPixels();(f=module$exports$Blockly$utils$Coordinate.Coordinate.difference(f,g)).scale(1/a.scale),e.moveBy(f.x,f.y),a.rendered&&(e.initSvg(),e.render(),e.select())},d};var module$exports$Blockly$utils$array_removeElem=function(a,b){return-1!==(b=a.indexOf(b))&&(a.splice(b,1),!0)},module$exports$Blockly$blockRendering$debug={},module$contents$Blockly$blockRendering$debug_useDebugger=!1;module$exports$Blockly$blockRendering$debug.isDebuggerEnabled=function(){return module$contents$Blockly$blockRendering$debug_useDebugger},module$exports$Blockly$blockRendering$debug.startDebugger=function(){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.blockRendering.debug.startDebugger()","February 2022","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),module$contents$Blockly$blockRendering$debug_useDebugger=!0},module$exports$Blockly$blockRendering$debug.stopDebugger=function(){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.blockRendering.debug.stopDebugger()","February 2022","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),module$contents$Blockly$blockRendering$debug_useDebugger=!1};var module$exports$Blockly$blockRendering$Types={Types:{NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608}};module$exports$Blockly$blockRendering$Types.Types.LEFT_CORNER=module$exports$Blockly$blockRendering$Types.Types.LEFT_SQUARE_CORNER|module$exports$Blockly$blockRendering$Types.Types.LEFT_ROUND_CORNER,module$exports$Blockly$blockRendering$Types.Types.RIGHT_CORNER=module$exports$Blockly$blockRendering$Types.Types.RIGHT_SQUARE_CORNER|module$exports$Blockly$blockRendering$Types.Types.RIGHT_ROUND_CORNER,module$exports$Blockly$blockRendering$Types.Types.nextTypeValue_=16777216,module$exports$Blockly$blockRendering$Types.Types.getType=function(a){return Object.prototype.hasOwnProperty.call(module$exports$Blockly$blockRendering$Types.Types,a)||(module$exports$Blockly$blockRendering$Types.Types[a]=module$exports$Blockly$blockRendering$Types.Types.nextTypeValue_,module$exports$Blockly$blockRendering$Types.Types.nextTypeValue_<<=1),module$exports$Blockly$blockRendering$Types.Types[a]},module$exports$Blockly$blockRendering$Types.Types.isField=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.FIELD},module$exports$Blockly$blockRendering$Types.Types.isHat=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.HAT},module$exports$Blockly$blockRendering$Types.Types.isIcon=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.ICON},module$exports$Blockly$blockRendering$Types.Types.isSpacer=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.SPACER},module$exports$Blockly$blockRendering$Types.Types.isInRowSpacer=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.IN_ROW_SPACER},module$exports$Blockly$blockRendering$Types.Types.isInput=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.INPUT},module$exports$Blockly$blockRendering$Types.Types.isExternalInput=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.EXTERNAL_VALUE_INPUT},module$exports$Blockly$blockRendering$Types.Types.isInlineInput=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.INLINE_INPUT},module$exports$Blockly$blockRendering$Types.Types.isStatementInput=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.STATEMENT_INPUT},module$exports$Blockly$blockRendering$Types.Types.isPreviousConnection=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.PREVIOUS_CONNECTION},module$exports$Blockly$blockRendering$Types.Types.isNextConnection=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.NEXT_CONNECTION},module$exports$Blockly$blockRendering$Types.Types.isPreviousOrNextConnection=function(a){return a.type&(module$exports$Blockly$blockRendering$Types.Types.PREVIOUS_CONNECTION|module$exports$Blockly$blockRendering$Types.Types.NEXT_CONNECTION)},module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.LEFT_ROUND_CORNER},module$exports$Blockly$blockRendering$Types.Types.isRightRoundedCorner=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.RIGHT_ROUND_CORNER},module$exports$Blockly$blockRendering$Types.Types.isLeftSquareCorner=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.LEFT_SQUARE_CORNER},module$exports$Blockly$blockRendering$Types.Types.isRightSquareCorner=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.RIGHT_SQUARE_CORNER},module$exports$Blockly$blockRendering$Types.Types.isCorner=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.CORNER},module$exports$Blockly$blockRendering$Types.Types.isJaggedEdge=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.JAGGED_EDGE},module$exports$Blockly$blockRendering$Types.Types.isRow=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.ROW},module$exports$Blockly$blockRendering$Types.Types.isBetweenRowSpacer=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.BETWEEN_ROW_SPACER},module$exports$Blockly$blockRendering$Types.Types.isTopRow=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.TOP_ROW},module$exports$Blockly$blockRendering$Types.Types.isBottomRow=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.BOTTOM_ROW},module$exports$Blockly$blockRendering$Types.Types.isTopOrBottomRow=function(a){return a.type&(module$exports$Blockly$blockRendering$Types.Types.TOP_ROW|module$exports$Blockly$blockRendering$Types.Types.BOTTOM_ROW)},module$exports$Blockly$blockRendering$Types.Types.isInputRow=function(a){return a.type&module$exports$Blockly$blockRendering$Types.Types.INPUT_ROW};var module$exports$Blockly$blockRendering$Row={Row:function(a){this.type=module$exports$Blockly$blockRendering$Types.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.constants_=a,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null}};module$exports$Blockly$blockRendering$Row.Row.prototype.getLastInput=function(){for(var a=this.elements.length-1;0<=a;a--){var b=this.elements[a];if(module$exports$Blockly$blockRendering$Types.Types.isInput(b))return b}return null},module$exports$Blockly$blockRendering$Row.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},module$exports$Blockly$blockRendering$Row.Row.prototype.startsWithElemSpacer=function(){return!0},module$exports$Blockly$blockRendering$Row.Row.prototype.endsWithElemSpacer=function(){return!0},module$exports$Blockly$blockRendering$Row.Row.prototype.getFirstSpacer=function(){for(var a=0;a<this.elements.length;a++){var b=this.elements[a];if(module$exports$Blockly$blockRendering$Types.Types.isSpacer(b))return b}return null},module$exports$Blockly$blockRendering$Row.Row.prototype.getLastSpacer=function(){for(var a=this.elements.length-1;0<=a;a--){var b=this.elements[a];if(module$exports$Blockly$blockRendering$Types.Types.isSpacer(b))return b}return null};var module$exports$Blockly$blockRendering$BottomRow={BottomRow:function(a){module$exports$Blockly$blockRendering$Row.Row.call(this,a),this.type|=module$exports$Blockly$blockRendering$Types.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0}};$.$jscomp.inherits(module$exports$Blockly$blockRendering$BottomRow.BottomRow,module$exports$Blockly$blockRendering$Row.Row),module$exports$Blockly$blockRendering$BottomRow.BottomRow.prototype.hasLeftSquareCorner=function(a){return!!a.outputConnection||!!a.getNextBlock()},module$exports$Blockly$blockRendering$BottomRow.BottomRow.prototype.hasRightSquareCorner=function(a){return!0},module$exports$Blockly$blockRendering$BottomRow.BottomRow.prototype.measure=function(){for(var a=0,b=0,c=0,d=0;d<this.elements.length;d++){var e=this.elements[d];b+=e.width,module$exports$Blockly$blockRendering$Types.Types.isSpacer(e)||(module$exports$Blockly$blockRendering$Types.Types.isNextConnection(e)?c=Math.max(c,e.height):a=Math.max(a,e.height))}this.width=Math.max(this.minWidth,b),this.height=Math.max(this.minHeight,a)+c,this.descenderHeight=c,this.widthWithConnectedBlocks=this.width},module$exports$Blockly$blockRendering$BottomRow.BottomRow.prototype.startsWithElemSpacer=function(){return!1},module$exports$Blockly$blockRendering$BottomRow.BottomRow.prototype.endsWithElemSpacer=function(){return!1};var module$exports$Blockly$blockRendering$Measurable={Measurable:function(a){this.height=this.width=0,this.type=module$exports$Blockly$blockRendering$Types.Types.NONE,this.centerline=this.xPos=0,this.constants_=a,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},module$exports$Blockly$blockRendering$Connection={Connection:function(a,b){module$exports$Blockly$blockRendering$Measurable.Measurable.call(this,a),this.connectionModel=b,this.shape=this.constants_.shapeFor(b),this.isDynamicShape=!!this.shape.isDynamic,this.type|=module$exports$Blockly$blockRendering$Types.Types.CONNECTION}};$.$jscomp.inherits(module$exports$Blockly$blockRendering$Connection.Connection,module$exports$Blockly$blockRendering$Measurable.Measurable);var module$exports$Blockly$utils$colour={},module$contents$Blockly$utils$colour_hsvSaturation=.45;module$exports$Blockly$utils$colour.getHsvSaturation=function(){return module$contents$Blockly$utils$colour_hsvSaturation},module$exports$Blockly$utils$colour.setHsvSaturation=function(a){module$contents$Blockly$utils$colour_hsvSaturation=a};var module$contents$Blockly$utils$colour_hsvValue=.65;module$exports$Blockly$utils$colour.getHsvValue=function(){return module$contents$Blockly$utils$colour_hsvValue},module$exports$Blockly$utils$colour.setHsvValue=function(a){module$contents$Blockly$utils$colour_hsvValue=a},module$exports$Blockly$utils$colour.parse=function(a){a=String(a).toLowerCase().trim();var b=module$exports$Blockly$utils$colour.names[a];if(b)return b;if(b="#"===(b="0x"===a.substring(0,2)?"#"+a.substring(2):a)[0]?b:"#"+b,/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c)?(0,module$exports$Blockly$utils$colour.rgbToHex)(a,b,c):null},module$exports$Blockly$utils$colour.rgbToHex=function(a,b,c){return b=a<<16|b<<8|c,16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)},module$exports$Blockly$utils$colour.hexToRgb=function(a){return(a=(0,module$exports$Blockly$utils$colour.parse)(a))?[(a=parseInt(a.substr(1),16))>>16,a>>8&255,255&a]:[0,0,0]},module$exports$Blockly$utils$colour.hsvToHex=function(a,b,c){var d=0,e=0,f=0;if(0===b)f=e=d=c;else{var g=Math.floor(a/60),h=a/60-g;a=c*(1-b);var k=c*(1-b*h);switch(b=c*(1-b*(1-h)),g){case 1:d=k,e=c,f=a;break;case 2:d=a,e=c,f=b;break;case 3:d=a,e=k,f=c;break;case 4:d=b,e=a,f=c;break;case 5:d=c,e=a,f=k;break;case 6:case 0:d=c,e=b,f=a}}return(0,module$exports$Blockly$utils$colour.rgbToHex)(Math.floor(d),Math.floor(e),Math.floor(f))},module$exports$Blockly$utils$colour.blend=function(a,b,c){return(a=(0,module$exports$Blockly$utils$colour.parse)(a))&&(b=(0,module$exports$Blockly$utils$colour.parse)(b))?(a=(0,module$exports$Blockly$utils$colour.hexToRgb)(a),b=(0,module$exports$Blockly$utils$colour.hexToRgb)(b),(0,module$exports$Blockly$utils$colour.rgbToHex)(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))):null},module$exports$Blockly$utils$colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},module$exports$Blockly$utils$colour.hueToHex=function(a){return(0,module$exports$Blockly$utils$colour.hsvToHex)(a,module$contents$Blockly$utils$colour_hsvSaturation,255*module$contents$Blockly$utils$colour_hsvValue)};var module$exports$Blockly$utils$svgPaths={point:function(a,b){return" "+a+","+b+" "},curve:function(a,b){return" "+a+b.join("")},moveTo:function(a,b){return" M "+a+","+b+" "},moveBy:function(a,b){return" m "+a+","+b+" "},lineTo:function(a,b){return" l "+a+","+b+" "},line:function(a){return" l"+a.join("")},lineOnAxis:function(a,b){return" "+a+" "+b+" "},arc:function(a,b,c,d){return a+" "+c+" "+c+" "+b+d}},module$exports$Blockly$utils$parsing={},module$contents$Blockly$utils$parsing_tokenizeInterpolationInternal=function(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,g=0;g<d.length;g++){var h=d[g];0===e?"%"===h?((e=a.join(""))&&c.push(e),a.length=0,e=1):a.push(h):1===e?"%"===h?(a.push(h),e=0):b&&"0"<=h&&"9">=h?(e=2,f=h,(h=a.join(""))&&c.push(h),a.length=0):"{"===h?e=3:(a.push("%",h),e=0):2===e?"0"<=h&&"9">=h?f+=h:(c.push(parseInt(f,10)),g--,e=0):3===e&&(""===h?(a.splice(0,0,"%{"),g--,e=0):"}"!==h?a.push(h):(e=a.join(""),/[A-Z]\w*/i.test(e)?(h=e.toUpperCase(),(h=(0,$.module$exports$Blockly$utils$string.startsWith)(h,"BKY_")?h.substring(4):null)&&h in $.module$exports$Blockly$Msg.Msg?"string"==typeof(e=$.module$exports$Blockly$Msg.Msg[h])?Array.prototype.push.apply(c,module$contents$Blockly$utils$parsing_tokenizeInterpolationInternal(e,b)):b?c.push(String(e)):c.push(e):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}for((b=a.join(""))&&c.push(b),d=[],f=a.length=0;f<c.length;f++)"string"==typeof c[f]?a.push(c[f]):((b=a.join(""))&&d.push(b),a.length=0,d.push(c[f]));return(b=a.join(""))&&d.push(b),a.length=0,d};module$exports$Blockly$utils$parsing.tokenizeInterpolation=function(a){return module$contents$Blockly$utils$parsing_tokenizeInterpolationInternal(a,!0)},module$exports$Blockly$utils$parsing.replaceMessageReferences=function(a){return"string"!=typeof a?a:(a=module$contents$Blockly$utils$parsing_tokenizeInterpolationInternal(a,!1)).length?String(a[0]):""},module$exports$Blockly$utils$parsing.checkMessageReferences=function(a){for(var b=!0,c=$.module$exports$Blockly$Msg.Msg,d=a.match(/%{BKY_[A-Z]\w*}/gi),e=0;e<d.length;e++)void 0===c[d[e].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+d[e]+" in "+a),b=!1);return b},module$exports$Blockly$utils$parsing.parseBlockColour=function(a){var b="string"==typeof a?(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)return{hue:c,hex:(0,module$exports$Blockly$utils$colour.hsvToHex)(c,(0,module$exports$Blockly$utils$colour.getHsvSaturation)(),255*(0,module$exports$Blockly$utils$colour.getHsvValue)())};if(c=(0,module$exports$Blockly$utils$colour.parse)(b))return{hue:null,hex:c};throw c='Invalid colour: "'+b+'"',a!==b&&(c+=' (from "'+a+'")'),Error(c)};var module$exports$Blockly$blockRendering$ConstantProvider={ConstantProvider:function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=(0,module$exports$Blockly$utils$svgPaths.moveBy)(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!module$exports$Blockly$utils$userAgent.IE&&!module$exports$Blockly$utils$userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.defs_=null,this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}}};module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.setTheme=function(a){this.blockStyles=Object.create(null);var c,b=a.blockStyles;for(c in b)this.blockStyles[c]=this.validatedBlockStyle_(b[c]);this.setDynamicProperties_(a)},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.setDynamicProperties_=function(a){this.setFontConstants_(a),this.setComponentConstants_(a),this.ADD_START_HATS=null!==a.startHats?a.startHats:this.ADD_START_HATS},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.setFontConstants_=function(a){a.fontStyle&&a.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=a.fontStyle.family),a.fontStyle&&a.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=a.fontStyle.weight),a.fontStyle&&a.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=a.fontStyle.size),a=(0,module$exports$Blockly$utils$dom.measureFontMetrics)("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=a.height,this.FIELD_TEXT_BASELINE=a.baseline},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.setComponentConstants_=function(a){this.CURSOR_COLOUR=a.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=a.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=a.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(a.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.getBlockStyleForColour=function(a){var b="auto_"+a;return this.blockStyles[b]||(this.blockStyles[b]=this.createBlockStyle_(a)),{style:this.blockStyles[b],name:b}},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.getBlockStyle=function(a){return this.blockStyles[a||""]||(a&&0===a.indexOf("auto_")?this.getBlockStyleForColour(a.substring(5)).style:this.createBlockStyle_("#000000"))},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.createBlockStyle_=function(a){return this.validatedBlockStyle_({colourPrimary:a})},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.validatedBlockStyle_=function(a){var b={};return a&&(0,$.module$exports$Blockly$utils$object.mixin)(b,a),a=(0,module$exports$Blockly$utils$parsing.parseBlockColour)(b.colourPrimary||"#000"),b.colourPrimary=a.hex,b.colourSecondary=b.colourSecondary?(0,module$exports$Blockly$utils$parsing.parseBlockColour)(b.colourSecondary).hex:this.generateSecondaryColour_(b.colourPrimary),b.colourTertiary=b.colourTertiary?(0,module$exports$Blockly$utils$parsing.parseBlockColour)(b.colourTertiary).hex:this.generateTertiaryColour_(b.colourPrimary),b.hat=b.hat||"",b},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.generateSecondaryColour_=function(a){return(0,module$exports$Blockly$utils$colour.blend)("#fff",a,.6)||a},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.generateTertiaryColour_=function(a){return(0,module$exports$Blockly$utils$colour.blend)("#fff",a,.3)||a},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&(0,module$exports$Blockly$utils$dom.removeNode)(this.embossFilter_),this.disabledPattern_&&(0,module$exports$Blockly$utils$dom.removeNode)(this.disabledPattern_),this.debugFilter_&&(0,module$exports$Blockly$utils$dom.removeNode)(this.debugFilter_),this.cssNode_=null},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.makeJaggedTeeth=function(){var a=this.JAGGED_TEETH_HEIGHT,b=this.JAGGED_TEETH_WIDTH;return{height:a,width:b,path:(0,module$exports$Blockly$utils$svgPaths.line)([(0,module$exports$Blockly$utils$svgPaths.point)(b,a/4),(0,module$exports$Blockly$utils$svgPaths.point)(2*-b,a/2),(0,module$exports$Blockly$utils$svgPaths.point)(b,a/4)])}},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.makeStartHat=function(){var a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH;return{height:a,width:b,path:(0,module$exports$Blockly$utils$svgPaths.curve)("c",[(0,module$exports$Blockly$utils$svgPaths.point)(30,-a),(0,module$exports$Blockly$utils$svgPaths.point)(70,-a),(0,module$exports$Blockly$utils$svgPaths.point)(b,0)])}},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.makePuzzleTab=function(){function a(f){var g=-(f=f?-1:1),h=c/2,k=h+2.5,l=h+.5,m=(0,module$exports$Blockly$utils$svgPaths.point)(-b,f*h);return h=(0,module$exports$Blockly$utils$svgPaths.point)(b,f*h),(0,module$exports$Blockly$utils$svgPaths.curve)("c",[(0,module$exports$Blockly$utils$svgPaths.point)(0,f*k),(0,module$exports$Blockly$utils$svgPaths.point)(-b,g*l),m])+(0,module$exports$Blockly$utils$svgPaths.curve)("s",[(0,module$exports$Blockly$utils$svgPaths.point)(b,2.5*g),h])}var b=this.TAB_WIDTH,c=this.TAB_HEIGHT,d=a(!0),e=a(!1);return{type:this.SHAPES.PUZZLE,width:b,height:c,pathDown:e,pathUp:d}},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.makeNotch=function(){function a(g){return(0,module$exports$Blockly$utils$svgPaths.line)([(0,module$exports$Blockly$utils$svgPaths.point)(g*d,c),(0,module$exports$Blockly$utils$svgPaths.point)(3*g,0),(0,module$exports$Blockly$utils$svgPaths.point)(g*d,-c)])}var b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:e,pathRight:f}},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.makeInsideCorners=function(){var a=this.CORNER_RADIUS;return{width:a,height:a,pathTop:(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,0",a,(0,module$exports$Blockly$utils$svgPaths.point)(-a,a)),pathBottom:(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,0",a,(0,module$exports$Blockly$utils$svgPaths.point)(a,a))}},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.makeOutsideCorners=function(){var a=this.CORNER_RADIUS,b=(0,module$exports$Blockly$utils$svgPaths.moveBy)(0,a)+(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",a,(0,module$exports$Blockly$utils$svgPaths.point)(a,-a)),c=(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",a,(0,module$exports$Blockly$utils$svgPaths.point)(a,a)),d=(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",a,(0,module$exports$Blockly$utils$svgPaths.point)(-a,-a));return{topLeft:b,topRight:c,bottomRight:(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",a,(0,module$exports$Blockly$utils$svgPaths.point)(-a,a)),bottomLeft:d,rightHeight:a}},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.shapeFor=function(a){switch(a.type){case $.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE:case $.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE:return this.PUZZLE_TAB;case $.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT:case $.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.createDom=function(a,b,c){this.injectCSS_(b,c),this.defs_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.DEFS,{},a),a=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},a),b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},b),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},a),this.embossFilterId=a.id,this.embossFilter_=a,a=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{width:10,height:10,fill:"#aaa"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a),this.disabledPatternId=a.id,this.disabledPattern_=a,this.createDebugFilter()},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.createDebugFilter=function(){if(!this.debugFilter_){var a=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs_),b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},a);(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},b),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a),this.debugFilterId=a.id,this.debugFilter_=a}},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.injectCSS_=function(a,b){b=this.getCSS_(b),a="blockly-renderer-style-"+a,this.cssNode_=document.getElementById(a);var c=b.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=c:((b=document.createElement("style")).id=a,a=document.createTextNode(c),b.appendChild(a),document.head.insertBefore(b,document.head.firstChild),this.cssNode_=b)},module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.getCSS_=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]};var module$exports$Blockly$blockRendering$Field_Field=function(a,b,c){module$exports$Blockly$blockRendering$Measurable.Measurable.call(this,a),this.field=b,this.isEditable=b.EDITABLE,this.flipRtl=b.getFlipRtl(),this.type|=module$exports$Blockly$blockRendering$Types.Types.FIELD,a=this.field.getSize(),this.height=a.height,this.width=a.width,this.parentInput=c};$.$jscomp.inherits(module$exports$Blockly$blockRendering$Field_Field,module$exports$Blockly$blockRendering$Measurable.Measurable);var module$exports$Blockly$fieldRegistry={register:function(a,b){(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.FIELD,a,b)},unregister:function(a){(0,module$exports$Blockly$registry.unregister)(module$exports$Blockly$registry.Type.FIELD,a)},fromJson:function(a){var b=(0,module$exports$Blockly$registry.getObject)(module$exports$Blockly$registry.Type.FIELD,a.type);return b?b.fromJson(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)}},module$exports$Blockly$MarkerManager={MarkerManager:function(a){this.cursorSvg_=this.cursor_=null,this.markers_=Object.create(null),this.workspace_=a,this.markerSvg_=null}};module$exports$Blockly$MarkerManager.MarkerManager.prototype.registerMarker=function(a,b){this.markers_[a]&&this.unregisterMarker(a),b.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,b)),this.setMarkerSvg(b.getDrawer().createDom()),this.markers_[a]=b},module$exports$Blockly$MarkerManager.MarkerManager.prototype.unregisterMarker=function(a){var b=this.markers_[a];if(!b)throw Error("Marker with ID "+a+" does not exist. Can only unregister markers that exist.");b.dispose(),delete this.markers_[a]},module$exports$Blockly$MarkerManager.MarkerManager.prototype.getCursor=function(){return this.cursor_},module$exports$Blockly$MarkerManager.MarkerManager.prototype.getMarker=function(a){return this.markers_[a]||null},module$exports$Blockly$MarkerManager.MarkerManager.prototype.setCursor=function(a){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=a)&&(a=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(a),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},module$exports$Blockly$MarkerManager.MarkerManager.prototype.setCursorSvg=function(a){a?(this.workspace_.getBlockCanvas().appendChild(a),this.cursorSvg_=a):this.cursorSvg_=null},module$exports$Blockly$MarkerManager.MarkerManager.prototype.setMarkerSvg=function(a){a?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(a,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(a)):this.markerSvg_=null},module$exports$Blockly$MarkerManager.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},module$exports$Blockly$MarkerManager.MarkerManager.prototype.dispose=function(){for(var c,a=Object.keys(this.markers_),b=0;c=a[b];b++)this.unregisterMarker(c);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)},module$exports$Blockly$MarkerManager.MarkerManager.LOCAL_MARKER="local_marker_1";var module$exports$Blockly$Events$BlockChange={BlockChange:function(a,b,c,d,e){module$exports$Blockly$Events$BlockBase.BlockBase.call(this,a),this.type=module$exports$Blockly$Events$utils.CHANGE,a&&(this.element=void 0===b?"":b,this.name=void 0===c?"":c,this.oldValue=void 0===d?"":d,this.newValue=void 0===e?"":e)}};$.$jscomp.inherits(module$exports$Blockly$Events$BlockChange.BlockChange,module$exports$Blockly$Events$BlockBase.BlockBase),module$exports$Blockly$Events$BlockChange.BlockChange.prototype.toJson=function(){var a=module$exports$Blockly$Events$BlockBase.BlockBase.prototype.toJson.call(this);return a.element=this.element,this.name&&(a.name=this.name),a.oldValue=this.oldValue,a.newValue=this.newValue,a},module$exports$Blockly$Events$BlockChange.BlockChange.prototype.fromJson=function(a){module$exports$Blockly$Events$BlockBase.BlockBase.prototype.fromJson.call(this,a),this.element=a.element,this.name=a.name,this.oldValue=a.oldValue,this.newValue=a.newValue},module$exports$Blockly$Events$BlockChange.BlockChange.prototype.isNull=function(){return this.oldValue===this.newValue},module$exports$Blockly$Events$BlockChange.BlockChange.prototype.run=function(a){var b=this.getEventWorkspace_().getBlockById(this.blockId);if(b)switch(b.mutator&&b.mutator.setVisible(!1),a=a?this.newValue:this.oldValue,this.element){case"field":(b=b.getField(this.name))?b.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case"comment":b.setCommentText(a||null);break;case"collapsed":b.setCollapsed(!!a);break;case"disabled":b.setEnabled(!a);break;case"inline":b.setInputsInline(!!a);break;case"mutation":var c=module$exports$Blockly$Events$BlockChange.BlockChange.getExtraBlockState_(b);b.loadExtraState?b.loadExtraState(JSON.parse(a||"{}")):b.domToMutation&&b.domToMutation((0,$.module$exports$Blockly$Xml.textToDom)(a||"<mutation/>")),(0,module$exports$Blockly$Events$utils.fire)(new module$exports$Blockly$Events$BlockChange.BlockChange(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},module$exports$Blockly$Events$BlockChange.BlockChange.getExtraBlockState_=function(a){return a.saveExtraState?(a=a.saveExtraState())?JSON.stringify(a):"":a.mutationToDom&&(a=a.mutationToDom())?(0,$.module$exports$Blockly$Xml.domToText)(a):""},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.CHANGE,module$exports$Blockly$Events$BlockChange.BlockChange);var module$exports$Blockly$blockAnimations={},module$contents$Blockly$blockAnimations_disconnectPid=0,module$contents$Blockly$blockAnimations_disconnectGroup=null;module$exports$Blockly$blockAnimations.disposeUiEffect=function(a){var b=a.workspace,c=a.getSvgRoot();b.getAudioManager().play("delete"),a=b.getSvgXY(c),(c=c.cloneNode(!0)).translateX_=a.x,c.translateY_=a.y,c.setAttribute("transform","translate("+a.x+","+a.y+")"),b.getParentSvg().appendChild(c),c.bBox_=c.getBBox(),module$contents$Blockly$blockAnimations_disposeUiStep(c,b.RTL,new Date,b.scale)};var module$contents$Blockly$blockAnimations_disposeUiStep=function(a,b,c,d){var e=(new Date-c)/150;1<e?(0,module$exports$Blockly$utils$dom.removeNode)(a):(a.setAttribute("transform","translate("+(a.translateX_+(b?-1:1)*a.bBox_.width*d/2*e)+","+(a.translateY_+a.bBox_.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(module$contents$Blockly$blockAnimations_disposeUiStep,10,a,b,c,d))};module$exports$Blockly$blockAnimations.connectionUiEffect=function(a){var b=a.workspace,c=b.scale;if(b.getAudioManager().play("click"),!(1>c)){var d=b.getSvgXY(a.getSvgRoot());a.outputConnection?(d.x+=(a.RTL?3:-3)*c,d.y+=13*c):a.previousConnection&&(d.x+=(a.RTL?-23:23)*c,d.y+=3*c),a=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CIRCLE,{cx:d.x,cy:d.y,r:0,fill:"none",stroke:"#888","stroke-width":10},b.getParentSvg()),module$contents$Blockly$blockAnimations_connectionUiStep(a,new Date,c)}};var module$contents$Blockly$blockAnimations_connectionUiStep=function(a,b,c){var d=(new Date-b)/150;1<d?(0,module$exports$Blockly$utils$dom.removeNode)(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,module$contents$Blockly$blockAnimations_disconnectPid=setTimeout(module$contents$Blockly$blockAnimations_connectionUiStep,10,a,b,c))};module$exports$Blockly$blockAnimations.disconnectUiEffect=function(a){if(a.workspace.getAudioManager().play("disconnect"),!(1>a.workspace.scale)){var b=a.getHeightWidth().height;b=Math.atan(10/b)/Math.PI*180,a.RTL||(b*=-1),module$contents$Blockly$blockAnimations_disconnectUiStep(a.getSvgRoot(),b,new Date)}};var module$contents$Blockly$blockAnimations_disconnectUiStep=function(a,b,c){var d=(new Date-c)/200;1<d?a.skew_="":(a.skew_="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",module$contents$Blockly$blockAnimations_disconnectGroup=a,module$contents$Blockly$blockAnimations_disconnectPid=setTimeout(module$contents$Blockly$blockAnimations_disconnectUiStep,10,a,b,c)),a.setAttribute("transform",a.translate_+a.skew_)};module$exports$Blockly$blockAnimations.disconnectUiStop=function(){if(module$contents$Blockly$blockAnimations_disconnectGroup){clearTimeout(module$contents$Blockly$blockAnimations_disconnectPid);var a=module$contents$Blockly$blockAnimations_disconnectGroup;a.skew_="",a.setAttribute("transform",a.translate_),module$contents$Blockly$blockAnimations_disconnectGroup=null}};var module$exports$Blockly$internalConstants={COLLAPSE_CHARS:30,DRAG_STACK:!0,OPPOSITE_TYPE:[]};module$exports$Blockly$internalConstants.OPPOSITE_TYPE[$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE]=$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE,module$exports$Blockly$internalConstants.OPPOSITE_TYPE[$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE]=$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,module$exports$Blockly$internalConstants.OPPOSITE_TYPE[$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT]=$.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT,module$exports$Blockly$internalConstants.OPPOSITE_TYPE[$.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT]=$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT,module$exports$Blockly$internalConstants.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",module$exports$Blockly$internalConstants.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID";var module$exports$Blockly$ComponentManager={ComponentManager:function(){this.componentData_=Object.create(null),this.capabilityToComponentIds_=Object.create(null)}};module$exports$Blockly$ComponentManager.ComponentManager.prototype.addComponent=function(a,b){var c=a.component.id;if(!b&&this.componentData_[c])throw Error('Plugin "'+c+'" with capabilities "'+this.componentData_[c].capabilities+'" already added.');this.componentData_[c]=a,b=[];for(var d=0;d<a.capabilities.length;d++){var e=String(a.capabilities[d]).toLowerCase();b.push(e),void 0===this.capabilityToComponentIds_[e]?this.capabilityToComponentIds_[e]=[c]:this.capabilityToComponentIds_[e].push(c)}this.componentData_[c].capabilities=b},module$exports$Blockly$ComponentManager.ComponentManager.prototype.removeComponent=function(a){var b=this.componentData_[a];if(b){for(var c=0;c<b.capabilities.length;c++){var d=String(b.capabilities[c]).toLowerCase();module$exports$Blockly$utils$array_removeElem(this.capabilityToComponentIds_[d],a)}delete this.componentData_[a]}},module$exports$Blockly$ComponentManager.ComponentManager.prototype.addCapability=function(a,b){if(!this.getComponent(a))throw Error('Cannot add capability, "'+b+'". Plugin "'+a+'" has not been added to the ComponentManager');this.hasCapability(a,b)?console.warn('Plugin "'+a+'already has capability "'+b+'"'):(b=String(b).toLowerCase(),this.componentData_[a].capabilities.push(b),this.capabilityToComponentIds_[b].push(a))},module$exports$Blockly$ComponentManager.ComponentManager.prototype.removeCapability=function(a,b){if(!this.getComponent(a))throw Error('Cannot remove capability, "'+b+'". Plugin "'+a+'" has not been added to the ComponentManager');this.hasCapability(a,b)?(b=String(b).toLowerCase(),module$exports$Blockly$utils$array_removeElem(this.componentData_[a].capabilities,b),module$exports$Blockly$utils$array_removeElem(this.capabilityToComponentIds_[b],a)):console.warn('Plugin "'+a+"doesn't have capability \""+b+'" to remove')},module$exports$Blockly$ComponentManager.ComponentManager.prototype.hasCapability=function(a,b){return b=String(b).toLowerCase(),-1!==this.componentData_[a].capabilities.indexOf(b)},module$exports$Blockly$ComponentManager.ComponentManager.prototype.getComponent=function(a){return this.componentData_[a]&&this.componentData_[a].component},module$exports$Blockly$ComponentManager.ComponentManager.prototype.getComponents=function(a,b){if(a=String(a).toLowerCase(),!(a=this.capabilityToComponentIds_[a]))return[];var c=[];if(b){var d=[],e=this.componentData_;a.forEach((function(g){d.push(e[g])})),d.sort((function(g,h){return g.weight-h.weight})),d.forEach((function(g){c.push(g.component)}))}else{var f=this.componentData_;a.forEach((function(g){c.push(f[g].component)}))}return c},module$exports$Blockly$ComponentManager.ComponentManager.Capability=function(a){this.name_=a},module$exports$Blockly$ComponentManager.ComponentManager.Capability.prototype.toString=function(){return this.name_},module$exports$Blockly$ComponentManager.ComponentManager.Capability.POSITIONABLE=new module$exports$Blockly$ComponentManager.ComponentManager.Capability("positionable"),module$exports$Blockly$ComponentManager.ComponentManager.Capability.DRAG_TARGET=new module$exports$Blockly$ComponentManager.ComponentManager.Capability("drag_target"),module$exports$Blockly$ComponentManager.ComponentManager.Capability.DELETE_AREA=new module$exports$Blockly$ComponentManager.ComponentManager.Capability("delete_area"),module$exports$Blockly$ComponentManager.ComponentManager.Capability.AUTOHIDEABLE=new module$exports$Blockly$ComponentManager.ComponentManager.Capability("autohideable");var module$exports$Blockly$dialog={},module$contents$Blockly$dialog_alertImplementation=function(a,b){window.alert(a),b&&b()},module$contents$Blockly$dialog_confirmImplementation=function(a,b){b(window.confirm(a))},module$contents$Blockly$dialog_promptImplementation=function(a,b,c){c(window.prompt(a,b))};module$exports$Blockly$dialog.alert=function(a,b){module$contents$Blockly$dialog_alertImplementation(a,b)},module$exports$Blockly$dialog.setAlert=function(a){module$contents$Blockly$dialog_alertImplementation=a},module$exports$Blockly$dialog.confirm=function(a,b){module$contents$Blockly$dialog_confirmImplementation(a,b)},module$exports$Blockly$dialog.setConfirm=function(a){module$contents$Blockly$dialog_confirmImplementation=a},module$exports$Blockly$dialog.prompt=function(a,b,c){module$contents$Blockly$dialog_promptImplementation(a,b,c)},module$exports$Blockly$dialog.setPrompt=function(a){module$contents$Blockly$dialog_promptImplementation=a};var module$exports$Blockly$Events$VarBase={VarBase:function(a){module$exports$Blockly$Events$Abstract.Abstract.call(this),this.varId=(this.isBlank=void 0===a)?"":a.getId(),this.workspaceId=this.isBlank?"":a.workspace.id}};$.$jscomp.inherits(module$exports$Blockly$Events$VarBase.VarBase,module$exports$Blockly$Events$Abstract.Abstract),module$exports$Blockly$Events$VarBase.VarBase.prototype.toJson=function(){var a=module$exports$Blockly$Events$Abstract.Abstract.prototype.toJson.call(this);return a.varId=this.varId,a},module$exports$Blockly$Events$VarBase.VarBase.prototype.fromJson=function(a){module$exports$Blockly$Events$Abstract.Abstract.prototype.fromJson.call(this,a),this.varId=a.varId};var module$exports$Blockly$Events$VarCreate={VarCreate:function(a){module$exports$Blockly$Events$VarBase.VarBase.call(this,a),this.type=module$exports$Blockly$Events$utils.VAR_CREATE,a&&(this.varType=a.type,this.varName=a.name)}};$.$jscomp.inherits(module$exports$Blockly$Events$VarCreate.VarCreate,module$exports$Blockly$Events$VarBase.VarBase),module$exports$Blockly$Events$VarCreate.VarCreate.prototype.toJson=function(){var a=module$exports$Blockly$Events$VarBase.VarBase.prototype.toJson.call(this);return a.varType=this.varType,a.varName=this.varName,a},module$exports$Blockly$Events$VarCreate.VarCreate.prototype.fromJson=function(a){module$exports$Blockly$Events$VarBase.VarBase.prototype.fromJson.call(this,a),this.varType=a.varType,this.varName=a.varName},module$exports$Blockly$Events$VarCreate.VarCreate.prototype.run=function(a){var b=this.getEventWorkspace_();a?b.createVariable(this.varName,this.varType,this.varId):b.deleteVariableById(this.varId)},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.VAR_CREATE,module$exports$Blockly$Events$VarCreate.VarCreate);var module$contents$Blockly$Variables_ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE,module$exports$Blockly$VariableModel={VariableModel:function(a,b,c,d){this.workspace=a,this.name=b,this.type=c||"",this.id_=d||(0,module$exports$Blockly$utils$idGenerator.genUid)(),(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.VAR_CREATE))(this))}};module$exports$Blockly$VariableModel.VariableModel.prototype.getId=function(){return this.id_},module$exports$Blockly$VariableModel.VariableModel.compareByName=function(a,b){return a.name.localeCompare(b.name,void 0,{sensitivity:"base"})},$.module$exports$Blockly$Variables={CATEGORY_NAME:"VARIABLE",allUsedVarModels:function(a){var b=a.getAllBlocks(!1);a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].getVarModels();if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.getId();g&&(a[g]=f)}}for(var h in b=[],a)b.push(a[h]);return b}},module$contents$Blockly$Variables_ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE={},$.module$exports$Blockly$Variables.allDeveloperVariables=function(a){a=a.getAllBlocks(!1);for(var d,b=Object.create(null),c=0;d=a[c];c++){var e=d.getDeveloperVariables;if(!e&&d.getDeveloperVars&&(e=d.getDeveloperVars,module$contents$Blockly$Variables_ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE[d.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+d.type+"')"),module$contents$Blockly$Variables_ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE[d.type]=!0)),e)for(d=e(),e=0;e<d.length;e++)b[d[e]]=!0}return Object.keys(b)},$.module$exports$Blockly$Variables.flyoutCategory=function(a){var b=[],c=document.createElement("button");return c.setAttribute("text","%{BKY_NEW_VARIABLE}"),c.setAttribute("callbackKey","CREATE_VARIABLE"),a.registerButtonCallback("CREATE_VARIABLE",(function(d){(0,$.module$exports$Blockly$Variables.createVariableButtonHandler)(d.getTargetWorkspace())})),b.push(c),a=(0,$.module$exports$Blockly$Variables.flyoutCategoryBlocks)(a),b.concat(a)},$.module$exports$Blockly$Variables.flyoutCategoryBlocks=function(a){var b=[];if(0<(a=a.getVariablesOfType("")).length){var c=a[a.length-1];if(module$exports$Blockly$blocks.Blocks.variables_set){var d=(0,$.module$exports$Blockly$utils$xml.createElement)("block");d.setAttribute("type","variables_set"),d.setAttribute("gap",module$exports$Blockly$blocks.Blocks.math_change?8:24),d.appendChild((0,$.module$exports$Blockly$Variables.generateVariableFieldDom)(c)),b.push(d)}if(module$exports$Blockly$blocks.Blocks.math_change&&((d=(0,$.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","math_change"),d.setAttribute("gap",module$exports$Blockly$blocks.Blocks.variables_get?20:8),d.appendChild((0,$.module$exports$Blockly$Variables.generateVariableFieldDom)(c)),c=(0,$.module$exports$Blockly$Xml.textToDom)('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d)),module$exports$Blockly$blocks.Blocks.variables_get)for(a.sort(module$exports$Blockly$VariableModel.VariableModel.compareByName),c=0;d=a[c];c++){var e=(0,$.module$exports$Blockly$utils$xml.createElement)("block");e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild((0,$.module$exports$Blockly$Variables.generateVariableFieldDom)(d)),b.push(e)}}return b},$.module$exports$Blockly$Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",$.module$exports$Blockly$Variables.generateUniqueName=function(a){return(0,$.module$exports$Blockly$Variables.generateUniqueNameFromOptions)($.module$exports$Blockly$Variables.VAR_LETTER_OPTIONS.charAt(0),a.getAllVariableNames())},$.module$exports$Blockly$Variables.generateUniqueNameFromOptions=function(a,b){if(!b.length)return a;for(var c=$.module$exports$Blockly$Variables.VAR_LETTER_OPTIONS,d="",e=c.indexOf(a);;){for(var f=!1,g=0;g<b.length;g++)if(b[g].toLowerCase()===a){f=!0;break}if(!f)return a;++e===c.length&&(e=0,d=Number(d)+1),a=c.charAt(e)+d}},$.module$exports$Blockly$Variables.createVariableButtonHandler=function(a,b,c){var d=c||"",e=function(f){(0,$.module$exports$Blockly$Variables.promptName)($.module$exports$Blockly$Msg.Msg.NEW_VARIABLE_TITLE,f,(function(g){if(g){var h=(0,$.module$exports$Blockly$Variables.nameUsedWithAnyType)(g,a);if(h){if(h.type===d)var k=$.module$exports$Blockly$Msg.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",h.name);else k=(k=$.module$exports$Blockly$Msg.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",h.name).replace("%2",h.type);(0,module$exports$Blockly$dialog.alert)(k,(function(){e(g)}))}else a.createVariable(g,d),b&&b(g)}else b&&b(null)}))};e("")},$.module$exports$Blockly$Variables.renameVariable=function(a,b,c){var d=function(e){var f=$.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE_TITLE.replace("%1",b.name);(0,$.module$exports$Blockly$Variables.promptName)(f,e,(function(g){if(g){var h=module$contents$Blockly$Variables_nameUsedWithOtherType(g,b.type,a);h?(h=$.module$exports$Blockly$Msg.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.name).replace("%2",h.type),(0,module$exports$Blockly$dialog.alert)(h,(function(){d(g)}))):(a.renameVariableById(b.getId(),g),c&&c(g))}else c&&c(null)}))};d("")},$.module$exports$Blockly$Variables.promptName=function(a,b,c){(0,module$exports$Blockly$dialog.prompt)(a,b,(function(d){d&&((d=d.replace(/[\s\xa0]+/g," ").trim())===$.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE||d===$.module$exports$Blockly$Msg.Msg.NEW_VARIABLE)&&(d=null),c(d)}))};var module$contents$Blockly$Variables_nameUsedWithOtherType=function(a,b,c){c=c.getVariableMap().getAllVariables(),a=a.toLowerCase();for(var e,d=0;e=c[d];d++)if(e.name.toLowerCase()===a&&e.type!==b)return e;return null};$.module$exports$Blockly$Variables.nameUsedWithAnyType=function(a,b){b=b.getVariableMap().getAllVariables(),a=a.toLowerCase();for(var d,c=0;d=b[c];c++)if(d.name.toLowerCase()===a)return d;return null},$.module$exports$Blockly$Variables.generateVariableFieldDom=function(a){var b=(0,$.module$exports$Blockly$utils$xml.createElement)("field");return b.setAttribute("name","VAR"),b.setAttribute("id",a.getId()),b.setAttribute("variabletype",a.type),a=(0,$.module$exports$Blockly$utils$xml.createTextNode)(a.name),b.appendChild(a),b},$.module$exports$Blockly$Variables.getOrCreateVariablePackage=function(a,b,c,d){var e=(0,$.module$exports$Blockly$Variables.getVariable)(a,b,c,d);return e||(e=module$contents$Blockly$Variables_createVariable(a,b,c,d)),e},$.module$exports$Blockly$Variables.getVariable=function(a,b,c,d){var e=a.getPotentialVariableMap(),f=null;if(b&&(!(f=a.getVariableById(b))&&e&&(f=e.getVariableById(b)),f))return f;if(c){if(void 0===d)throw Error("Tried to look up a variable by name without a type");!(f=a.getVariable(c,d))&&e&&(f=e.getVariable(c,d))}return f};var module$contents$Blockly$Variables_createVariable=function(a,b,c,d){var e=a.getPotentialVariableMap();return c||(c=$.module$exports$Blockly$Variables.generateUniqueName(a.isFlyout?a.targetWorkspace:a)),e?e.createVariable(c,d,b):a.createVariable(c,d,b)};$.module$exports$Blockly$Variables.getAddedVariables=function(a,b){a=a.getAllVariables();var c=[];if(b.length!==a.length)for(var d=0;d<a.length;d++){var e=a[d];-1===b.indexOf(e)&&c.push(e)}return c},$.module$exports$Blockly$Names={Names:function(a,b){if(this.variablePrefix_=b||"",this.reservedDict_=Object.create(null),this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null,a)for(a=a.split(","),b=0;b<a.length;b++)this.reservedDict_[a[b]]=!0;this.reset()}},$.module$exports$Blockly$Names.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},$.module$exports$Blockly$Names.Names.prototype.setVariableMap=function(a){this.variableMap_=a},$.module$exports$Blockly$Names.Names.prototype.getNameForUserVariable_=function(a){return this.variableMap_?(a=this.variableMap_.getVariableById(a))?a.name:null:(console.warn("Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)},$.module$exports$Blockly$Names.Names.prototype.populateVariables=function(a){a=(0,$.module$exports$Blockly$Variables.allUsedVarModels)(a);for(var b=0;b<a.length;b++)this.getName(a[b].getId(),$.module$exports$Blockly$Names.NameType.VARIABLE)},$.module$exports$Blockly$Names.Names.prototype.populateProcedures=function(a){a=(a=$.module$exports$Blockly$Procedures.allProcedures(a))[0].concat(a[1]);for(var b=0;b<a.length;b++)this.getName(a[b][0],$.module$exports$Blockly$Names.NameType.PROCEDURE)},$.module$exports$Blockly$Names.Names.prototype.getName=function(a,b){var c=a;b===$.module$exports$Blockly$Names.NameType.VARIABLE&&(a=this.getNameForUserVariable_(a))&&(c=a),a=c.toLowerCase();var d=b===$.module$exports$Blockly$Names.NameType.VARIABLE||b===$.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE?this.variablePrefix_:"";b in this.db_||(this.db_[b]=Object.create(null));var e=this.db_[b];return a in e?d+e[a]:(b=this.getDistinctName(c,b),e[a]=b.substr(d.length),b)},$.module$exports$Blockly$Names.Names.prototype.getUserNames=function(a){return Object.keys(this.db_[a]||{})},$.module$exports$Blockly$Names.Names.prototype.getDistinctName=function(a,b){a=this.safeName_(a);for(var c="";this.dbReverse_[a+c]||a+c in this.reservedDict_;)c=c?c+1:2;return a+=c,this.dbReverse_[a]=!0,(b===$.module$exports$Blockly$Names.NameType.VARIABLE||b===$.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE?this.variablePrefix_:"")+a},$.module$exports$Blockly$Names.Names.prototype.safeName_=function(a){return a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=="0123456789".indexOf(a[0])&&(a="my_"+a)):a=$.module$exports$Blockly$Msg.Msg.UNNAMED_KEY||"unnamed",a},$.module$exports$Blockly$Names.Names.equals=function(a,b){return a.toLowerCase()===b.toLowerCase()},$.module$exports$Blockly$Names.NameType={DEVELOPER_VARIABLE:"DEVELOPER_VARIABLE",VARIABLE:"VARIABLE",PROCEDURE:"PROCEDURE"},$.module$exports$Blockly$Names.Names.NameType=$.module$exports$Blockly$Names.NameType,$.module$exports$Blockly$Names.Names.DEVELOPER_VARIABLE_TYPE=$.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE;var module$exports$Blockly$Events$VarDelete={VarDelete:function(a){module$exports$Blockly$Events$VarBase.VarBase.call(this,a),this.type=module$exports$Blockly$Events$utils.VAR_DELETE,a&&(this.varType=a.type,this.varName=a.name)}};$.$jscomp.inherits(module$exports$Blockly$Events$VarDelete.VarDelete,module$exports$Blockly$Events$VarBase.VarBase),module$exports$Blockly$Events$VarDelete.VarDelete.prototype.toJson=function(){var a=module$exports$Blockly$Events$VarBase.VarBase.prototype.toJson.call(this);return a.varType=this.varType,a.varName=this.varName,a},module$exports$Blockly$Events$VarDelete.VarDelete.prototype.fromJson=function(a){module$exports$Blockly$Events$VarBase.VarBase.prototype.fromJson.call(this,a),this.varType=a.varType,this.varName=a.varName},module$exports$Blockly$Events$VarDelete.VarDelete.prototype.run=function(a){var b=this.getEventWorkspace_();a?b.deleteVariableById(this.varId):b.createVariable(this.varName,this.varType,this.varId)},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.VAR_DELETE,module$exports$Blockly$Events$VarDelete.VarDelete);var module$exports$Blockly$Events$VarRename={VarRename:function(a,b){module$exports$Blockly$Events$VarBase.VarBase.call(this,a),this.type=module$exports$Blockly$Events$utils.VAR_RENAME,a&&(this.oldName=a.name,this.newName=void 0===b?"":b)}};$.$jscomp.inherits(module$exports$Blockly$Events$VarRename.VarRename,module$exports$Blockly$Events$VarBase.VarBase),module$exports$Blockly$Events$VarRename.VarRename.prototype.toJson=function(){var a=module$exports$Blockly$Events$VarBase.VarBase.prototype.toJson.call(this);return a.oldName=this.oldName,a.newName=this.newName,a},module$exports$Blockly$Events$VarRename.VarRename.prototype.fromJson=function(a){module$exports$Blockly$Events$VarBase.VarBase.prototype.fromJson.call(this,a),this.oldName=a.oldName,this.newName=a.newName},module$exports$Blockly$Events$VarRename.VarRename.prototype.run=function(a){var b=this.getEventWorkspace_();a?b.renameVariableById(this.varId,this.newName):b.renameVariableById(this.varId,this.oldName)},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.VAR_RENAME,module$exports$Blockly$Events$VarRename.VarRename);var module$exports$Blockly$VariableMap={VariableMap:function(a){this.variableMap_=Object.create(null),this.workspace=a}};module$exports$Blockly$VariableMap.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},module$exports$Blockly$VariableMap.VariableMap.prototype.renameVariable=function(a,b){var c=this.getVariable(b,a.type),d=this.workspace.getAllBlocks(!1);(0,module$exports$Blockly$Events$utils.setGroup)(!0);try{c&&c.getId()!==a.getId()?this.renameVariableWithConflict_(a,b,c,d):this.renameVariableAndUses_(a,b,d)}finally{(0,module$exports$Blockly$Events$utils.setGroup)(!1)}},module$exports$Blockly$VariableMap.VariableMap.prototype.renameVariableById=function(a,b){var c=this.getVariableById(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.renameVariable(c,b)},module$exports$Blockly$VariableMap.VariableMap.prototype.renameVariableAndUses_=function(a,b,c){for((0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.VAR_RENAME))(a,b)),a.name=b,b=0;b<c.length;b++)c[b].updateVarName(a)},module$exports$Blockly$VariableMap.VariableMap.prototype.renameVariableWithConflict_=function(a,b,c,d){var e=a.type;for(b!==c.name&&this.renameVariableAndUses_(c,b,d),b=0;b<d.length;b++)d[b].renameVarById(a.getId(),c.getId());(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.VAR_DELETE))(a)),module$exports$Blockly$utils$array_removeElem(this.variableMap_[e],a)},module$exports$Blockly$VariableMap.VariableMap.prototype.createVariable=function(a,b,c){var d=this.getVariable(a,b);if(d){if(c&&d.getId()!==c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.getId()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.getVariableById(c))throw Error('Variable id, "'+c+'", is already in use.');return d=c||(0,module$exports$Blockly$utils$idGenerator.genUid)(),b=b||"",d=new module$exports$Blockly$VariableModel.VariableModel(this.workspace,a,b,d),(a=this.variableMap_[b]||[]).push(d),delete this.variableMap_[b],this.variableMap_[b]=a,d},module$exports$Blockly$VariableMap.VariableMap.prototype.deleteVariable=function(a){for(var b=a.getId(),c=this.variableMap_[a.type],d=0;d<c.length;d++)if(c[d].getId()===b){c.splice(d,1),(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.VAR_DELETE))(a));break}},module$exports$Blockly$VariableMap.VariableMap.prototype.deleteVariableById=function(a){var b=this.getVariableById(a);if(b){var c=b.name,d=this.getVariableUsesById(a);a=0;for(var e=void 0;e=d[a];a++)if("procedures_defnoreturn"===e.type||"procedures_defreturn"===e.type)return a=String(e.getFieldValue("NAME")),c=$.module$exports$Blockly$Msg.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a),void(0,module$exports$Blockly$dialog.alert)(c);var f=this;1<d.length?(c=$.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),(0,module$exports$Blockly$dialog.confirm)(c,(function(g){g&&b&&f.deleteVariableInternal(b,d)}))):f.deleteVariableInternal(b,d)}else console.warn("Can't delete non-existent variable: "+a)},module$exports$Blockly$VariableMap.VariableMap.prototype.deleteVariableInternal=function(a,b){var c=(0,module$exports$Blockly$Events$utils.getGroup)();c||(0,module$exports$Blockly$Events$utils.setGroup)(!0);try{for(var d=0;d<b.length;d++)b[d].dispose(!0);this.deleteVariable(a)}finally{c||(0,module$exports$Blockly$Events$utils.setGroup)(!1)}},module$exports$Blockly$VariableMap.VariableMap.prototype.getVariable=function(a,b){if(b=this.variableMap_[b||""])for(var d,c=0;d=b[c];c++)if($.module$exports$Blockly$Names.Names.equals(d.name,a))return d;return null},module$exports$Blockly$VariableMap.VariableMap.prototype.getVariableById=function(a){for(var b=Object.keys(this.variableMap_),c=0;c<b.length;c++)for(var f,d=b[c],e=0;f=this.variableMap_[d][e];e++)if(f.getId()===a)return f;return null},module$exports$Blockly$VariableMap.VariableMap.prototype.getVariablesOfType=function(a){return(a=this.variableMap_[a||""])?a.slice():[]},module$exports$Blockly$VariableMap.VariableMap.prototype.getVariableTypes=function(a){var b={};(0,$.module$exports$Blockly$utils$object.mixin)(b,this.variableMap_),a&&a.getPotentialVariableMap()&&(0,$.module$exports$Blockly$utils$object.mixin)(b,a.getPotentialVariableMap().variableMap_),a=Object.keys(b),b=!1;for(var c=0;c<a.length;c++)""===a[c]&&(b=!0);return b||a.push(""),a},module$exports$Blockly$VariableMap.VariableMap.prototype.getAllVariables=function(){var b,a=[];for(b in this.variableMap_)a=a.concat(this.variableMap_[b]);return a},module$exports$Blockly$VariableMap.VariableMap.prototype.getAllVariableNames=function(){var b,a=[];for(b in this.variableMap_)for(var e,c=this.variableMap_[b],d=0;e=c[d];d++)a.push(e.name);return a},module$exports$Blockly$VariableMap.VariableMap.prototype.getVariableUsesById=function(a){for(var b=[],c=this.workspace.getAllBlocks(!1),d=0;d<c.length;d++){var e=c[d].getVarModels();if(e)for(var f=0;f<e.length;f++)e[f].getId()===a&&b.push(c[d])}return b};var module$exports$Blockly$Events$BlockMove={BlockMove:function(a){module$exports$Blockly$Events$BlockBase.BlockBase.call(this,a),this.type=module$exports$Blockly$Events$utils.MOVE,a&&(a.isShadow()&&(this.recordUndo=!1),a=this.currentLocation_(),this.oldParentId=a.parentId,this.oldInputName=a.inputName,this.oldCoordinate=a.coordinate,this.newCoordinate=this.newInputName=this.newParentId=null)}};$.$jscomp.inherits(module$exports$Blockly$Events$BlockMove.BlockMove,module$exports$Blockly$Events$BlockBase.BlockBase),module$exports$Blockly$Events$BlockMove.BlockMove.prototype.toJson=function(){var a=module$exports$Blockly$Events$BlockBase.BlockBase.prototype.toJson.call(this);return this.newParentId&&(a.newParentId=this.newParentId),this.newInputName&&(a.newInputName=this.newInputName),this.newCoordinate&&(a.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(a.recordUndo=this.recordUndo),a},module$exports$Blockly$Events$BlockMove.BlockMove.prototype.fromJson=function(a){if(module$exports$Blockly$Events$BlockBase.BlockBase.prototype.fromJson.call(this,a),this.newParentId=a.newParentId,this.newInputName=a.newInputName,a.newCoordinate){var b=a.newCoordinate.split(",");this.newCoordinate=new module$exports$Blockly$utils$Coordinate.Coordinate(Number(b[0]),Number(b[1]))}void 0!==a.recordUndo&&(this.recordUndo=a.recordUndo)},module$exports$Blockly$Events$BlockMove.BlockMove.prototype.recordNew=function(){var a=this.currentLocation_();this.newParentId=a.parentId,this.newInputName=a.inputName,this.newCoordinate=a.coordinate},module$exports$Blockly$Events$BlockMove.BlockMove.prototype.currentLocation_=function(){var a=this.getEventWorkspace_().getBlockById(this.blockId),b={},c=a.getParent();return c?(b.parentId=c.id,(a=c.getInputWithBlock(a))&&(b.inputName=a.name)):b.coordinate=a.getRelativeToSurfaceXY(),b},module$exports$Blockly$Events$BlockMove.BlockMove.prototype.isNull=function(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&module$exports$Blockly$utils$Coordinate.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},module$exports$Blockly$Events$BlockMove.BlockMove.prototype.run=function(a){var b=this.getEventWorkspace_(),c=b.getBlockById(this.blockId);if(c){var d=a?this.newParentId:this.oldParentId,e=a?this.newInputName:this.oldInputName;if(a=a?this.newCoordinate:this.oldCoordinate,d){var f=b.getBlockById(d);if(!f)return void console.warn("Can't connect to non-existent block: "+d)}if(c.getParent()&&c.unplug(),a)e=c.getRelativeToSurfaceXY(),c.moveBy(a.x-e.x,a.y-e.y);else{if((!(b=c.outputConnection)||c.previousConnection&&c.previousConnection.isConnected())&&(b=c.previousConnection),c=b.type,e){if(c=f.getInput(e))var g=c.connection}else c===$.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT&&(g=f.nextConnection);g?b.connect(g):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.blockId)},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.MOVE,module$exports$Blockly$Events$BlockMove.BlockMove);var module$exports$Blockly$constants={COLLAPSED_INPUT_NAME:"_TEMP_COLLAPSED_INPUT",COLLAPSED_FIELD_NAME:"_TEMP_COLLAPSED_FIELD"},module$exports$Blockly$Connection={Connection:function(a,b){this.sourceBlock_=a,this.type=b,this.targetConnection=null,this.disposed=!1,this.shadowDom_=this.check_=null,this.y=this.x=0,this.shadowState_=null}};module$exports$Blockly$Connection.Connection.prototype.connect_=function(a){var h,b=$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,c=this.getSourceBlock(),d=a.getSourceBlock();if(a.isConnected()&&a.disconnect(),this.isConnected()){var e=this.stashShadowState_(),f=this.targetBlock();if(f.isShadow())f.dispose(!1);else{this.disconnect();var g=f}this.applyShadowState_(e)}(0,module$exports$Blockly$Events$utils.isEnabled)()&&(h=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.MOVE))(d)),module$contents$Blockly$Connection_connectReciprocally(this,a),d.setParent(c),h&&(h.recordNew(),(0,module$exports$Blockly$Events$utils.fire)(h)),g&&(a=this.type===b?g.outputConnection:g.previousConnection,(d=module$exports$Blockly$Connection.Connection.getConnectionForOrphanedConnection(d,a))?a.connect(d):a.onFailedConnect(this))},module$exports$Blockly$Connection.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowStateInternal_();var a=this.targetBlock();a&&a.unplug()}this.disposed=!0},module$exports$Blockly$Connection.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},module$exports$Blockly$Connection.Connection.prototype.isSuperior=function(){return this.type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||this.type===$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT},module$exports$Blockly$Connection.Connection.prototype.isConnected=function(){return!!this.targetConnection},module$exports$Blockly$Connection.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},module$exports$Blockly$Connection.Connection.prototype.onFailedConnect=function(a){},module$exports$Blockly$Connection.Connection.prototype.connect=function(a){if(this.targetConnection===a)return!0;if(this.getConnectionChecker().canConnect(this,a,!1)){var b=(0,module$exports$Blockly$Events$utils.getGroup)();b||(0,module$exports$Blockly$Events$utils.setGroup)(!0),this.isSuperior()?this.connect_(a):a.connect_(this),b||(0,module$exports$Blockly$Events$utils.setGroup)(!1)}return this.isConnected()},module$exports$Blockly$Connection.Connection.prototype.disconnect=function(){var a=this.targetConnection;if(!a)throw Error("Source connection not connected.");if(a.targetConnection!==this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var b=this.sourceBlock_,c=a.getSourceBlock();a=this}else b=a.getSourceBlock(),c=this.sourceBlock_;var d=(0,module$exports$Blockly$Events$utils.getGroup)();d||(0,module$exports$Blockly$Events$utils.setGroup)(!0),this.disconnectInternal_(b,c),c.isShadow()||a.respawnShadow_(),d||(0,module$exports$Blockly$Events$utils.setGroup)(!1)},module$exports$Blockly$Connection.Connection.prototype.disconnectInternal_=function(a,b){var c;(0,module$exports$Blockly$Events$utils.isEnabled)()&&(c=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.MOVE))(b)),this.targetConnection=this.targetConnection.targetConnection=null,b.setParent(null),c&&(c.recordNew(),(0,module$exports$Blockly$Events$utils.fire)(c))},module$exports$Blockly$Connection.Connection.prototype.respawnShadow_=function(){this.createShadowBlock_(!0)},module$exports$Blockly$Connection.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},module$exports$Blockly$Connection.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},module$exports$Blockly$Connection.Connection.prototype.setCheck=function(a){return a?(Array.isArray(a)||(a=[a]),this.check_=a,this.onCheckChanged_()):this.check_=null,this},module$exports$Blockly$Connection.Connection.prototype.getCheck=function(){return this.check_},module$exports$Blockly$Connection.Connection.prototype.setShadowDom=function(a){this.setShadowStateInternal_({shadowDom:a})},module$exports$Blockly$Connection.Connection.prototype.getShadowDom=function(a){return a&&this.targetBlock().isShadow()?(0,$.module$exports$Blockly$Xml.blockToDom)(this.targetBlock()):this.shadowDom_},module$exports$Blockly$Connection.Connection.prototype.setShadowState=function(a){this.setShadowStateInternal_({shadowState:a})},module$exports$Blockly$Connection.Connection.prototype.getShadowState=function(a){return a&&this.targetBlock()&&this.targetBlock().isShadow()?(0,module$exports$Blockly$serialization$blocks.save)(this.targetBlock()):this.shadowState_},module$exports$Blockly$Connection.Connection.prototype.neighbours=function(a){return[]},module$exports$Blockly$Connection.Connection.prototype.getParentInput=function(){for(var a=null,b=this.sourceBlock_.inputList,c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a},module$exports$Blockly$Connection.Connection.prototype.toString=function(){var a=this.sourceBlock_;if(!a)return"Orphan Connection";if(a.outputConnection===this)var b="Output Connection of ";else if(a.previousConnection===this)b="Previous Connection of ";else if(a.nextConnection===this)b="Next Connection of ";else{b=null;for(var d,c=0;d=a.inputList[c];c++)if(d.connection===this){b=d;break}if(!b)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";b='Input "'+b.name+'" connection on '}return b+a.toDevString()},module$exports$Blockly$Connection.Connection.prototype.stashShadowState_=function(){var a=this.getShadowDom(!0),b=this.getShadowState(!0);return this.shadowState_=this.shadowDom_=null,{shadowDom:a,shadowState:b}},module$exports$Blockly$Connection.Connection.prototype.applyShadowState_=function(a){var b=a.shadowState;this.shadowDom_=a.shadowDom,this.shadowState_=b},module$exports$Blockly$Connection.Connection.prototype.setShadowStateInternal_=function(a){var b=void 0===(a=void 0===a?{}:a).shadowState?null:a.shadowState;this.shadowDom_=void 0===a.shadowDom?null:a.shadowDom,this.shadowState_=b,(a=this.targetBlock())?a.isShadow()?(a.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock())):(a=this.createShadowBlock_(!1),this.serializeShadow_(a),a&&a.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock()))},module$exports$Blockly$Connection.Connection.prototype.createShadowBlock_=function(a){var b=this.getSourceBlock(),c=this.getShadowState(),d=this.getShadowDom();if(!b.workspace||!c&&!d)return null;if(c)return(0,module$exports$Blockly$serialization$blocks.appendInternal)(c,b.workspace,{parentConnection:a?this:void 0,isShadow:!0,recordUndo:!1});if(d){if(b=(0,$.module$exports$Blockly$Xml.domToBlock)(d,b.workspace),a)if(this.type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE){if(!b.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(b.outputConnection))throw Error("Could not connect shadow block to connection")}else{if(this.type!==$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)throw Error("Cannot connect a shadow block to a previous/output connection");if(!b.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(b.previousConnection))throw Error("Could not connect shadow block to connection")}return b}return null},module$exports$Blockly$Connection.Connection.prototype.serializeShadow_=function(a){a&&(this.shadowDom_=(0,$.module$exports$Blockly$Xml.blockToDom)(a),this.shadowState_=(0,module$exports$Blockly$serialization$blocks.save)(a))},module$exports$Blockly$Connection.Connection.getConnectionForOrphanedConnection=function(a,b){if(b.type===$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE)return module$contents$Blockly$Connection_getConnectionForOrphanedOutput(a,b.getSourceBlock());a=a.lastConnectionInStack(!0);var c=b.getConnectionChecker();return a&&c.canConnect(b,a,!1)?a:null},module$exports$Blockly$Connection.Connection.CAN_CONNECT=0,module$exports$Blockly$Connection.Connection.REASON_SELF_CONNECTION=1,module$exports$Blockly$Connection.Connection.REASON_WRONG_TYPE=2,module$exports$Blockly$Connection.Connection.REASON_TARGET_NULL=3,module$exports$Blockly$Connection.Connection.REASON_CHECKS_FAILED=4,module$exports$Blockly$Connection.Connection.REASON_DIFFERENT_WORKSPACES=5,module$exports$Blockly$Connection.Connection.REASON_SHADOW_PARENT=6,module$exports$Blockly$Connection.Connection.REASON_DRAG_CHECKS_FAILED=7,module$exports$Blockly$Connection.Connection.REASON_PREVIOUS_AND_OUTPUT=8;var module$contents$Blockly$Connection_connectReciprocally=function(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.targetConnection=b,b.targetConnection=a},module$contents$Blockly$Connection_getSingleConnection=function(a,b){for(var f,c=null,d=(b=b.outputConnection).getConnectionChecker(),e=0;f=a.inputList[e];e++)if((f=f.connection)&&d.canConnect(b,f,!1)){if(c)return null;c=f}return c},module$contents$Blockly$Connection_getConnectionForOrphanedOutput=function(a,b){for(var c;c=module$contents$Blockly$Connection_getSingleConnection(a,b);)if(!(a=c.targetBlock())||a.isShadow())return c;return null},module$exports$Blockly$ConnectionChecker={ConnectionChecker:function(){}};module$exports$Blockly$ConnectionChecker.ConnectionChecker.prototype.canConnect=function(a,b,c,d){return this.canConnectWithReason(a,b,c,d)===module$exports$Blockly$Connection.Connection.CAN_CONNECT},module$exports$Blockly$ConnectionChecker.ConnectionChecker.prototype.canConnectWithReason=function(a,b,c,d){var e=this.doSafetyChecks(a,b);return e!==module$exports$Blockly$Connection.Connection.CAN_CONNECT?e:this.doTypeChecks(a,b)?c&&!this.doDragChecks(a,b,d||0)?module$exports$Blockly$Connection.Connection.REASON_DRAG_CHECKS_FAILED:module$exports$Blockly$Connection.Connection.CAN_CONNECT:module$exports$Blockly$Connection.Connection.REASON_CHECKS_FAILED},module$exports$Blockly$ConnectionChecker.ConnectionChecker.prototype.getErrorMessage=function(a,b,c){switch(a){case module$exports$Blockly$Connection.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case module$exports$Blockly$Connection.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case module$exports$Blockly$Connection.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case module$exports$Blockly$Connection.Connection.REASON_TARGET_NULL:return"Target connection is null.";case module$exports$Blockly$Connection.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+b+" expected "+b.getCheck()+", found "+c.getCheck();case module$exports$Blockly$Connection.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case module$exports$Blockly$Connection.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case module$exports$Blockly$Connection.Connection.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}},module$exports$Blockly$ConnectionChecker.ConnectionChecker.prototype.doSafetyChecks=function(a,b){if(!a||!b)return module$exports$Blockly$Connection.Connection.REASON_TARGET_NULL;if(a.isSuperior())var c=a.getSourceBlock(),d=b.getSourceBlock(),e=b;else d=a.getSourceBlock(),c=b.getSourceBlock(),e=a,a=b;return c===d?module$exports$Blockly$Connection.Connection.REASON_SELF_CONNECTION:e.type!==module$exports$Blockly$internalConstants.OPPOSITE_TYPE[a.type]?module$exports$Blockly$Connection.Connection.REASON_WRONG_TYPE:c.workspace!==d.workspace?module$exports$Blockly$Connection.Connection.REASON_DIFFERENT_WORKSPACES:c.isShadow()&&!d.isShadow()?module$exports$Blockly$Connection.Connection.REASON_SHADOW_PARENT:e.type===$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE&&d.previousConnection&&d.previousConnection.isConnected()||e.type===$.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT&&d.outputConnection&&d.outputConnection.isConnected()?module$exports$Blockly$Connection.Connection.REASON_PREVIOUS_AND_OUTPUT:module$exports$Blockly$Connection.Connection.CAN_CONNECT},module$exports$Blockly$ConnectionChecker.ConnectionChecker.prototype.doTypeChecks=function(a,b){if(a=a.getCheck(),b=b.getCheck(),!a||!b)return!0;for(var c=0;c<a.length;c++)if(-1!==b.indexOf(a[c]))return!0;return!1},module$exports$Blockly$ConnectionChecker.ConnectionChecker.prototype.doDragChecks=function(a,b,c){if(a.distanceFrom(b)>c||b.getSourceBlock().isInsertionMarker())return!1;switch(b.type){case $.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(a,b);case $.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE:if(b.isConnected()&&!b.targetBlock().isInsertionMarker()||a.isConnected())return!1;break;case $.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE:if(b.isConnected()&&!b.targetBlock().isMovable()&&!b.targetBlock().isShadow())return!1;break;case $.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT:if(b.isConnected()&&!a.getSourceBlock().nextConnection&&!b.targetBlock().isShadow()&&b.targetBlock().nextConnection)return!1;break;default:return!1}return-1===$.module$exports$Blockly$common.draggingConnections.indexOf(b)},module$exports$Blockly$ConnectionChecker.ConnectionChecker.prototype.canConnectToPrevious_=function(a,b){return!(a.targetConnection||-1!==$.module$exports$Blockly$common.draggingConnections.indexOf(b)||b.targetConnection&&(!(a=b.targetBlock()).isInsertionMarker()||a.getPreviousBlock()))},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.CONNECTION_CHECKER,module$exports$Blockly$registry.DEFAULT,module$exports$Blockly$ConnectionChecker.ConnectionChecker);var module$exports$Blockly$Workspace={},module$contents$Blockly$Workspace_WorkspaceDB_=Object.create(null);module$exports$Blockly$Workspace.Workspace=function(a){this.id=(0,module$exports$Blockly$utils$idGenerator.genUid)(),module$contents$Blockly$Workspace_WorkspaceDB_[this.id]=this,this.options=a||new module$exports$Blockly$Options.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.isClearing=this.isMutator=this.isFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=null,this.connectionChecker=new((0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new module$exports$Blockly$VariableMap.VariableMap(this),this.potentialVariableMap_=null},module$exports$Blockly$Workspace.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete module$contents$Blockly$Workspace_WorkspaceDB_[this.id]},module$exports$Blockly$Workspace.Workspace.prototype.sortObjects_=function(a,b){return a=a.getRelativeToSurfaceXY(),b=b.getRelativeToSurfaceXY(),a.y+module$exports$Blockly$Workspace.Workspace.prototype.sortObjects_.offset*a.x-(b.y+module$exports$Blockly$Workspace.Workspace.prototype.sortObjects_.offset*b.x)},module$exports$Blockly$Workspace.Workspace.prototype.addTopBlock=function(a){this.topBlocks_.push(a)},module$exports$Blockly$Workspace.Workspace.prototype.removeTopBlock=function(a){if(!module$exports$Blockly$utils$array_removeElem(this.topBlocks_,a))throw Error("Block not present in workspace's list of top-most blocks.")},module$exports$Blockly$Workspace.Workspace.prototype.getTopBlocks=function(a){var b=[].concat(this.topBlocks_);return a&&1<b.length&&(this.sortObjects_.offset=Math.sin((0,module$exports$Blockly$utils$math.toRadians)(module$exports$Blockly$Workspace.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),b.sort(this.sortObjects_)),b},module$exports$Blockly$Workspace.Workspace.prototype.addTypedBlock=function(a){this.typedBlocksDB_[a.type]||(this.typedBlocksDB_[a.type]=[]),this.typedBlocksDB_[a.type].push(a)},module$exports$Blockly$Workspace.Workspace.prototype.removeTypedBlock=function(a){module$exports$Blockly$utils$array_removeElem(this.typedBlocksDB_[a.type],a),this.typedBlocksDB_[a.type].length||delete this.typedBlocksDB_[a.type]},module$exports$Blockly$Workspace.Workspace.prototype.getBlocksByType=function(a,b){return this.typedBlocksDB_[a]?(a=this.typedBlocksDB_[a].slice(0),b&&1<a.length&&(this.sortObjects_.offset=Math.sin((0,module$exports$Blockly$utils$math.toRadians)(module$exports$Blockly$Workspace.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),a.sort(this.sortObjects_)),a.filter((function(c){return!c.isInsertionMarker()}))):[]},module$exports$Blockly$Workspace.Workspace.prototype.addTopComment=function(a){this.topComments_.push(a),this.commentDB_[a.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+a.id+'"'),this.commentDB_[a.id]=a},module$exports$Blockly$Workspace.Workspace.prototype.removeTopComment=function(a){if(!module$exports$Blockly$utils$array_removeElem(this.topComments_,a))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[a.id]},module$exports$Blockly$Workspace.Workspace.prototype.getTopComments=function(a){var b=[].concat(this.topComments_);return a&&1<b.length&&(this.sortObjects_.offset=Math.sin((0,module$exports$Blockly$utils$math.toRadians)(module$exports$Blockly$Workspace.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),b.sort(this.sortObjects_)),b},module$exports$Blockly$Workspace.Workspace.prototype.getAllBlocks=function(a){if(a){var b=this.getTopBlocks(!0);a=[];for(var c=0;c<b.length;c++)a.push.apply(a,b[c].getDescendants(!0))}else for(a=this.getTopBlocks(!1),b=0;b<a.length;b++)a.push.apply(a,a[b].getChildren(!1));return a.filter((function(d){return!d.isInsertionMarker()}))},module$exports$Blockly$Workspace.Workspace.prototype.clear=function(){this.isClearing=!0;try{var a=(0,module$exports$Blockly$Events$utils.getGroup)();for(a||(0,module$exports$Blockly$Events$utils.setGroup)(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose();a||(0,module$exports$Blockly$Events$utils.setGroup)(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},module$exports$Blockly$Workspace.Workspace.prototype.renameVariableById=function(a,b){this.variableMap_.renameVariableById(a,b)},module$exports$Blockly$Workspace.Workspace.prototype.createVariable=function(a,b,c){return this.variableMap_.createVariable(a,b,c)},module$exports$Blockly$Workspace.Workspace.prototype.getVariableUsesById=function(a){return this.variableMap_.getVariableUsesById(a)},module$exports$Blockly$Workspace.Workspace.prototype.deleteVariableById=function(a){this.variableMap_.deleteVariableById(a)},module$exports$Blockly$Workspace.Workspace.prototype.getVariable=function(a,b){return this.variableMap_.getVariable(a,b)},module$exports$Blockly$Workspace.Workspace.prototype.getVariableById=function(a){return this.variableMap_.getVariableById(a)},module$exports$Blockly$Workspace.Workspace.prototype.getVariablesOfType=function(a){return this.variableMap_.getVariablesOfType(a)},module$exports$Blockly$Workspace.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},module$exports$Blockly$Workspace.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},module$exports$Blockly$Workspace.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},module$exports$Blockly$Workspace.Workspace.prototype.getWidth=function(){return 0},module$exports$Blockly$Workspace.Workspace.prototype.newBlock=function(a,b){return new module$exports$Blockly$Block.Block(this,a,b)},module$exports$Blockly$Workspace.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},module$exports$Blockly$Workspace.Workspace.prototype.remainingCapacityOfType=function(a){return this.options.maxInstances?(void 0!==this.options.maxInstances[a]?this.options.maxInstances[a]:1/0)-this.getBlocksByType(a,!1).length:1/0},module$exports$Blockly$Workspace.Workspace.prototype.isCapacityAvailable=function(a){if(!this.hasBlockLimits())return!0;var c,b=0;for(c in a){if(a[c]>this.remainingCapacityOfType(c))return!1;b+=a[c]}return!(b>this.remainingCapacity())},module$exports$Blockly$Workspace.Workspace.prototype.hasBlockLimits=function(){return 1/0!==this.options.maxBlocks||!!this.options.maxInstances},module$exports$Blockly$Workspace.Workspace.prototype.getUndoStack=function(){return this.undoStack_},module$exports$Blockly$Workspace.Workspace.prototype.getRedoStack=function(){return this.redoStack_},module$exports$Blockly$Workspace.Workspace.prototype.undo=function(a){var b=a?this.redoStack_:this.undoStack_,c=a?this.undoStack_:this.redoStack_,d=b.pop();if(d){for(var e=[d];b.length&&d.group&&d.group===b[b.length-1].group;)e.push(b.pop());for(b=0;b<e.length;b++)c.push(e[b]);e=(0,module$exports$Blockly$Events$utils.filter)(e,a),(0,module$exports$Blockly$Events$utils.setRecordUndo)(!1);try{for(c=0;c<e.length;c++)e[c].run(a)}finally{(0,module$exports$Blockly$Events$utils.setRecordUndo)(!0)}}},module$exports$Blockly$Workspace.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,(0,module$exports$Blockly$Events$utils.clearPendingUndo)()},module$exports$Blockly$Workspace.Workspace.prototype.addChangeListener=function(a){return this.listeners_.push(a),a},module$exports$Blockly$Workspace.Workspace.prototype.removeChangeListener=function(a){module$exports$Blockly$utils$array_removeElem(this.listeners_,a)},module$exports$Blockly$Workspace.Workspace.prototype.fireChangeListener=function(a){if(a.recordUndo)for(this.undoStack_.push(a),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var b=0;b<this.listeners_.length;b++)(0,this.listeners_[b])(a)},module$exports$Blockly$Workspace.Workspace.prototype.getBlockById=function(a){return this.blockDB_[a]||null},module$exports$Blockly$Workspace.Workspace.prototype.setBlockById=function(a,b){this.blockDB_[a]=b},module$exports$Blockly$Workspace.Workspace.prototype.removeBlockById=function(a){delete this.blockDB_[a]},module$exports$Blockly$Workspace.Workspace.prototype.getCommentById=function(a){return this.commentDB_[a]||null},module$exports$Blockly$Workspace.Workspace.prototype.allInputsFilled=function(a){for(var b=this.getTopBlocks(!1),c=0;c<b.length;c++)if(!b[c].allInputsFilled(a))return!1;return!0},module$exports$Blockly$Workspace.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},module$exports$Blockly$Workspace.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new module$exports$Blockly$VariableMap.VariableMap(this)},module$exports$Blockly$Workspace.Workspace.prototype.getVariableMap=function(){return this.variableMap_},module$exports$Blockly$Workspace.Workspace.prototype.setVariableMap=function(a){this.variableMap_=a},module$exports$Blockly$Workspace.Workspace.getById=function(a){return module$contents$Blockly$Workspace_WorkspaceDB_[a]||null},module$exports$Blockly$Workspace.Workspace.getAll=function(){var b,a=[];for(b in module$contents$Blockly$Workspace_WorkspaceDB_)a.push(module$contents$Blockly$Workspace_WorkspaceDB_[b]);return a},module$exports$Blockly$Workspace.Workspace.SCAN_ANGLE=3;var module$exports$Blockly$Bubble={Bubble:function(a,b,c,d,e,f){this.workspace_=a,this.content_=b,this.shape_=c,this.rendered_=!1,this.anchorXY_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null,this.height_=this.width_=this.relativeTop_=this.relativeLeft_=0,this.autoLayout_=!0,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,c=module$exports$Blockly$Bubble.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(c=-c),this.arrow_radians_=(0,module$exports$Blockly$utils$math.toRadians)(c),a.getBubbleCanvas().appendChild(this.createDom_(b,!(!e||!f))),this.setAnchorLocation(d),e&&f||(e=(a=this.content_.getBBox()).width+2*module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH,f=a.height+2*module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH),this.setBubbleSize(e,f),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0}};module$exports$Blockly$Bubble.Bubble.prototype.createDom_=function(a,b){this.bubbleGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{},null);var c={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return module$exports$Blockly$utils$userAgent.JAVA_FX&&(c={}),c=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,c,this.bubbleGroup_),this.bubbleArrow_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{},c),this.bubbleBack_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH,ry:module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH},c),b?(this.resizeGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),b=2*module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH,(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.resizeGroup_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{class:"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.resizeGroup_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{class:"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(a),this.bubbleGroup_},module$exports$Blockly$Bubble.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},module$exports$Blockly$Bubble.Bubble.prototype.setSvgId=function(a){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=a)},module$exports$Blockly$Bubble.Bubble.prototype.bubbleMouseDown_=function(a){var b=this.workspace_.getGesture(a);b&&b.handleBubbleStart(a,this)},module$exports$Blockly$Bubble.Bubble.prototype.showContextMenu=function(a){},module$exports$Blockly$Bubble.Bubble.prototype.isDeletable=function(){return!1},module$exports$Blockly$Bubble.Bubble.prototype.setDeleteStyle=function(a){},module$exports$Blockly$Bubble.Bubble.prototype.resizeMouseDown_=function(a){this.promote(),module$exports$Blockly$Bubble.Bubble.unbindDragEvents_(),(0,module$exports$Blockly$browserEvents.isRightButton)(a)||(this.workspace_.startDrag(a,new module$exports$Blockly$utils$Coordinate.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),module$exports$Blockly$Bubble.Bubble.onMouseUpWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mouseup",this,module$exports$Blockly$Bubble.Bubble.bubbleMouseUp_),module$exports$Blockly$Bubble.Bubble.onMouseMoveWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mousemove",this,this.resizeMouseMove_),this.workspace_.hideChaff()),a.stopPropagation()},module$exports$Blockly$Bubble.Bubble.prototype.resizeMouseMove_=function(a){this.autoLayout_=!1,a=this.workspace_.moveDrag(a),this.setBubbleSize(this.workspace_.RTL?-a.x:a.x,a.y),this.workspace_.RTL&&this.positionBubble_()},module$exports$Blockly$Bubble.Bubble.prototype.registerResizeEvent=function(a){this.resizeCallback_=a},module$exports$Blockly$Bubble.Bubble.prototype.registerMoveEvent=function(a){this.moveCallback_=a},module$exports$Blockly$Bubble.Bubble.prototype.promote=function(){var a=this.bubbleGroup_.parentNode;return a.lastChild!==this.bubbleGroup_&&(a.appendChild(this.bubbleGroup_),!0)},module$exports$Blockly$Bubble.Bubble.prototype.setAnchorLocation=function(a){this.anchorXY_=a,this.rendered_&&this.positionBubble_()},module$exports$Blockly$Bubble.Bubble.prototype.layoutBubble_=function(){var a=this.workspace_.getMetricsManager().getViewMetrics(!0),b=this.getOptimalRelativeLeft_(a),c=this.getOptimalRelativeTop_(a),d=this.shape_.getBBox(),e={x:b,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},f={x:-this.width_-30,y:c};c={x:d.width,y:c};var g={x:b,y:d.height};b=d.width<d.height?c:g,d=d.width<d.height?g:c,c=this.getOverlap_(e,a),g=this.getOverlap_(f,a);var h=this.getOverlap_(b,a);a=this.getOverlap_(d,a),c===(a=Math.max(c,g,h,a))?(this.relativeLeft_=e.x,this.relativeTop_=e.y):g===a?(this.relativeLeft_=f.x,this.relativeTop_=f.y):h===a?(this.relativeLeft_=b.x,this.relativeTop_=b.y):(this.relativeLeft_=d.x,this.relativeTop_=d.y)},module$exports$Blockly$Bubble.Bubble.prototype.getOverlap_=function(a,b){var c=this.workspace_.RTL?this.anchorXY_.x-a.x-this.width_:a.x+this.anchorXY_.x;return a=a.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(c+this.width_,b.left+b.width)-Math.max(c,b.left))*(Math.min(a+this.height_,b.top+b.height)-Math.max(a,b.top))/(this.width_*this.height_)))},module$exports$Blockly$Bubble.Bubble.prototype.getOptimalRelativeLeft_=function(a){var b=-this.width_/4;if(this.width_>a.width)return b;if(this.workspace_.RTL){var c=this.anchorXY_.x-b,d=a.left+a.width;a=a.left+module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness/this.workspace_.scale,c-this.width_<a?b=-(a-this.anchorXY_.x+this.width_):c>d&&(b=-(d-this.anchorXY_.x))}else{d=(c=b+this.anchorXY_.x)+this.width_;var e=a.left;a=a.left+a.width-module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness/this.workspace_.scale,c<e?b=e-this.anchorXY_.x:d>a&&(b=a-this.anchorXY_.x-this.width_)}return b},module$exports$Blockly$Bubble.Bubble.prototype.getOptimalRelativeTop_=function(a){var b=-this.height_/4;if(this.height_>a.height)return b;var c=this.anchorXY_.y+b,d=c+this.height_,e=a.top;a=a.top+a.height-module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness/this.workspace_.scale;var f=this.anchorXY_.y;return c<e?b=e-f:d>a&&(b=a-f-this.height_),b},module$exports$Blockly$Bubble.Bubble.prototype.positionBubble_=function(){var a=this.anchorXY_.x;a=this.workspace_.RTL?a-(this.relativeLeft_+this.width_):a+this.relativeLeft_,this.moveTo(a,this.relativeTop_+this.anchorXY_.y)},module$exports$Blockly$Bubble.Bubble.prototype.moveTo=function(a,b){this.bubbleGroup_.setAttribute("transform","translate("+a+","+b+")")},module$exports$Blockly$Bubble.Bubble.prototype.setDragging=function(a){!a&&this.moveCallback_&&this.moveCallback_()},module$exports$Blockly$Bubble.Bubble.prototype.getBubbleSize=function(){return new module$exports$Blockly$utils$Size.Size(this.width_,this.height_)},module$exports$Blockly$Bubble.Bubble.prototype.setBubbleSize=function(a,b){var c=2*module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH;a=Math.max(a,c+45),b=Math.max(b,c+20),this.width_=a,this.height_=b,this.bubbleBack_.setAttribute("width",a),this.bubbleBack_.setAttribute("height",b),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH+","+(b-c)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(a-c)+","+(b-c)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},module$exports$Blockly$Bubble.Bubble.prototype.renderArrow_=function(){var a=[],b=this.width_/2,c=this.height_/2,d=-this.relativeLeft_,e=-this.relativeTop_;if(b===d&&c===e)a.push("M "+b+","+c);else{e-=c,d-=b,this.workspace_.RTL&&(d*=-1);var f=Math.sqrt(e*e+d*d),g=Math.acos(d/f);0>e&&(g=2*Math.PI-g);var h=g+Math.PI/2;h>2*Math.PI&&(h-=2*Math.PI);var k=Math.sin(h),l=Math.cos(h),m=this.getBubbleSize();h=(m.width+m.height)/module$exports$Blockly$Bubble.Bubble.ARROW_THICKNESS,h=Math.min(h,m.width,m.height)/4,d=b+(m=1-module$exports$Blockly$Bubble.Bubble.ANCHOR_RADIUS/f)*d,e=c+m*e,m=b+h*l;var n=c+h*k;b-=h*l,c-=h*k,(k=g+this.arrow_radians_)>2*Math.PI&&(k-=2*Math.PI),g=Math.sin(k)*f/module$exports$Blockly$Bubble.Bubble.ARROW_BEND,f=Math.cos(k)*f/module$exports$Blockly$Bubble.Bubble.ARROW_BEND,a.push("M"+m+","+n),a.push("C"+(m+f)+","+(n+g)+" "+d+","+e+" "+d+","+e),a.push("C"+d+","+e+" "+(b+f)+","+(c+g)+" "+b+","+c)}a.push("z"),this.bubbleArrow_.setAttribute("d",a.join(" "))},module$exports$Blockly$Bubble.Bubble.prototype.setColour=function(a){this.bubbleBack_.setAttribute("fill",a),this.bubbleArrow_.setAttribute("fill",a)},module$exports$Blockly$Bubble.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&(0,module$exports$Blockly$browserEvents.unbind)(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&(0,module$exports$Blockly$browserEvents.unbind)(this.onMouseDownResizeWrapper_),module$exports$Blockly$Bubble.Bubble.unbindDragEvents_(),(0,module$exports$Blockly$utils$dom.removeNode)(this.bubbleGroup_),this.disposed=!0},module$exports$Blockly$Bubble.Bubble.prototype.moveDuringDrag=function(a,b){a?a.translateSurface(b.x,b.y):this.moveTo(b.x,b.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-b.x-this.width_:b.x-this.anchorXY_.x,this.relativeTop_=b.y-this.anchorXY_.y,this.renderArrow_()},module$exports$Blockly$Bubble.Bubble.prototype.getRelativeToSurfaceXY=function(){return new module$exports$Blockly$utils$Coordinate.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},module$exports$Blockly$Bubble.Bubble.prototype.setAutoLayout=function(a){this.autoLayout_=a},module$exports$Blockly$Bubble.Bubble.unbindDragEvents_=function(){module$exports$Blockly$Bubble.Bubble.onMouseUpWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(module$exports$Blockly$Bubble.Bubble.onMouseUpWrapper_),module$exports$Blockly$Bubble.Bubble.onMouseUpWrapper_=null),module$exports$Blockly$Bubble.Bubble.onMouseMoveWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(module$exports$Blockly$Bubble.Bubble.onMouseMoveWrapper_),module$exports$Blockly$Bubble.Bubble.onMouseMoveWrapper_=null)},module$exports$Blockly$Bubble.Bubble.bubbleMouseUp_=function(a){(0,module$exports$Blockly$Touch.clearTouchIdentifier)(),module$exports$Blockly$Bubble.Bubble.unbindDragEvents_()},module$exports$Blockly$Bubble.Bubble.textToDom=function(a){var b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH},null);a=a.split("\n");for(var c=0;c<a.length;c++){var d=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.TSPAN,{dy:"1em",x:module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH},b),e=document.createTextNode(a[c]);d.appendChild(e)}return b},module$exports$Blockly$Bubble.Bubble.createNonEditableBubble=function(a,b,c){if((c=new module$exports$Blockly$Bubble.Bubble(b.workspace,a,b.pathObject.svgPath,c,null,null)).setSvgId(b.id),b.RTL){b=a.getBBox().width;for(var e,d=0;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH)}return c},module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH=6,module$exports$Blockly$Bubble.Bubble.ARROW_THICKNESS=5,module$exports$Blockly$Bubble.Bubble.ARROW_ANGLE=20,module$exports$Blockly$Bubble.Bubble.ARROW_BEND=4,module$exports$Blockly$Bubble.Bubble.ANCHOR_RADIUS=8,module$exports$Blockly$Bubble.Bubble.onMouseUpWrapper_=null,module$exports$Blockly$Bubble.Bubble.onMouseMoveWrapper_=null;var module$exports$Blockly$Events$CommentBase={CommentBase:function(a){module$exports$Blockly$Events$Abstract.Abstract.call(this),this.commentId=(this.isBlank=void 0===a)?"":a.id,this.workspaceId=this.isBlank?"":a.workspace.id,this.group=(0,module$exports$Blockly$Events$utils.getGroup)(),this.recordUndo=(0,module$exports$Blockly$Events$utils.getRecordUndo)()}};$.$jscomp.inherits(module$exports$Blockly$Events$CommentBase.CommentBase,module$exports$Blockly$Events$Abstract.Abstract),module$exports$Blockly$Events$CommentBase.CommentBase.prototype.toJson=function(){var a=module$exports$Blockly$Events$Abstract.Abstract.prototype.toJson.call(this);return this.commentId&&(a.commentId=this.commentId),a},module$exports$Blockly$Events$CommentBase.CommentBase.prototype.fromJson=function(a){module$exports$Blockly$Events$Abstract.Abstract.prototype.fromJson.call(this,a),this.commentId=a.commentId},module$exports$Blockly$Events$CommentBase.CommentBase.CommentCreateDeleteHelper=function(a,b){var c=a.getEventWorkspace_();b?((b=(0,$.module$exports$Blockly$utils$xml.createElement)("xml")).appendChild(a.xml),(0,$.module$exports$Blockly$Xml.domToWorkspace)(b,c)):(c=c.getCommentById(a.commentId))?c.dispose():console.warn("Can't uncreate non-existent comment: "+a.commentId)};var module$exports$Blockly$Events$CommentMove={CommentMove:function(a){module$exports$Blockly$Events$CommentBase.CommentBase.call(this,a),this.type=module$exports$Blockly$Events$utils.COMMENT_MOVE,a&&(this.comment_=a,this.oldCoordinate_=a.getXY(),this.newCoordinate_=null)}};$.$jscomp.inherits(module$exports$Blockly$Events$CommentMove.CommentMove,module$exports$Blockly$Events$CommentBase.CommentBase),module$exports$Blockly$Events$CommentMove.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},module$exports$Blockly$Events$CommentMove.CommentMove.prototype.setOldCoordinate=function(a){this.oldCoordinate_=a},module$exports$Blockly$Events$CommentMove.CommentMove.prototype.toJson=function(){var a=module$exports$Blockly$Events$CommentBase.CommentBase.prototype.toJson.call(this);return this.oldCoordinate_&&(a.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(a.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),a},module$exports$Blockly$Events$CommentMove.CommentMove.prototype.fromJson=function(a){if(module$exports$Blockly$Events$CommentBase.CommentBase.prototype.fromJson.call(this,a),a.oldCoordinate){var b=a.oldCoordinate.split(",");this.oldCoordinate_=new module$exports$Blockly$utils$Coordinate.Coordinate(Number(b[0]),Number(b[1]))}a.newCoordinate&&(a=a.newCoordinate.split(","),this.newCoordinate_=new module$exports$Blockly$utils$Coordinate.Coordinate(Number(a[0]),Number(a[1])))},module$exports$Blockly$Events$CommentMove.CommentMove.prototype.isNull=function(){return module$exports$Blockly$utils$Coordinate.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},module$exports$Blockly$Events$CommentMove.CommentMove.prototype.run=function(a){var b=this.getEventWorkspace_().getCommentById(this.commentId);if(b){a=a?this.newCoordinate_:this.oldCoordinate_;var c=b.getXY();b.moveBy(a.x-c.x,a.y-c.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.COMMENT_MOVE,module$exports$Blockly$Events$CommentMove.CommentMove);var module$exports$Blockly$BubbleDragger={BubbleDragger:function(a,b){this.draggingBubble_=a,this.workspace_=b,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=(0,module$exports$Blockly$utils$svgMath.is3dSupported)()&&b.getBlockDragSurface()?b.getBlockDragSurface():null}};module$exports$Blockly$BubbleDragger.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},module$exports$Blockly$BubbleDragger.BubbleDragger.prototype.startBubbleDrag=function(){(0,module$exports$Blockly$Events$utils.getGroup)()||(0,module$exports$Blockly$Events$utils.setGroup)(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0)},module$exports$Blockly$BubbleDragger.BubbleDragger.prototype.dragBubble=function(a,b){b=this.pixelsToWorkspaceUnits_(b),b=module$exports$Blockly$utils$Coordinate.Coordinate.sum(this.startXY_,b),this.draggingBubble_.moveDuringDrag(this.dragSurface_,b),b=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(a),a=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),a!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==b&&(b&&b.onDragExit(this.draggingBubble_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBubble_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBubble_)},module$exports$Blockly$BubbleDragger.BubbleDragger.prototype.shouldDelete_=function(a){return!(!a||!this.workspace_.getComponentManager().hasCapability(a.id,module$exports$Blockly$ComponentManager.ComponentManager.Capability.DELETE_AREA))&&a.wouldDelete(this.draggingBubble_,!1)},module$exports$Blockly$BubbleDragger.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.draggingBubble_.setDeleteStyle(this.wouldDeleteBubble_)},module$exports$Blockly$BubbleDragger.BubbleDragger.prototype.endBubbleDrag=function(a,b){this.dragBubble(a,b),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBubble_)?a=this.startXY_:(a=this.pixelsToWorkspaceUnits_(b),a=module$exports$Blockly$utils$Coordinate.Coordinate.sum(this.startXY_,a)),this.draggingBubble_.moveTo(a.x,a.y),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBubble_),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),(0,module$exports$Blockly$Events$utils.setGroup)(!1)},module$exports$Blockly$BubbleDragger.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.COMMENT_MOVE))(this.draggingBubble_);a.setOldCoordinate(this.startXY_),a.recordNew(),(0,module$exports$Blockly$Events$utils.fire)(a)}},module$exports$Blockly$BubbleDragger.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(a){return a=new module$exports$Blockly$utils$Coordinate.Coordinate(a.x/this.workspace_.scale,a.y/this.workspace_.scale),this.workspace_.isMutator&&a.scale(1/this.workspace_.options.parentWorkspace.scale),a},module$exports$Blockly$BubbleDragger.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())};var module$exports$Blockly$WorkspaceDragger={WorkspaceDragger:function(a){this.workspace_=a,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new module$exports$Blockly$utils$Coordinate.Coordinate(a.scrollX,a.scrollY)}};module$exports$Blockly$WorkspaceDragger.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},module$exports$Blockly$WorkspaceDragger.WorkspaceDragger.prototype.startDrag=function(){(0,$.module$exports$Blockly$common.getSelected)()&&(0,$.module$exports$Blockly$common.getSelected)().unselect(),this.workspace_.setupDragSurface()},module$exports$Blockly$WorkspaceDragger.WorkspaceDragger.prototype.endDrag=function(a){this.drag(a),this.workspace_.resetDragSurface()},module$exports$Blockly$WorkspaceDragger.WorkspaceDragger.prototype.drag=function(a){if(a=module$exports$Blockly$utils$Coordinate.Coordinate.sum(this.startScrollXY_,a),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(a.x,a.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(a.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,a.y)}};var module$exports$Blockly$InsertionMarkerManager={InsertionMarkerManager:function(a){(0,$.module$exports$Blockly$common.setSelected)(a),this.topBlock_=a,this.workspace_=a.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()}};module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,(0,module$exports$Blockly$Events$utils.disable)();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{(0,module$exports$Blockly$Events$utils.enable)()}},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&((0,module$exports$Blockly$Events$utils.disable)(),this.hidePreview_(),(0,module$exports$Blockly$Events$utils.enable)(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var a=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;(0,module$exports$Blockly$blockAnimations.connectionUiEffect)(a.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.update=function(a,b){var c=this.getCandidate_(a);((this.wouldDeleteBlock_=this.shouldDelete_(c,b))||this.shouldUpdatePreviews_(c,a))&&((0,module$exports$Blockly$Events$utils.disable)(),this.maybeHidePreview_(c),this.maybeShowPreview_(c),(0,module$exports$Blockly$Events$utils.enable)())},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.createMarkerBlock_=function(a){var b=a.type;(0,module$exports$Blockly$Events$utils.disable)();try{var c=this.workspace_.newBlock(b);if(c.setInsertionMarker(!0),a.saveExtraState){var d=a.saveExtraState();d&&c.loadExtraState(d)}else if(a.mutationToDom){var e=a.mutationToDom();e&&c.domToMutation(e)}for(b=0;b<a.inputList.length;b++){var f=a.inputList[b];if(f.name!==module$exports$Blockly$constants.COLLAPSED_INPUT_NAME){var g=c.inputList[b];if(!g)throw Error("The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.".replace("%1","an input"));for(d=0;d<f.fieldRow.length;d++){var h=f.fieldRow[d],k=g.fieldRow[d];if(!k)throw Error("The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.".replace("%1","a field"));k.setValue(h.getValue())}}}c.setCollapsed(a.isCollapsed()),c.setInputsInline(a.getInputsInline()),c.initSvg(),c.getSvgRoot().setAttribute("visibility","hidden")}finally{(0,module$exports$Blockly$Events$utils.enable)()}return c},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var a=this.topBlock_.getConnections_(!1),b=this.topBlock_.lastConnectionInStack(!0);if(b&&b!==this.topBlock_.nextConnection){if(a.push(b),this.lastOnStack_=b,this.lastMarker_){(0,module$exports$Blockly$Events$utils.disable)();try{this.lastMarker_.dispose()}finally{(0,module$exports$Blockly$Events$utils.enable)()}}this.lastMarker_=this.createMarkerBlock_(b.getSourceBlock())}return a},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(a,b){var c=a.local,d=a.closest;return a=a.radius,c&&d?this.localConnection_&&this.closestConnection_?!(this.closestConnection_===d&&this.localConnection_===c||(c=this.localConnection_.x+b.x-this.closestConnection_.x,b=this.localConnection_.y+b.y-this.closestConnection_.y,b=Math.sqrt(c*c+b*b),d&&a>b-$.module$exports$Blockly$config.config.currentConnectionPreference)):!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0):!(!this.localConnection_||!this.closestConnection_)},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.getCandidate_=function(a){var b=this.getStartRadius_(),c=null,d=null;this.markerConnection_&&this.markerConnection_.isConnected()||this.updateAvailableConnections();for(var e=0;e<this.availableConnections_.length;e++){var f=this.availableConnections_[e],g=f.closest(b,a);g.connection&&(c=g.connection,d=f,b=g.radius)}return{closest:c,local:d,radius:b}},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?$.module$exports$Blockly$config.config.connectingSnapRadius:$.module$exports$Blockly$config.config.snapRadius},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.shouldDelete_=function(a,b){return!(!b||!this.workspace_.getComponentManager().hasCapability(b.id,module$exports$Blockly$ComponentManager.ComponentManager.Capability.DELETE_AREA))&&b.wouldDelete(this.topBlock_,a&&!!a.closest)},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.maybeShowPreview_=function(a){if(!this.wouldDeleteBlock_){var b=a.closest;a=a.local,b&&(b===this.closestConnection_||b.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=b,this.localConnection_=a,this.showPreview_()))}},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.showPreview_=function(){var a=this.closestConnection_,b=this.workspace_.getRenderer();switch(b.getConnectionPreviewMethod(a,this.localConnection_,this.topBlock_)){case module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}a&&b.shouldHighlightConnection(a)&&a.highlight()},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.maybeHidePreview_=function(a){if(a.closest){var b=this.closestConnection_!==a.closest;a=this.localConnection_!==a.local,this.closestConnection_&&this.localConnection_&&(b||a||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var a=this.localConnection_,b=this.closestConnection_,c=this.lastOnStack_&&a===this.lastOnStack_,d=c?this.lastMarker_:this.firstMarker_;try{var e=d.getMatchingConnection(a.getSourceBlock(),a)}catch(f){this.firstMarker_=this.createMarkerBlock_(this.topBlock_),e=(d=c?this.lastMarker_:this.firstMarker_).getMatchingConnection(a.getSourceBlock(),a)}if(e===this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.render(),d.rendered=!0,d.getSvgRoot().setAttribute("visibility","visible"),e&&b&&d.positionNearConnection(e,b),b&&e.connect(b),this.markerConnection_=e},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var a=this.markerConnection_,b=a.getSourceBlock(),c=b.nextConnection,d=b.previousConnection,e=b.outputConnection;if(e=a.type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&!(e&&e.targetConnection),!(a!==c||d&&d.targetConnection)||e?a.targetBlock().unplug(!1):a.type===$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT&&a!==c?((c=a.targetConnection).getSourceBlock().unplug(!1),d=d?d.targetConnection:null,b.unplug(!0),d&&d.connect(c)):b.unplug(!0),a.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,(a=b.getSvgRoot())&&a.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var a=this.closestConnection_;this.highlightedBlock_=a.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(a,!0)},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var a=[];return this.firstMarker_&&a.push(this.firstMarker_),this.lastMarker_&&a.push(this.lastMarker_),a},module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2};var module$exports$Blockly$Events$UiBase={UiBase:function(a){module$exports$Blockly$Events$Abstract.Abstract.call(this),this.isBlank=void 0===a,this.workspaceId=a||"",this.recordUndo=!1,this.isUiEvent=!0}};$.$jscomp.inherits(module$exports$Blockly$Events$UiBase.UiBase,module$exports$Blockly$Events$Abstract.Abstract);var module$exports$Blockly$Events$BlockDrag={BlockDrag:function(a,b,c){module$exports$Blockly$Events$UiBase.UiBase.call(this,a?a.workspace.id:void 0),this.blockId=a?a.id:null,this.isStart=b,this.blocks=c,this.type=module$exports$Blockly$Events$utils.BLOCK_DRAG}};$.$jscomp.inherits(module$exports$Blockly$Events$BlockDrag.BlockDrag,module$exports$Blockly$Events$UiBase.UiBase),module$exports$Blockly$Events$BlockDrag.BlockDrag.prototype.toJson=function(){var a=module$exports$Blockly$Events$UiBase.UiBase.prototype.toJson.call(this);return a.isStart=this.isStart,a.blockId=this.blockId,a.blocks=this.blocks,a},module$exports$Blockly$Events$BlockDrag.BlockDrag.prototype.fromJson=function(a){module$exports$Blockly$Events$UiBase.UiBase.prototype.fromJson.call(this,a),this.isStart=a.isStart,this.blockId=a.blockId,this.blocks=a.blocks},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.BLOCK_DRAG,module$exports$Blockly$Events$BlockDrag.BlockDrag);var module$exports$Blockly$BlockDragger={BlockDragger:function(a,b){this.draggingBlock_=a,this.workspace_=b,this.draggedConnectionManager_=new module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager(this.draggingBlock_),this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=module$contents$Blockly$BlockDragger_initIconData(a)}};module$exports$Blockly$BlockDragger.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},module$exports$Blockly$BlockDragger.BlockDragger.prototype.startDrag=function(a,b){(0,module$exports$Blockly$Events$utils.getGroup)()||(0,module$exports$Blockly$Events$utils.setGroup)(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),(0,module$exports$Blockly$utils$dom.startTextWidthCache)(),this.workspace_.setResizesEnabled(!1),(0,module$exports$Blockly$blockAnimations.disconnectUiStop)(),this.shouldDisconnect_(b)&&this.disconnectBlock_(b,a),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()},module$exports$Blockly$BlockDragger.BlockDragger.prototype.shouldDisconnect_=function(a){return!!(this.draggingBlock_.getParent()||a&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())},module$exports$Blockly$BlockDragger.BlockDragger.prototype.disconnectBlock_=function(a,b){this.draggingBlock_.unplug(a),a=this.pixelsToWorkspaceUnits_(b),a=module$exports$Blockly$utils$Coordinate.Coordinate.sum(this.startXY_,a),this.draggingBlock_.translate(a.x,a.y),(0,module$exports$Blockly$blockAnimations.disconnectUiEffect)(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()},module$exports$Blockly$BlockDragger.BlockDragger.prototype.fireDragStartEvent_=function(){var a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));(0,module$exports$Blockly$Events$utils.fire)(a)},module$exports$Blockly$BlockDragger.BlockDragger.prototype.drag=function(a,b){b=this.pixelsToWorkspaceUnits_(b);var c=module$exports$Blockly$utils$Coordinate.Coordinate.sum(this.startXY_,b);this.draggingBlock_.moveDuringDrag(c),this.dragIcons_(b),c=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(a),this.draggedConnectionManager_.update(b,this.dragTarget_),a=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock(),a!==this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==c&&(c&&c.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)},module$exports$Blockly$BlockDragger.BlockDragger.prototype.endDrag=function(a,b){if(this.drag(a,b),this.dragIconData_=[],this.fireDragEndEvent_(),(0,module$exports$Blockly$utils$dom.stopTextWidthCache)(),(0,module$exports$Blockly$blockAnimations.disconnectUiStop)(),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_))a=this.startXY_;else{var c=(a=this.getNewLocationAfterDrag_(b)).delta;a=a.newLocation}this.draggingBlock_.moveOffDragSurface(a),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),c?this.updateBlockAfterMove_(c):(0,module$exports$Blockly$bumpObjects.bumpIntoBounds)(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),(0,module$exports$Blockly$Events$utils.setGroup)(!1)},module$exports$Blockly$BlockDragger.BlockDragger.prototype.getNewLocationAfterDrag_=function(a){var b={};return b.delta=this.pixelsToWorkspaceUnits_(a),b.newLocation=module$exports$Blockly$utils$Coordinate.Coordinate.sum(this.startXY_,b.delta),b},module$exports$Blockly$BlockDragger.BlockDragger.prototype.maybeDeleteBlock_=function(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),$.module$exports$Blockly$common.draggingConnections.length=0,!0)},module$exports$Blockly$BlockDragger.BlockDragger.prototype.updateBlockAfterMove_=function(a){this.draggingBlock_.moveConnections(a.x,a.y),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()},module$exports$Blockly$BlockDragger.BlockDragger.prototype.fireDragEndEvent_=function(){var a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));(0,module$exports$Blockly$Events$utils.fire)(a)},module$exports$Blockly$BlockDragger.BlockDragger.prototype.updateToolboxStyle_=function(a){var b=this.workspace_.getToolbox();if(b){var c=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";a&&"function"==typeof b.removeStyle?b.removeStyle(c):a||"function"!=typeof b.addStyle||b.addStyle(c)}},module$exports$Blockly$BlockDragger.BlockDragger.prototype.fireMoveEvent_=function(){var a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.MOVE))(this.draggingBlock_);a.oldCoordinate=this.startXY_,a.recordNew(),(0,module$exports$Blockly$Events$utils.fire)(a)},module$exports$Blockly$BlockDragger.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)},module$exports$Blockly$BlockDragger.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(a){return a=new module$exports$Blockly$utils$Coordinate.Coordinate(a.x/this.workspace_.scale,a.y/this.workspace_.scale),this.workspace_.isMutator&&a.scale(1/this.workspace_.options.parentWorkspace.scale),a},module$exports$Blockly$BlockDragger.BlockDragger.prototype.dragIcons_=function(a){for(var b=0;b<this.dragIconData_.length;b++){var c=this.dragIconData_[b];c.icon.setIconLocation(module$exports$Blockly$utils$Coordinate.Coordinate.sum(c.location,a))}},module$exports$Blockly$BlockDragger.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]};var module$contents$Blockly$BlockDragger_initIconData=function(a){var b=[];a=a.getDescendants(!1);for(var d,c=0;d=a[c];c++){d=d.getIcons();for(var e=0;e<d.length;e++){var f={location:d[e].getIconLocation(),icon:d[e]};b.push(f)}}return b};(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.BLOCK_DRAGGER,module$exports$Blockly$registry.DEFAULT,module$exports$Blockly$BlockDragger.BlockDragger);var module$exports$Blockly$Events$Click={Click:function(a,b,c){null===(b=a?a.workspace.id:b)&&(b=void 0),module$exports$Blockly$Events$UiBase.UiBase.call(this,b),this.blockId=a?a.id:null,this.targetType=c,this.type=module$exports$Blockly$Events$utils.CLICK}};$.$jscomp.inherits(module$exports$Blockly$Events$Click.Click,module$exports$Blockly$Events$UiBase.UiBase),module$exports$Blockly$Events$Click.Click.prototype.toJson=function(){var a=module$exports$Blockly$Events$UiBase.UiBase.prototype.toJson.call(this);return a.targetType=this.targetType,this.blockId&&(a.blockId=this.blockId),a},module$exports$Blockly$Events$Click.Click.prototype.fromJson=function(a){module$exports$Blockly$Events$UiBase.UiBase.prototype.fromJson.call(this,a),this.targetType=a.targetType,this.blockId=a.blockId},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.CLICK,module$exports$Blockly$Events$Click.Click);var module$exports$Blockly$Gesture={Gesture:function(a,b){this.mouseDownXY_=null,this.currentDragDeltaXY_=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=b,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=a,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!module$exports$Blockly$internalConstants.DRAG_STACK}};module$exports$Blockly$Gesture.Gesture.prototype.dispose=function(){(0,module$exports$Blockly$Touch.clearTouchIdentifier)(),(0,module$exports$Blockly$Tooltip.unblock)(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&(0,module$exports$Blockly$browserEvents.unbind)(this.onMoveWrapper_),this.onUpWrapper_&&(0,module$exports$Blockly$browserEvents.unbind)(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},module$exports$Blockly$Gesture.Gesture.prototype.updateFromEvent_=function(a){var b=new module$exports$Blockly$utils$Coordinate.Coordinate(a.clientX,a.clientY);this.updateDragDelta_(b)&&(this.updateIsDragging_(),(0,module$exports$Blockly$Touch.longStop)()),this.mostRecentEvent_=a},module$exports$Blockly$Gesture.Gesture.prototype.updateDragDelta_=function(a){return this.currentDragDeltaXY_=module$exports$Blockly$utils$Coordinate.Coordinate.difference(a,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=module$exports$Blockly$utils$Coordinate.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?$.module$exports$Blockly$config.config.flyoutDragRadius:$.module$exports$Blockly$config.config.dragRadius))},module$exports$Blockly$Gesture.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.targetBlock_||!this.flyout_.isBlockCreatable_(this.targetBlock_)||this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)||(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),(0,module$exports$Blockly$Events$utils.getGroup)()||(0,module$exports$Blockly$Events$utils.setGroup)(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),0))},module$exports$Blockly$Gesture.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},module$exports$Blockly$Gesture.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},module$exports$Blockly$Gesture.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new module$exports$Blockly$WorkspaceDragger.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},module$exports$Blockly$Gesture.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},module$exports$Blockly$Gesture.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new((0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.BLOCK_DRAGGER,this.creatorWorkspace_.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)},module$exports$Blockly$Gesture.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new module$exports$Blockly$BubbleDragger.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},module$exports$Blockly$Gesture.Gesture.prototype.doStart=function(a){(0,module$exports$Blockly$browserEvents.isTargetInput)(a)?this.cancel():(this.hasStarted_=!0,(0,module$exports$Blockly$blockAnimations.disconnectUiStop)(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.startWorkspace_.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=a,(0,module$exports$Blockly$Tooltip.block)(),this.targetBlock_&&this.targetBlock_.select(),(0,module$exports$Blockly$browserEvents.isRightButton)(a)?this.handleRightClick(a):("touchstart"!==a.type.toLowerCase()&&"pointerdown"!==a.type.toLowerCase()||"mouse"===a.pointerType||(0,module$exports$Blockly$Touch.longStart)(a,this),this.mouseDownXY_=new module$exports$Blockly$utils$Coordinate.Coordinate(a.clientX,a.clientY),this.healStack_=a.altKey||a.ctrlKey||a.metaKey,this.bindMouseEvents(a)))},module$exports$Blockly$Gesture.Gesture.prototype.bindMouseEvents=function(a){this.onMoveWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mouseup",null,this.handleUp.bind(this)),a.preventDefault(),a.stopPropagation()},module$exports$Blockly$Gesture.Gesture.prototype.handleMove=function(a){this.updateFromEvent_(a),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),a.preventDefault(),a.stopPropagation()},module$exports$Blockly$Gesture.Gesture.prototype.handleUp=function(a){this.updateFromEvent_(a),(0,module$exports$Blockly$Touch.longStop)(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(a,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(a,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(a),a.preventDefault(),a.stopPropagation(),this.dispose())},module$exports$Blockly$Gesture.Gesture.prototype.cancel=function(){this.isEnding_||((0,module$exports$Blockly$Touch.longStop)(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},module$exports$Blockly$Gesture.Gesture.prototype.handleRightClick=function(a){this.targetBlock_?(this.bringBlockToFront_(),this.targetBlock_.workspace.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(a)):this.startBubble_?this.startBubble_.showContextMenu(a):this.startWorkspace_&&!this.flyout_&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(a)),a.preventDefault(),a.stopPropagation(),this.dispose()},module$exports$Blockly$Gesture.Gesture.prototype.handleWsStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(b),this.mostRecentEvent_=a,this.doStart(a)},module$exports$Blockly$Gesture.Gesture.prototype.fireWorkspaceClick_=function(a){(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CLICK))(null,a.id,"workspace"))},module$exports$Blockly$Gesture.Gesture.prototype.handleFlyoutStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(b),this.handleWsStart(a,b.getWorkspace())},module$exports$Blockly$Gesture.Gesture.prototype.handleBlockStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(b),this.mostRecentEvent_=a},module$exports$Blockly$Gesture.Gesture.prototype.handleBubbleStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(b),this.mostRecentEvent_=a},module$exports$Blockly$Gesture.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},module$exports$Blockly$Gesture.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},module$exports$Blockly$Gesture.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&((0,module$exports$Blockly$Events$utils.getGroup)()||(0,module$exports$Blockly$Events$utils.setGroup)(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");(0,module$exports$Blockly$Events$utils.fire)(a)}this.bringBlockToFront_(),(0,module$exports$Blockly$Events$utils.setGroup)(!1)},module$exports$Blockly$Gesture.Gesture.prototype.doWorkspaceClick_=function(a){a=this.creatorWorkspace_,(0,$.module$exports$Blockly$common.getSelected)()&&(0,$.module$exports$Blockly$common.getSelected)().unselect(),this.fireWorkspaceClick_(this.startWorkspace_||a)},module$exports$Blockly$Gesture.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},module$exports$Blockly$Gesture.Gesture.prototype.setStartField=function(a){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=a)},module$exports$Blockly$Gesture.Gesture.prototype.setStartBubble=function(a){this.startBubble_||(this.startBubble_=a)},module$exports$Blockly$Gesture.Gesture.prototype.setStartBlock=function(a){this.startBlock_||this.startBubble_||(this.startBlock_=a,a.isInFlyout&&a!==a.getRootBlock()?this.setTargetBlock_(a.getRootBlock()):this.setTargetBlock_(a))},module$exports$Blockly$Gesture.Gesture.prototype.setTargetBlock_=function(a){a.isShadow()?this.setTargetBlock_(a.getParent()):this.targetBlock_=a},module$exports$Blockly$Gesture.Gesture.prototype.setStartWorkspace_=function(a){this.startWorkspace_||(this.startWorkspace_=a)},module$exports$Blockly$Gesture.Gesture.prototype.setStartFlyout_=function(a){this.flyout_||(this.flyout_=a)},module$exports$Blockly$Gesture.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},module$exports$Blockly$Gesture.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},module$exports$Blockly$Gesture.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},module$exports$Blockly$Gesture.Gesture.prototype.isWorkspaceClick_=function(){return!(this.startBlock_||this.startBubble_||this.startField_||this.hasExceededDragRadius_)},module$exports$Blockly$Gesture.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},module$exports$Blockly$Gesture.Gesture.prototype.hasStarted=function(){return this.hasStarted_},module$exports$Blockly$Gesture.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},module$exports$Blockly$Gesture.Gesture.prototype.getCurrentDragger=function(){return this.isDraggingBlock_?this.blockDragger_:this.isDraggingWorkspace_?this.workspaceDragger_:this.isDraggingBubble_?this.bubbleDragger_:null},module$exports$Blockly$Gesture.Gesture.inProgress=function(){for(var c,a=module$exports$Blockly$Workspace.Workspace.getAll(),b=0;c=a[b];b++)if(c.currentGesture_)return!0;return!1};var module$exports$Blockly$Field={Field:function(a,b,c){this.name=void 0,this.value_=this.constructor.prototype.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new module$exports$Blockly$utils$Size.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}};module$exports$Blockly$Field.Field.prototype.configure_=function(a){var b=a.tooltip;"string"==typeof b&&(b=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a.tooltip)),b&&this.setTooltip(b)},module$exports$Blockly$Field.Field.prototype.setSourceBlock=function(a){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=a},module$exports$Blockly$Field.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},module$exports$Blockly$Field.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},module$exports$Blockly$Field.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},module$exports$Blockly$Field.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},module$exports$Blockly$Field.Field.prototype.initModel=function(){},module$exports$Blockly$Field.Field.prototype.createBorderRect_=function(){this.borderRect_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},module$exports$Blockly$Field.Field.prototype.createTextElement_=function(){this.textElement_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},module$exports$Blockly$Field.Field.prototype.bindEvents_=function(){(0,module$exports$Blockly$Tooltip.bindMouseEvents)(this.getClickTarget_()),this.mouseDownWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},module$exports$Blockly$Field.Field.prototype.fromXml=function(a){this.setValue(a.textContent)},module$exports$Blockly$Field.Field.prototype.toXml=function(a){return a.textContent=this.getValue(),a},module$exports$Blockly$Field.Field.prototype.saveState=function(a){return null!==(a=this.saveLegacyState(module$exports$Blockly$Field.Field))?a:this.getValue()},module$exports$Blockly$Field.Field.prototype.loadState=function(a){this.loadLegacyState(module$exports$Blockly$Field.Field,a)||this.setValue(a)},module$exports$Blockly$Field.Field.prototype.saveLegacyState=function(a){return a.prototype.saveState===this.saveState&&a.prototype.toXml!==this.toXml?((a=(0,$.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name",this.name||""),(0,$.module$exports$Blockly$Xml.domToText)(this.toXml(a)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null},module$exports$Blockly$Field.Field.prototype.loadLegacyState=function(a,b){return a.prototype.loadState===this.loadState&&a.prototype.fromXml!==this.fromXml&&(this.fromXml((0,$.module$exports$Blockly$Xml.textToDom)(b)),!0)},module$exports$Blockly$Field.Field.prototype.dispose=function(){(0,module$exports$Blockly$dropDownDiv.hideIfOwner)(this),(0,module$exports$Blockly$WidgetDiv.hideIfOwner)(this),(0,module$exports$Blockly$Tooltip.unbindMouseEvents)(this.getClickTarget_()),this.mouseDownWrapper_&&(0,module$exports$Blockly$browserEvents.unbind)(this.mouseDownWrapper_),(0,module$exports$Blockly$utils$dom.removeNode)(this.fieldGroup_),this.disposed=!0},module$exports$Blockly$Field.Field.prototype.updateEditable=function(){var a=this.fieldGroup_;this.EDITABLE&&a&&(this.enabled_&&this.sourceBlock_.isEditable()?((0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyEditableText"),(0,module$exports$Blockly$utils$dom.removeClass)(a,"blocklyNonEditableText"),a.style.cursor=this.CURSOR):((0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyNonEditableText"),(0,module$exports$Blockly$utils$dom.removeClass)(a,"blocklyEditableText"),a.style.cursor=""))},module$exports$Blockly$Field.Field.prototype.setEnabled=function(a){this.enabled_=a,this.updateEditable()},module$exports$Blockly$Field.Field.prototype.isEnabled=function(){return this.enabled_},module$exports$Blockly$Field.Field.prototype.isClickable=function(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==module$exports$Blockly$Field.Field.prototype.showEditor_},module$exports$Blockly$Field.Field.prototype.isCurrentlyEditable=function(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},module$exports$Blockly$Field.Field.prototype.isSerializable=function(){var a=!1;return this.name&&(this.SERIALIZABLE?a=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),a=!0)),a},module$exports$Blockly$Field.Field.prototype.isVisible=function(){return this.visible_},module$exports$Blockly$Field.Field.prototype.setVisible=function(a){if(this.visible_!==a){this.visible_=a;var b=this.getSvgRoot();b&&(b.style.display=a?"block":"none")}},module$exports$Blockly$Field.Field.prototype.setValidator=function(a){this.validator_=a},module$exports$Blockly$Field.Field.prototype.getValidator=function(){return this.validator_},module$exports$Blockly$Field.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},module$exports$Blockly$Field.Field.prototype.applyColour=function(){},module$exports$Blockly$Field.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},module$exports$Blockly$Field.Field.prototype.showEditor=function(a){this.isClickable()&&this.showEditor_(a)},module$exports$Blockly$Field.Field.prototype.showEditor_=function(a){},module$exports$Blockly$Field.Field.prototype.updateSize_=function(a){var b=this.getConstants(),c=2*(a=void 0!==a?a:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0),d=b.FIELD_TEXT_HEIGHT,e=0;this.textElement_&&(c+=e=(0,module$exports$Blockly$utils$dom.getFastTextWidth)(this.textElement_,b.FIELD_TEXT_FONTSIZE,b.FIELD_TEXT_FONTWEIGHT,b.FIELD_TEXT_FONTFAMILY)),this.borderRect_&&(d=Math.max(d,b.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=d,this.size_.width=c,this.positionTextElement_(a,e),this.positionBorderRect_()},module$exports$Blockly$Field.Field.prototype.positionTextElement_=function(a,b){if(this.textElement_){var c=this.getConstants(),d=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-b-a:a),this.textElement_.setAttribute("y",c.FIELD_TEXT_BASELINE_CENTER?d:d-c.FIELD_TEXT_HEIGHT/2+c.FIELD_TEXT_BASELINE)}},module$exports$Blockly$Field.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},module$exports$Blockly$Field.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0===this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new module$exports$Blockly$utils$Size.Size(0,0)},module$exports$Blockly$Field.Field.prototype.getScaledBBox=function(){if(this.borderRect_)var a=this.borderRect_.getBoundingClientRect(),b=(0,module$exports$Blockly$utils$style.getPageOffset)(this.borderRect_),c=a.width,d=a.height;else d=this.sourceBlock_.getHeightWidth(),a=this.sourceBlock_.workspace.scale,b=this.getAbsoluteXY_(),c=d.width*a,d=d.height*a,module$exports$Blockly$utils$userAgent.GECKO?(b.x+=1.5*a,b.y+=1.5*a):module$exports$Blockly$utils$userAgent.EDGE||module$exports$Blockly$utils$userAgent.IE||(b.x-=.5*a,b.y-=.5*a),c+=1*a,d+=1*a;return new module$exports$Blockly$utils$Rect.Rect(b.y,b.y+d,b.x,b.x+c)},module$exports$Blockly$Field.Field.prototype.getDisplayText_=function(){var a=this.getText();return a?(a.length>this.maxDisplayLength&&(a=a.substring(0,this.maxDisplayLength-2)+""),a=a.replace(/\s/g,module$exports$Blockly$Field.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(a+=""),a):module$exports$Blockly$Field.Field.NBSP},module$exports$Blockly$Field.Field.prototype.getText=function(){var a=this.getText_();return String(null!==a?a:this.getValue())},module$exports$Blockly$Field.Field.prototype.getText_=function(){return null},module$exports$Blockly$Field.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},module$exports$Blockly$Field.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},module$exports$Blockly$Field.Field.prototype.setValue=function(a){if(null!==a){var b=this.doClassValidation_(a);if(!((a=this.processValidation_(a,b))instanceof Error)){if((b=this.getValidator())&&(b=b.call(this,a),(a=this.processValidation_(a,b))instanceof Error))return;if(!(b=this.sourceBlock_)||!b.disposed){var c=this.getValue();c===a?this.doValueUpdate_(a):(this.doValueUpdate_(a),b&&(0,module$exports$Blockly$Events$utils.isEnabled)()&&(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CHANGE))(b,"field",this.name||null,c,a)),this.isDirty_&&this.forceRerender())}}}},module$exports$Blockly$Field.Field.prototype.processValidation_=function(a,b){return null===b?(this.doValueInvalid_(a),this.isDirty_&&this.forceRerender(),Error()):(void 0!==b&&(a=b),a)},module$exports$Blockly$Field.Field.prototype.getValue=function(){return this.value_},module$exports$Blockly$Field.Field.prototype.doClassValidation_=function(a){return null==a?null:a},module$exports$Blockly$Field.Field.prototype.doValueUpdate_=function(a){this.value_=a,this.isDirty_=!0},module$exports$Blockly$Field.Field.prototype.doValueInvalid_=function(a){},module$exports$Blockly$Field.Field.prototype.onMouseDown_=function(a){this.sourceBlock_&&this.sourceBlock_.workspace&&(a=this.sourceBlock_.workspace.getGesture(a))&&a.setStartField(this)},module$exports$Blockly$Field.Field.prototype.setTooltip=function(a){a||""===a||(a=this.sourceBlock_);var b=this.getClickTarget_();b?b.tooltip=a:this.tooltip_=a},module$exports$Blockly$Field.Field.prototype.getTooltip=function(){var a=this.getClickTarget_();return a?(0,module$exports$Blockly$Tooltip.getTooltipOfObject)(a):(0,module$exports$Blockly$Tooltip.getTooltipOfObject)({tooltip:this.tooltip_})},module$exports$Blockly$Field.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},module$exports$Blockly$Field.Field.prototype.getAbsoluteXY_=function(){return(0,module$exports$Blockly$utils$style.getPageOffset)(this.getClickTarget_())},module$exports$Blockly$Field.Field.prototype.referencesVariables=function(){return!1},module$exports$Blockly$Field.Field.prototype.refreshVariableName=function(){},module$exports$Blockly$Field.Field.prototype.getParentInput=function(){for(var a=null,b=this.sourceBlock_,c=b.inputList,d=0;d<b.inputList.length;d++)for(var e=c[d],f=e.fieldRow,g=0;g<f.length;g++)if(f[g]===this){a=e;break}return a},module$exports$Blockly$Field.Field.prototype.getFlipRtl=function(){return!1},module$exports$Blockly$Field.Field.prototype.isTabNavigable=function(){return!1},module$exports$Blockly$Field.Field.prototype.onShortcut=function(a){return!1},module$exports$Blockly$Field.Field.prototype.setCursorSvg=function(a){a?(this.fieldGroup_.appendChild(a),this.cursorSvg_=a):this.cursorSvg_=null},module$exports$Blockly$Field.Field.prototype.setMarkerSvg=function(a){a?(this.fieldGroup_.appendChild(a),this.markerSvg_=a):this.markerSvg_=null},module$exports$Blockly$Field.Field.prototype.updateMarkers_=function(){var a=this.sourceBlock_.workspace;a.keyboardAccessibilityMode&&this.cursorSvg_&&a.getCursor().draw(),a.keyboardAccessibilityMode&&this.markerSvg_&&a.getMarker(module$exports$Blockly$MarkerManager.MarkerManager.LOCAL_MARKER).draw()},module$exports$Blockly$Field.Field.prototype.DEFAULT_VALUE=null,module$exports$Blockly$Field.Field.NBSP="",module$exports$Blockly$Field.Field.SKIP_SETUP=new function(){},$.module$exports$Blockly$FieldLabel={FieldLabel:function(a,b,c){module$exports$Blockly$Field.Field.call(this,module$exports$Blockly$Field.Field.SKIP_SETUP),this.class_=null,this.EDITABLE=!1,a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(c?this.configure_(c):this.class_=b||null,this.setValue(a))}},$.$jscomp.inherits($.module$exports$Blockly$FieldLabel.FieldLabel,module$exports$Blockly$Field.Field),$.module$exports$Blockly$FieldLabel.FieldLabel.prototype.configure_=function(a){module$exports$Blockly$Field.Field.prototype.configure_.call(this,a),this.class_=a.class},$.module$exports$Blockly$FieldLabel.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&(0,module$exports$Blockly$utils$dom.addClass)(this.textElement_,this.class_)},$.module$exports$Blockly$FieldLabel.FieldLabel.prototype.doClassValidation_=function(a){return null==a?null:String(a)},$.module$exports$Blockly$FieldLabel.FieldLabel.prototype.setClass=function(a){this.textElement_&&(this.class_&&(0,module$exports$Blockly$utils$dom.removeClass)(this.textElement_,this.class_),a&&(0,module$exports$Blockly$utils$dom.addClass)(this.textElement_,a)),this.class_=a},$.module$exports$Blockly$FieldLabel.FieldLabel.fromJson=function(a){return new this((0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a.text),void 0,a)},$.module$exports$Blockly$FieldLabel.FieldLabel.prototype.DEFAULT_VALUE="",(0,module$exports$Blockly$fieldRegistry.register)("field_label",$.module$exports$Blockly$FieldLabel.FieldLabel);var module$exports$Blockly$blockRendering$InputConnection={InputConnection:function(a,b){module$exports$Blockly$blockRendering$Connection.Connection.call(this,a,b.connection),this.type|=module$exports$Blockly$blockRendering$Types.Types.INPUT,this.input=b,this.align=b.align,(this.connectedBlock=b.connection&&b.connection.targetBlock()?b.connection.targetBlock():null)?(a=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=a.width,this.connectedBlockHeight=a.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0}};$.$jscomp.inherits(module$exports$Blockly$blockRendering$InputConnection.InputConnection,module$exports$Blockly$blockRendering$Connection.Connection);var module$exports$Blockly$blockRendering$Debug={Debug:function(a){this.debugElements_=[],this.svgRoot_=null,this.constants_=a,this.randomColour_=""}};module$exports$Blockly$blockRendering$Debug.Debug.prototype.clearElems=function(){for(var a=0;a<this.debugElements_.length;a++)(0,module$exports$Blockly$utils$dom.removeNode)(this.debugElements_[a]);this.debugElements_=[]},module$exports$Blockly$blockRendering$Debug.Debug.prototype.drawSpacerRow=function(a,b,c){if(module$exports$Blockly$blockRendering$Debug.Debug.config.rowSpacers){var d=Math.abs(a.height),e=0>a.height;e&&(b-=d),this.debugElements_.push((0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:c?-(a.xPos+a.width):a.xPos,y:b,width:a.width,height:d,stroke:e?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},module$exports$Blockly$blockRendering$Debug.Debug.prototype.drawSpacerElem=function(a,b,c){if(module$exports$Blockly$blockRendering$Debug.Debug.config.elemSpacers){b=Math.abs(a.width);var d=0>a.width,e=d?a.xPos-b:a.xPos;c&&(e=-(e+b)),this.debugElements_.push((0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:e,y:a.centerline-a.height/2,width:b,height:a.height,stroke:"pink",fill:d?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},module$exports$Blockly$blockRendering$Debug.Debug.prototype.drawRenderedElem=function(a,b){if(module$exports$Blockly$blockRendering$Debug.Debug.config.elems){var c=a.xPos;b&&(c=-(c+a.width)),b=a.centerline-a.height/2,this.debugElements_.push((0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:c,y:b,width:a.width,height:a.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),module$exports$Blockly$blockRendering$Types.Types.isField(a)&&a instanceof module$exports$Blockly$blockRendering$Field_Field&&a.field instanceof $.module$exports$Blockly$FieldLabel.FieldLabel&&this.debugElements_.push((0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:c,y:b+this.constants_.FIELD_TEXT_BASELINE,width:a.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}module$exports$Blockly$blockRendering$Types.Types.isInput(a)&&a instanceof module$exports$Blockly$blockRendering$InputConnection.InputConnection&&module$exports$Blockly$blockRendering$Debug.Debug.config.connections&&this.drawConnection(a.connectionModel)},module$exports$Blockly$blockRendering$Debug.Debug.prototype.drawConnection=function(a){if(module$exports$Blockly$blockRendering$Debug.Debug.config.connections){if(a.type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE)var b=4,c="magenta",d="none";else a.type===$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?(b=2,d=c="magenta"):a.type===$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT?(b=4,c="goldenrod",d="none"):a.type===$.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT&&(b=2,d=c="goldenrod");this.debugElements_.push((0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CIRCLE,{class:"blockRenderDebug",cx:a.offsetInBlock_.x,cy:a.offsetInBlock_.y,r:b,fill:d,stroke:c},this.svgRoot_))}},module$exports$Blockly$blockRendering$Debug.Debug.prototype.drawRenderedRow=function(a,b,c){module$exports$Blockly$blockRendering$Debug.Debug.config.rows&&(this.debugElements_.push((0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:c?-(a.xPos+a.width):a.xPos,y:a.yPos,width:a.width,height:a.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),module$exports$Blockly$blockRendering$Types.Types.isTopOrBottomRow(a)||module$exports$Blockly$blockRendering$Debug.Debug.config.connectedBlockBounds&&this.debugElements_.push((0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:c?-(a.xPos+a.widthWithConnectedBlocks):a.xPos,y:a.yPos,width:a.widthWithConnectedBlocks,height:a.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},module$exports$Blockly$blockRendering$Debug.Debug.prototype.drawRowWithElements=function(a,b,c){for(var d=0;d<a.elements.length;d++){var e=a.elements[d];e?module$exports$Blockly$blockRendering$Types.Types.isSpacer(e)?this.drawSpacerElem(e,a.height,c):this.drawRenderedElem(e,c):console.warn("A row has an undefined or null element.",a,e)}this.drawRenderedRow(a,b,c)},module$exports$Blockly$blockRendering$Debug.Debug.prototype.drawBoundingBox=function(a){if(module$exports$Blockly$blockRendering$Debug.Debug.config.blockBounds){var b=a.RTL?-a.width:0;this.debugElements_.push((0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:b,y:0,width:a.width,height:a.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),module$exports$Blockly$blockRendering$Debug.Debug.config.connectedBlockBounds&&(b=a.RTL?-a.widthWithChildren:0,this.debugElements_.push((0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blockRenderDebug",x:b,y:0,width:a.widthWithChildren,height:a.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}},module$exports$Blockly$blockRendering$Debug.Debug.prototype.drawDebug=function(a,b){this.clearElems(),this.svgRoot_=a.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var c=0,d=0;d<b.rows.length;d++){var e=b.rows[d];module$exports$Blockly$blockRendering$Types.Types.isBetweenRowSpacer(e)?this.drawSpacerRow(e,c,b.RTL):this.drawRowWithElements(e,c,b.RTL),c+=e.height}a.previousConnection&&this.drawConnection(a.previousConnection),a.nextConnection&&this.drawConnection(a.nextConnection),a.outputConnection&&this.drawConnection(a.outputConnection),b.rightSide&&this.drawRenderedElem(b.rightSide,b.RTL),this.drawBoundingBox(b),this.drawRender(a.pathObject.svgPath)},module$exports$Blockly$blockRendering$Debug.Debug.prototype.drawRender=function(a){module$exports$Blockly$blockRendering$Debug.Debug.config.render&&(a.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout((function(){a.setAttribute("filter","")}),100))},module$exports$Blockly$blockRendering$Debug.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0};var module$exports$Blockly$blockRendering$Drawer={Drawer:function(a,b){this.block_=a,this.info_=b,this.topLeft_=a.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=b.getRenderer().getConstants()}};module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),(0,module$exports$Blockly$blockRendering$debug.isDebuggerEnabled)()&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.hideHiddenIcons_=function(){for(var b,a=0;b=this.info_.hiddenIcons[a];a++)b.icon.iconGroup_.setAttribute("display","none")},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var a=1;a<this.info_.rows.length-1;a++){var b=this.info_.rows[a];b.hasJaggedEdge?this.drawJaggedEdge_(b):b.hasStatement?this.drawStatementInput_(b):b.hasExternalInput?this.drawValueInput_(b):this.drawRightSideRow_(b)}this.drawBottom_(),this.drawLeft_()},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawTop_=function(){var a=this.info_.topRow,b=a.elements;this.positionPreviousConnection_(),this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.moveBy)(a.xPos,this.info_.startY);for(var d,c=0;d=b[c];c++)module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:module$exports$Blockly$blockRendering$Types.Types.isRightRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:module$exports$Blockly$blockRendering$Types.Types.isPreviousConnection(d)&&d instanceof module$exports$Blockly$blockRendering$Connection.Connection?this.outlinePath_+=d.shape.pathLeft:module$exports$Blockly$blockRendering$Types.Types.isHat(d)?this.outlinePath_+=this.constants_.START_HAT.path:module$exports$Blockly$blockRendering$Types.Types.isSpacer(d)&&(this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",d.width));this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",a.height)},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawJaggedEdge_=function(a){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",a.height-this.constants_.JAGGED_TEETH.height)},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawValueInput_=function(a){var b=a.getLastInput();this.positionExternalValueConnection_(a);var c="function"==typeof b.shape.pathDown?b.shape.pathDown(b.height):b.shape.pathDown;this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",b.xPos+b.width)+c+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",a.height-b.connectionHeight)},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawStatementInput_=function(a){var b=a.getLastInput(),c=b.xPos+b.notchOffset+b.shape.width;b=b.shape.pathRight+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",-(b.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var d=a.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",c)+b+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",d)+this.constants_.INSIDE_CORNERS.pathBottom+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",a.xPos+a.width),this.positionStatementInputConnection_(a)},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawRightSideRow_=function(a){this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",a.yPos+a.height)},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawBottom_=function(){var a=this.info_.bottomRow,b=a.elements;this.positionNextConnection_();for(var f,c=0,d="",e=b.length-1;f=b[e];e--)module$exports$Blockly$blockRendering$Types.Types.isNextConnection(f)&&f instanceof module$exports$Blockly$blockRendering$Connection.Connection?d+=f.shape.pathRight:module$exports$Blockly$blockRendering$Types.Types.isLeftSquareCorner(f)?d+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",a.xPos):module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(f)?d+=this.constants_.OUTSIDE_CORNERS.bottomLeft:module$exports$Blockly$blockRendering$Types.Types.isRightRoundedCorner(f)?(d+=this.constants_.OUTSIDE_CORNERS.bottomRight,c=this.constants_.OUTSIDE_CORNERS.rightHeight):module$exports$Blockly$blockRendering$Types.Types.isSpacer(f)&&(d+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",-1*f.width));this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",a.baseline-c),this.outlinePath_+=d},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawLeft_=function(){var a=this.info_.outputConnection;if(this.positionOutputConnection_(),a){var b=a.connectionOffsetY+a.height;a="function"==typeof a.shape.pathUp?a.shape.pathUp(a.height):a.shape.pathUp,this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",b)+a}this.outlinePath_+="z"},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawInternals_=function(){for(var b,a=0;b=this.info_.rows[a];a++)for(var d,c=0;d=b.elements[c];c++)module$exports$Blockly$blockRendering$Types.Types.isInlineInput(d)?this.drawInlineInput_(d):(module$exports$Blockly$blockRendering$Types.Types.isIcon(d)||module$exports$Blockly$blockRendering$Types.Types.isField(d))&&this.layoutField_(d)},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.layoutField_=function(a){if(module$exports$Blockly$blockRendering$Types.Types.isField(a))var b=a.field.getSvgRoot();else module$exports$Blockly$blockRendering$Types.Types.isIcon(a)&&(b=a.icon.iconGroup_);var c=a.centerline-a.height/2,d=a.xPos,e="";this.info_.RTL&&(d=-(d+a.width),a.flipRtl&&(d+=a.width,e="scale(-1 1)")),module$exports$Blockly$blockRendering$Types.Types.isIcon(a)?(b.setAttribute("display","block"),b.setAttribute("transform","translate("+d+","+c+")"),a.icon.computeIconLocation()):b.setAttribute("transform","translate("+d+","+c+")"+e),this.info_.isInsertionMarker&&b.setAttribute("display","none")},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawInlineInput_=function(a){var b=a.width,c=a.height,d=a.connectionOffsetY,e=a.connectionHeight+d;this.inlinePath_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(a.xPos+a.connectionWidth,a.centerline-c/2)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",d)+a.shape.pathDown+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",c-e)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",b-a.connectionWidth)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",-c)+"z",this.positionInlineInputConnection_(a)},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.positionInlineInputConnection_=function(a){var b=a.centerline-a.height/2;if(a.connectionModel){var c=a.xPos+a.connectionWidth+a.connectionOffsetX;this.info_.RTL&&(c*=-1),a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY)}},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.positionStatementInputConnection_=function(a){var b=a.getLastInput();if(b.connectionModel){var c=a.xPos+a.statementEdge+b.notchOffset;this.info_.RTL&&(c*=-1),b.connectionModel.setOffsetInBlock(c,a.yPos)}},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.positionExternalValueConnection_=function(a){var b=a.getLastInput();if(b.connectionModel){var c=a.xPos+a.width;this.info_.RTL&&(c*=-1),b.connectionModel.setOffsetInBlock(c,a.yPos)}},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.positionPreviousConnection_=function(){var a=this.info_.topRow;if(a.connection){var b=a.xPos+a.notchOffset;a.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-b:b,0)}},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.positionNextConnection_=function(){var a=this.info_.bottomRow;if(a.connection){var b=a.connection,c=b.xPos;b.connectionModel.setOffsetInBlock(this.info_.RTL?-c:c,a.baseline)}},module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var a=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-a:a,this.info_.outputConnection.connectionOffsetY)}};var module$exports$Blockly$blockRendering$ExternalValueInput_ExternalValueInput=function(a,b){module$exports$Blockly$blockRendering$InputConnection.InputConnection.call(this,a,b),this.type|=module$exports$Blockly$blockRendering$Types.Types.EXTERNAL_VALUE_INPUT,this.height=0,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width};$.$jscomp.inherits(module$exports$Blockly$blockRendering$ExternalValueInput_ExternalValueInput,module$exports$Blockly$blockRendering$InputConnection.InputConnection);var module$exports$Blockly$blockRendering$Hat_Hat=function(a){module$exports$Blockly$blockRendering$Measurable.Measurable.call(this,a),this.type|=module$exports$Blockly$blockRendering$Types.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height};$.$jscomp.inherits(module$exports$Blockly$blockRendering$Hat_Hat,module$exports$Blockly$blockRendering$Measurable.Measurable);var module$exports$Blockly$blockRendering$Icon_Icon=function(a,b){module$exports$Blockly$blockRendering$Measurable.Measurable.call(this,a),this.icon=b,this.isVisible=b.isVisible(),this.type|=module$exports$Blockly$blockRendering$Types.Types.ICON,a=b.getCorrectedSize(),this.height=a.height,this.width=a.width};$.$jscomp.inherits(module$exports$Blockly$blockRendering$Icon_Icon,module$exports$Blockly$blockRendering$Measurable.Measurable);var module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer=function(a,b){module$exports$Blockly$blockRendering$Measurable.Measurable.call(this,a),this.type=this.type|module$exports$Blockly$blockRendering$Types.Types.SPACER|module$exports$Blockly$blockRendering$Types.Types.IN_ROW_SPACER,this.width=b,this.height=this.constants_.SPACER_DEFAULT_HEIGHT};$.$jscomp.inherits(module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer,module$exports$Blockly$blockRendering$Measurable.Measurable);var module$exports$Blockly$blockRendering$InlineInput={InlineInput:function(a,b){module$exports$Blockly$blockRendering$InputConnection.InputConnection.call(this,a,b),this.type|=module$exports$Blockly$blockRendering$Types.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0}};$.$jscomp.inherits(module$exports$Blockly$blockRendering$InlineInput.InlineInput,module$exports$Blockly$blockRendering$InputConnection.InputConnection);var module$exports$Blockly$blockRendering$StatementInput={StatementInput:function(a,b){module$exports$Blockly$blockRendering$InputConnection.InputConnection.call(this,a,b),this.type|=module$exports$Blockly$blockRendering$Types.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}};$.$jscomp.inherits(module$exports$Blockly$blockRendering$StatementInput.StatementInput,module$exports$Blockly$blockRendering$InputConnection.InputConnection);var module$exports$Blockly$blockRendering$InputRow={InputRow:function(a){module$exports$Blockly$blockRendering$Row.Row.call(this,a),this.type|=module$exports$Blockly$blockRendering$Types.Types.INPUT_ROW,this.connectedBlockWidths=0}};$.$jscomp.inherits(module$exports$Blockly$blockRendering$InputRow.InputRow,module$exports$Blockly$blockRendering$Row.Row),module$exports$Blockly$blockRendering$InputRow.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var a=0,b=0;b<this.elements.length;b++){var c=this.elements[b];this.width+=c.width,module$exports$Blockly$blockRendering$Types.Types.isInput(c)&&c instanceof module$exports$Blockly$blockRendering$InputConnection.InputConnection&&(module$exports$Blockly$blockRendering$Types.Types.isStatementInput(c)&&c instanceof module$exports$Blockly$blockRendering$StatementInput.StatementInput?a+=c.connectedBlockWidth:module$exports$Blockly$blockRendering$Types.Types.isExternalInput(c)&&c instanceof module$exports$Blockly$blockRendering$ExternalValueInput_ExternalValueInput&&0!==c.connectedBlockWidth&&(a+=c.connectedBlockWidth-c.connectionWidth)),module$exports$Blockly$blockRendering$Types.Types.isSpacer(c)||(this.height=Math.max(this.height,c.height))}this.connectedBlockWidths=a,this.widthWithConnectedBlocks=this.width+a},module$exports$Blockly$blockRendering$InputRow.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement};var module$exports$Blockly$blockRendering$JaggedEdge_JaggedEdge=function(a){module$exports$Blockly$blockRendering$Measurable.Measurable.call(this,a),this.type|=module$exports$Blockly$blockRendering$Types.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width};$.$jscomp.inherits(module$exports$Blockly$blockRendering$JaggedEdge_JaggedEdge,module$exports$Blockly$blockRendering$Measurable.Measurable);var module$exports$Blockly$ASTNode={ASTNode:function(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.type_=a,this.isConnection_=module$exports$Blockly$ASTNode.ASTNode.isConnectionType_(a),this.location_=b,this.wsCoordinate_=null,this.processParams_(c||null)}};module$exports$Blockly$ASTNode.ASTNode.prototype.processParams_=function(a){a&&a.wsCoordinate&&(this.wsCoordinate_=a.wsCoordinate)},module$exports$Blockly$ASTNode.ASTNode.prototype.getLocation=function(){return this.location_},module$exports$Blockly$ASTNode.ASTNode.prototype.getType=function(){return this.type_},module$exports$Blockly$ASTNode.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},module$exports$Blockly$ASTNode.ASTNode.prototype.isConnection=function(){return this.isConnection_},module$exports$Blockly$ASTNode.ASTNode.prototype.findNextForInput_=function(){var a=this.location_.getParentInput(),b=a.getSourceBlock();for(a=b.inputList.indexOf(a)+1;a<b.inputList.length;a++){for(var c=b.inputList[a],d=c.fieldRow,e=0;e<d.length;e++){var f=d[e];if(f.isClickable()||module$exports$Blockly$ASTNode.ASTNode.NAVIGATE_ALL_FIELDS)return module$exports$Blockly$ASTNode.ASTNode.createFieldNode(f)}if(c.connection)return module$exports$Blockly$ASTNode.ASTNode.createInputNode(c)}return null},module$exports$Blockly$ASTNode.ASTNode.prototype.findNextForField_=function(){var a=this.location_,b=a.getParentInput(),c=a.getSourceBlock(),d=c.inputList.indexOf(b);for(a=b.fieldRow.indexOf(a)+1;d<c.inputList.length;d++){for(var e=(b=c.inputList[d]).fieldRow;a<e.length;){if(e[a].isClickable()||module$exports$Blockly$ASTNode.ASTNode.NAVIGATE_ALL_FIELDS)return module$exports$Blockly$ASTNode.ASTNode.createFieldNode(e[a]);a++}if(a=0,b.connection)return module$exports$Blockly$ASTNode.ASTNode.createInputNode(b)}return null},module$exports$Blockly$ASTNode.ASTNode.prototype.findPrevForInput_=function(){for(var a=this.location_.getParentInput(),b=a.getSourceBlock(),c=b.inputList.indexOf(a);0<=c;c--){var d=b.inputList[c];if(d.connection&&d!==a)return module$exports$Blockly$ASTNode.ASTNode.createInputNode(d);for(var e=(d=d.fieldRow).length-1;0<=e;e--){var f=d[e];if(f.isClickable()||module$exports$Blockly$ASTNode.ASTNode.NAVIGATE_ALL_FIELDS)return module$exports$Blockly$ASTNode.ASTNode.createFieldNode(f)}}return null},module$exports$Blockly$ASTNode.ASTNode.prototype.findPrevForField_=function(){var a=this.location_,b=a.getParentInput(),c=a.getSourceBlock(),d=c.inputList.indexOf(b);for(a=b.fieldRow.indexOf(a)-1;0<=d;d--){var e=c.inputList[d];if(e.connection&&e!==b)return module$exports$Blockly$ASTNode.ASTNode.createInputNode(e);for(e=e.fieldRow;-1<a;){if(e[a].isClickable()||module$exports$Blockly$ASTNode.ASTNode.NAVIGATE_ALL_FIELDS)return module$exports$Blockly$ASTNode.ASTNode.createFieldNode(e[a]);a--}0<=d-1&&(a=c.inputList[d-1].fieldRow.length-1)}return null},module$exports$Blockly$ASTNode.ASTNode.prototype.navigateBetweenStacks_=function(a){var b=this.getLocation();if(b.getSourceBlock&&(b=b.getSourceBlock()),!b||!b.workspace)return null;var c=b.getRootBlock();b=c.workspace.getTopBlocks(!0);for(var d=0;d<b.length;d++)if(c.id===b[d].id)return-1===(a=d+(a?1:-1))||a===b.length?null:module$exports$Blockly$ASTNode.ASTNode.createStackNode(b[a]);throw Error("Couldn't find "+(a?"next":"previous")+" stack?!")},module$exports$Blockly$ASTNode.ASTNode.prototype.findTopASTNodeForBlock_=function(a){var b=module$contents$Blockly$ASTNode_getParentConnection(a);return b?module$exports$Blockly$ASTNode.ASTNode.createConnectionNode(b):module$exports$Blockly$ASTNode.ASTNode.createBlockNode(a)},module$exports$Blockly$ASTNode.ASTNode.prototype.getOutAstNodeForBlock_=function(a){if(!a)return null;a=a.getTopStackBlock();var b=module$contents$Blockly$ASTNode_getParentConnection(a);return b&&b.targetConnection&&b.targetConnection.getParentInput()?module$exports$Blockly$ASTNode.ASTNode.createInputNode(b.targetConnection.getParentInput()):module$exports$Blockly$ASTNode.ASTNode.createStackNode(a)},module$exports$Blockly$ASTNode.ASTNode.prototype.findFirstFieldOrInput_=function(a){a=a.inputList;for(var b=0;b<a.length;b++){for(var c=a[b],d=c.fieldRow,e=0;e<d.length;e++){var f=d[e];if(f.isClickable()||module$exports$Blockly$ASTNode.ASTNode.NAVIGATE_ALL_FIELDS)return module$exports$Blockly$ASTNode.ASTNode.createFieldNode(f)}if(c.connection)return module$exports$Blockly$ASTNode.ASTNode.createInputNode(c)}return null},module$exports$Blockly$ASTNode.ASTNode.prototype.getSourceBlock=function(){return this.getType()===module$exports$Blockly$ASTNode.ASTNode.types.BLOCK||this.getType()===module$exports$Blockly$ASTNode.ASTNode.types.STACK?this.getLocation():this.getType()===module$exports$Blockly$ASTNode.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},module$exports$Blockly$ASTNode.ASTNode.prototype.next=function(){switch(this.type_){case module$exports$Blockly$ASTNode.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case module$exports$Blockly$ASTNode.ASTNode.types.OUTPUT:return module$exports$Blockly$ASTNode.ASTNode.createBlockNode(this.location_.getSourceBlock());case module$exports$Blockly$ASTNode.ASTNode.types.FIELD:return this.findNextForField_();case module$exports$Blockly$ASTNode.ASTNode.types.INPUT:return this.findNextForInput_();case module$exports$Blockly$ASTNode.ASTNode.types.BLOCK:return module$exports$Blockly$ASTNode.ASTNode.createConnectionNode(this.location_.nextConnection);case module$exports$Blockly$ASTNode.ASTNode.types.PREVIOUS:return module$exports$Blockly$ASTNode.ASTNode.createBlockNode(this.location_.getSourceBlock());case module$exports$Blockly$ASTNode.ASTNode.types.NEXT:return module$exports$Blockly$ASTNode.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},module$exports$Blockly$ASTNode.ASTNode.prototype.in=function(){switch(this.type_){case module$exports$Blockly$ASTNode.ASTNode.types.WORKSPACE:var a=this.location_.getTopBlocks(!0);if(0<a.length)return module$exports$Blockly$ASTNode.ASTNode.createStackNode(a[0]);break;case module$exports$Blockly$ASTNode.ASTNode.types.STACK:return this.findTopASTNodeForBlock_(this.location_);case module$exports$Blockly$ASTNode.ASTNode.types.BLOCK:return this.findFirstFieldOrInput_(this.location_);case module$exports$Blockly$ASTNode.ASTNode.types.INPUT:return module$exports$Blockly$ASTNode.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},module$exports$Blockly$ASTNode.ASTNode.prototype.prev=function(){switch(this.type_){case module$exports$Blockly$ASTNode.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case module$exports$Blockly$ASTNode.ASTNode.types.FIELD:return this.findPrevForField_();case module$exports$Blockly$ASTNode.ASTNode.types.INPUT:return this.findPrevForInput_();case module$exports$Blockly$ASTNode.ASTNode.types.BLOCK:var a=module$contents$Blockly$ASTNode_getParentConnection(this.location_);return module$exports$Blockly$ASTNode.ASTNode.createConnectionNode(a);case module$exports$Blockly$ASTNode.ASTNode.types.PREVIOUS:if((a=this.location_.targetConnection)&&!a.getParentInput())return module$exports$Blockly$ASTNode.ASTNode.createConnectionNode(a);break;case module$exports$Blockly$ASTNode.ASTNode.types.NEXT:return module$exports$Blockly$ASTNode.ASTNode.createBlockNode(this.location_.getSourceBlock())}return null},module$exports$Blockly$ASTNode.ASTNode.prototype.out=function(){switch(this.type_){case module$exports$Blockly$ASTNode.ASTNode.types.STACK:var a=this.location_,b=a.getRelativeToSurfaceXY();return b=new module$exports$Blockly$utils$Coordinate.Coordinate(b.x,b.y+module$exports$Blockly$ASTNode.ASTNode.DEFAULT_OFFSET_Y),module$exports$Blockly$ASTNode.ASTNode.createWorkspaceNode(a.workspace,b);case module$exports$Blockly$ASTNode.ASTNode.types.OUTPUT:return(b=(a=this.location_).targetConnection)?module$exports$Blockly$ASTNode.ASTNode.createConnectionNode(b):module$exports$Blockly$ASTNode.ASTNode.createStackNode(a.getSourceBlock());case module$exports$Blockly$ASTNode.ASTNode.types.FIELD:case module$exports$Blockly$ASTNode.ASTNode.types.INPUT:return module$exports$Blockly$ASTNode.ASTNode.createBlockNode(this.location_.getSourceBlock());case module$exports$Blockly$ASTNode.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(this.location_);case module$exports$Blockly$ASTNode.ASTNode.types.PREVIOUS:case module$exports$Blockly$ASTNode.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock())}return null},module$exports$Blockly$ASTNode.ASTNode.isConnectionType_=function(a){switch(a){case module$exports$Blockly$ASTNode.ASTNode.types.PREVIOUS:case module$exports$Blockly$ASTNode.ASTNode.types.NEXT:case module$exports$Blockly$ASTNode.ASTNode.types.INPUT:case module$exports$Blockly$ASTNode.ASTNode.types.OUTPUT:return!0}return!1},module$exports$Blockly$ASTNode.ASTNode.createFieldNode=function(a){return a?new module$exports$Blockly$ASTNode.ASTNode(module$exports$Blockly$ASTNode.ASTNode.types.FIELD,a):null},module$exports$Blockly$ASTNode.ASTNode.createConnectionNode=function(a){if(!a)return null;var b=a.type;return b===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||b===$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT&&a.getParentInput()?module$exports$Blockly$ASTNode.ASTNode.createInputNode(a.getParentInput()):b===$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT?new module$exports$Blockly$ASTNode.ASTNode(module$exports$Blockly$ASTNode.ASTNode.types.NEXT,a):b===$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?new module$exports$Blockly$ASTNode.ASTNode(module$exports$Blockly$ASTNode.ASTNode.types.OUTPUT,a):b===$.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT?new module$exports$Blockly$ASTNode.ASTNode(module$exports$Blockly$ASTNode.ASTNode.types.PREVIOUS,a):null},module$exports$Blockly$ASTNode.ASTNode.createInputNode=function(a){return a&&a.connection?new module$exports$Blockly$ASTNode.ASTNode(module$exports$Blockly$ASTNode.ASTNode.types.INPUT,a.connection):null},module$exports$Blockly$ASTNode.ASTNode.createBlockNode=function(a){return a?new module$exports$Blockly$ASTNode.ASTNode(module$exports$Blockly$ASTNode.ASTNode.types.BLOCK,a):null},module$exports$Blockly$ASTNode.ASTNode.createStackNode=function(a){return a?new module$exports$Blockly$ASTNode.ASTNode(module$exports$Blockly$ASTNode.ASTNode.types.STACK,a):null},module$exports$Blockly$ASTNode.ASTNode.createWorkspaceNode=function(a,b){return b&&a?new module$exports$Blockly$ASTNode.ASTNode(module$exports$Blockly$ASTNode.ASTNode.types.WORKSPACE,a,{wsCoordinate:b}):null},module$exports$Blockly$ASTNode.ASTNode.createTopNode=function(a){var b=module$contents$Blockly$ASTNode_getParentConnection(a);return b?module$exports$Blockly$ASTNode.ASTNode.createConnectionNode(b):module$exports$Blockly$ASTNode.ASTNode.createBlockNode(a)},module$exports$Blockly$ASTNode.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},module$exports$Blockly$ASTNode.ASTNode.NAVIGATE_ALL_FIELDS=!1,module$exports$Blockly$ASTNode.ASTNode.DEFAULT_OFFSET_Y=-20;var module$contents$Blockly$ASTNode_getParentConnection=function(a){var b=a.outputConnection;return(!b||a.previousConnection&&a.previousConnection.isConnected())&&(b=a.previousConnection),b},module$exports$Blockly$Events$MarkerMove={MarkerMove:function(a,b,c,d){var e=a?a.workspace.id:void 0;d&&d.getType()===module$exports$Blockly$ASTNode.ASTNode.types.WORKSPACE&&(e=d.getLocation().id),module$exports$Blockly$Events$UiBase.UiBase.call(this,e),this.blockId=a?a.id:null,this.oldNode=c,this.newNode=d,this.isCursor=b,this.type=module$exports$Blockly$Events$utils.MARKER_MOVE}};$.$jscomp.inherits(module$exports$Blockly$Events$MarkerMove.MarkerMove,module$exports$Blockly$Events$UiBase.UiBase),module$exports$Blockly$Events$MarkerMove.MarkerMove.prototype.toJson=function(){var a=module$exports$Blockly$Events$UiBase.UiBase.prototype.toJson.call(this);return a.isCursor=this.isCursor,a.blockId=this.blockId,a.oldNode=this.oldNode,a.newNode=this.newNode,a},module$exports$Blockly$Events$MarkerMove.MarkerMove.prototype.fromJson=function(a){module$exports$Blockly$Events$UiBase.UiBase.prototype.fromJson.call(this,a),this.isCursor=a.isCursor,this.blockId=a.blockId,this.oldNode=a.oldNode,this.newNode=a.newNode},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.MARKER_MOVE,module$exports$Blockly$Events$MarkerMove.MarkerMove);var module$exports$Blockly$blockRendering$MarkerSvg={MarkerSvg:function(a,b,c){this.workspace_=a,this.marker_=c,this.parent_=null,this.constants_=b,this.currentMarkerSvg=null,a=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=c.colour||a,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=null}};module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.getMarker=function(){return this.marker_},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.isCursor=function(){return"cursor"===this.marker_.type},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.createDom=function(){var a=this.isCursor()?"blocklyCursor":"blocklyMarker";return this.svgGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:a},null),this.createDomInternal_(),this.svgGroup_},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.setParent_=function(a){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),a.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),a.setMarkerSvg(this.getSvgRoot())),this.parent_=a},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.draw=function(a,b){if(b){this.constants_=this.workspace_.getRenderer().getConstants();var c=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||c,this.applyColour_(b),this.showAtLocation_(b),this.fireMarkerEvent_(a,b),void 0!==(a=this.currentMarkerSvg.childNodes[0])&&a.beginElement&&a.beginElement()}else this.hide()},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showAtLocation_=function(a){var b=a.getLocation().type;a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.BLOCK?this.showWithBlock_(a):a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.OUTPUT?this.showWithOutput_(a):b===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE?this.showWithInput_(a):b===$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT?this.showWithNext_(a):a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.PREVIOUS?this.showWithPrevious_(a):a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.FIELD?this.showWithField_(a):a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.WORKSPACE?this.showWithCoordinates_(a):a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.STACK&&this.showWithStack_(a)},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showWithBlockPrevOutput_=function(a){var b=(a=a.getSourceBlock()).width,c=a.height,d=.75*c,e=this.constants_.CURSOR_BLOCK_PADDING;a.previousConnection?(c=this.constants_.shapeFor(a.previousConnection),this.positionPrevious_(b,e,d,c)):a.outputConnection?(d=this.constants_.shapeFor(a.outputConnection),this.positionOutput_(b,c,d)):this.positionBlock_(b,e,d),this.setParent_(a),this.showCurrent_()},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showWithBlock_=function(a){this.showWithBlockPrevOutput_(a)},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showWithPrevious_=function(a){this.showWithBlockPrevOutput_(a)},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showWithOutput_=function(a){this.showWithBlockPrevOutput_(a)},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showWithCoordinates_=function(a){var b=a.getWsCoordinate();a=b.x,b=b.y,this.workspace_.RTL&&(a-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(a,b,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showWithField_=function(a){var b=(a=a.getLocation()).getSize().width,c=a.getSize().height;this.positionRect_(0,0,b,c),this.setParent_(a),this.showCurrent_()},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showWithInput_=function(a){var b=(a=a.getLocation()).getSourceBlock();this.positionInput_(a),this.setParent_(b),this.showCurrent_()},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showWithNext_=function(a){var b=a.getLocation();a=b.getSourceBlock();var c=0;b=b.getOffsetInBlock().y;var d=a.getHeightWidth().width;this.workspace_.RTL&&(c=-d),this.positionLine_(c,b,d),this.setParent_(a),this.showCurrent_()},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showWithStack_=function(a){var b=(a=a.getLocation()).getHeightWidth(),c=b.width+this.constants_.CURSOR_STACK_PADDING;b=b.height+this.constants_.CURSOR_STACK_PADDING;var d=-this.constants_.CURSOR_STACK_PADDING/2,e=-this.constants_.CURSOR_STACK_PADDING/2,f=d;this.workspace_.RTL&&(f=-(c+d)),this.positionRect_(f,e,c,b),this.setParent_(a),this.showCurrent_()},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.positionBlock_=function(a,b,c){a=(0,module$exports$Blockly$utils$svgPaths.moveBy)(-b,c)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",-b)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",a+2*b)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",c),this.markerBlock_.setAttribute("d",a),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.positionInput_=function(a){var b=a.getOffsetInBlock().x,c=a.getOffsetInBlock().y;a=(0,module$exports$Blockly$utils$svgPaths.moveTo)(0,0)+this.constants_.shapeFor(a).pathDown,this.markerInput_.setAttribute("d",a),this.markerInput_.setAttribute("transform","translate("+b+","+c+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.positionLine_=function(a,b,c){this.markerSvgLine_.setAttribute("x",a),this.markerSvgLine_.setAttribute("y",b),this.markerSvgLine_.setAttribute("width",c),this.currentMarkerSvg=this.markerSvgLine_},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.positionOutput_=function(a,b,c){a=(0,module$exports$Blockly$utils$svgPaths.moveBy)(a,0)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",-(a-c.width))+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",this.constants_.TAB_OFFSET_FROM_TOP)+c.pathDown+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",b)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",a),this.markerBlock_.setAttribute("d",a),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.positionPrevious_=function(a,b,c,d){a=(0,module$exports$Blockly$utils$svgPaths.moveBy)(-b,c)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",-b)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",this.constants_.NOTCH_OFFSET_LEFT)+d.pathLeft+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",a+2*b)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",c),this.markerBlock_.setAttribute("d",a),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.positionRect_=function(a,b,c,d){this.markerSvgRect_.setAttribute("x",a),this.markerSvgRect_.setAttribute("y",b),this.markerSvgRect_.setAttribute("width",c),this.markerSvgRect_.setAttribute("height",d),this.currentMarkerSvg=this.markerSvgRect_},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.flipRtl_=function(a){a.setAttribute("transform","scale(-1 1)")},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.fireMarkerEvent_=function(a,b){var c=b.getSourceBlock();a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.MARKER_MOVE))(c,this.isCursor(),a,b),(0,module$exports$Blockly$Events$utils.fire)(a)},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var a=this.getBlinkProperties_();(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.ANIMATE,a,this.markerSvgLine_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.ANIMATE,a,this.markerInput_),a.attributeName="stroke",(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.ANIMATE,a,this.markerBlock_)}return this.markerSvg_},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.applyColour_=function(a){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(a=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstChild.setAttribute("values",a),this.markerInput_.firstChild.setAttribute("values",a),this.markerBlock_.firstChild.setAttribute("values",a))},module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&(0,module$exports$Blockly$utils$dom.removeNode)(this.svgGroup_)};var module$exports$Blockly$blockRendering$NextConnection_NextConnection=function(a,b){module$exports$Blockly$blockRendering$Connection.Connection.call(this,a,b),this.type|=module$exports$Blockly$blockRendering$Types.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width};$.$jscomp.inherits(module$exports$Blockly$blockRendering$NextConnection_NextConnection,module$exports$Blockly$blockRendering$Connection.Connection);var module$exports$Blockly$blockRendering$OutputConnection_OutputConnection=function(a,b){module$exports$Blockly$blockRendering$Connection.Connection.call(this,a,b),this.type|=module$exports$Blockly$blockRendering$Types.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0};$.$jscomp.inherits(module$exports$Blockly$blockRendering$OutputConnection_OutputConnection,module$exports$Blockly$blockRendering$Connection.Connection);var module$exports$Blockly$blockRendering$PathObject={PathObject:function(a,b,c){this.constants=c,this.svgRoot=a,this.svgPath=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=b,this.markerSvg=this.cursorSvg=null}};module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.setPath=function(a){this.svgPath.setAttribute("d",a)},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.setCursorSvg=function(a){a?(this.svgRoot.appendChild(a),this.cursorSvg=a):this.cursorSvg=null},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.setMarkerSvg=function(a){a?(this.cursorSvg?this.svgRoot.insertBefore(a,this.cursorSvg):this.svgRoot.appendChild(a),this.markerSvg=a):this.markerSvg=null},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.applyColour=function(a){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(a.isShadow()),this.updateDisabled_(!a.isEnabled()||a.getInheritedDisabled())},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.setStyle=function(a){this.style=a},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.setClass_=function(a,b){b?(0,module$exports$Blockly$utils$dom.addClass)(this.svgRoot,a):(0,module$exports$Blockly$utils$dom.removeClass)(this.svgRoot,a)},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.updateHighlighted=function(a){a?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.updateShadow_=function(a){a&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.updateDisabled_=function(a){this.setClass_("blocklyDisabled",a),a&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.updateSelected=function(a){this.setClass_("blocklySelected",a)},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.updateDraggingDelete=function(a){this.setClass_("blocklyDraggingDelete",a)},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.updateInsertionMarker=function(a){this.setClass_("blocklyInsertionMarker",a)},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.updateMovable=function(a){this.setClass_("blocklyDraggable",a)},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.updateReplacementFade=function(a){this.setClass_("blocklyReplaceable",a)},module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.updateShapeForInputHighlight=function(a,b){};var module$exports$Blockly$blockRendering$PreviousConnection_PreviousConnection=function(a,b){module$exports$Blockly$blockRendering$Connection.Connection.call(this,a,b),this.type|=module$exports$Blockly$blockRendering$Types.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width};$.$jscomp.inherits(module$exports$Blockly$blockRendering$PreviousConnection_PreviousConnection,module$exports$Blockly$blockRendering$Connection.Connection),$.module$exports$Blockly$Input={Input:function(a,b,c,d){if(a!==$.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a,this.name=b,this.sourceBlock_=c,this.connection=d,this.fieldRow=[],this.align=$.module$exports$Blockly$Input.Align.LEFT,this.visible_=!0}},$.module$exports$Blockly$Input.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},$.module$exports$Blockly$Input.Input.prototype.appendField=function(a,b){return this.insertFieldAt(this.fieldRow.length,a,b),this},$.module$exports$Blockly$Input.Input.prototype.insertFieldAt=function(a,b,c){if(0>a||a>this.fieldRow.length)throw Error("index "+a+" out of bounds.");return b||""===b&&c?("string"==typeof b&&(b=(0,module$exports$Blockly$fieldRegistry.fromJson)({type:"field_label",text:b})),b.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(b.init(),b.applyColour()),b.name=c,b.setVisible(this.isVisible()),b.prefixField&&(a=this.insertFieldAt(a,b.prefixField)),this.fieldRow.splice(a,0,b),a++,b.suffixField&&(a=this.insertFieldAt(a,b.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),a):a},$.module$exports$Blockly$Input.Input.prototype.removeField=function(a,b){for(var d,c=0;d=this.fieldRow[c];c++)if(d.name===a)return d.dispose(),this.fieldRow.splice(c,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(b)return!1;throw Error('Field "'+a+'" not found.')},$.module$exports$Blockly$Input.Input.prototype.isVisible=function(){return this.visible_},$.module$exports$Blockly$Input.Input.prototype.setVisible=function(a){var b=[];if(this.visible_===a)return b;this.visible_=a;for(var d,c=0;d=this.fieldRow[c];c++)d.setVisible(a);return this.connection&&(this.connection=this.connection,a?b=this.connection.startTrackingAll():this.connection.stopTrackingAll(),c=this.connection.targetBlock())&&(c.getSvgRoot().style.display=a?"block":"none"),b},$.module$exports$Blockly$Input.Input.prototype.markDirty=function(){for(var b,a=0;b=this.fieldRow[a];a++)b.markDirty()},$.module$exports$Blockly$Input.Input.prototype.setCheck=function(a){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(a),this},$.module$exports$Blockly$Input.Input.prototype.setAlign=function(a){return this.align=a,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},$.module$exports$Blockly$Input.Input.prototype.setShadowDom=function(a){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(a),this},$.module$exports$Blockly$Input.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},$.module$exports$Blockly$Input.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var a=0;a<this.fieldRow.length;a++)this.fieldRow[a].init()},$.module$exports$Blockly$Input.Input.prototype.dispose=function(){for(var b,a=0;b=this.fieldRow[a];a++)b.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},$.module$exports$Blockly$Input.Align={LEFT:-1,CENTRE:0,RIGHT:1},$.module$exports$Blockly$Input.Input.Align=$.module$exports$Blockly$Input.Align;var module$exports$Blockly$blockRendering$RoundCorner={RoundCorner:function(a,b){module$exports$Blockly$blockRendering$Measurable.Measurable.call(this,a),this.type=(b&&"left"!==b?module$exports$Blockly$blockRendering$Types.Types.RIGHT_ROUND_CORNER:module$exports$Blockly$blockRendering$Types.Types.LEFT_ROUND_CORNER)|module$exports$Blockly$blockRendering$Types.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}};$.$jscomp.inherits(module$exports$Blockly$blockRendering$RoundCorner.RoundCorner,module$exports$Blockly$blockRendering$Measurable.Measurable);var module$exports$Blockly$blockRendering$SpacerRow={SpacerRow:function(a,b,c){module$exports$Blockly$blockRendering$Row.Row.call(this,a),this.type=this.type|module$exports$Blockly$blockRendering$Types.Types.SPACER|module$exports$Blockly$blockRendering$Types.Types.BETWEEN_ROW_SPACER,this.width=c,this.height=b,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,c)]}};$.$jscomp.inherits(module$exports$Blockly$blockRendering$SpacerRow.SpacerRow,module$exports$Blockly$blockRendering$Row.Row),module$exports$Blockly$blockRendering$SpacerRow.SpacerRow.prototype.measure=function(){};var module$exports$Blockly$blockRendering$SquareCorner={SquareCorner:function(a,b){module$exports$Blockly$blockRendering$Measurable.Measurable.call(this,a),this.type=(b&&"left"!==b?module$exports$Blockly$blockRendering$Types.Types.RIGHT_SQUARE_CORNER:module$exports$Blockly$blockRendering$Types.Types.LEFT_SQUARE_CORNER)|module$exports$Blockly$blockRendering$Types.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING}};$.$jscomp.inherits(module$exports$Blockly$blockRendering$SquareCorner.SquareCorner,module$exports$Blockly$blockRendering$Measurable.Measurable);var module$exports$Blockly$blockRendering$TopRow={TopRow:function(a){module$exports$Blockly$blockRendering$Row.Row.call(this,a),this.type|=module$exports$Blockly$blockRendering$Types.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null}};$.$jscomp.inherits(module$exports$Blockly$blockRendering$TopRow.TopRow,module$exports$Blockly$blockRendering$Row.Row),module$exports$Blockly$blockRendering$TopRow.TopRow.prototype.hasLeftSquareCorner=function(a){var b=(a.hat?"cap"===a.hat:this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection,c=a.getPreviousBlock();return!!a.outputConnection||b||!!c&&c.getNextBlock()===a},module$exports$Blockly$blockRendering$TopRow.TopRow.prototype.hasRightSquareCorner=function(a){return!0},module$exports$Blockly$blockRendering$TopRow.TopRow.prototype.measure=function(){for(var a=0,b=0,c=0,d=0;d<this.elements.length;d++){var e=this.elements[d];b+=e.width,module$exports$Blockly$blockRendering$Types.Types.isSpacer(e)||(module$exports$Blockly$blockRendering$Types.Types.isHat(e)&&e instanceof module$exports$Blockly$blockRendering$Hat_Hat?c=Math.max(c,e.ascenderHeight):a=Math.max(a,e.height))}this.width=Math.max(this.minWidth,b),this.height=Math.max(this.minHeight,a)+c,this.capline=this.ascenderHeight=c,this.widthWithConnectedBlocks=this.width},module$exports$Blockly$blockRendering$TopRow.TopRow.prototype.startsWithElemSpacer=function(){return!1},module$exports$Blockly$blockRendering$TopRow.TopRow.prototype.endsWithElemSpacer=function(){return!1};var module$exports$Blockly$blockRendering$RenderInfo={RenderInfo:function(a,b){this.block_=b,this.renderer_=a,this.constants_=this.renderer_.getConstants(),this.outputConnection=b.outputConnection?new module$exports$Blockly$blockRendering$OutputConnection_OutputConnection(this.constants_,b.outputConnection):null,this.isInline=b.getInputsInline()&&!b.isCollapsed(),this.isCollapsed=b.isCollapsed(),this.isInsertionMarker=b.isInsertionMarker(),this.RTL=b.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new module$exports$Blockly$blockRendering$TopRow.TopRow(this.constants_),this.bottomRow=new module$exports$Blockly$blockRendering$BottomRow.BottomRow(this.constants_),this.startY=this.startX=0}};module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.getRenderer=function(){return this.renderer_},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var a=new module$exports$Blockly$blockRendering$InputRow.InputRow(this.constants_);this.inputRows.push(a);for(var d,b=this.block_.getIcons(),c=0;d=b[c];c++){var e=new module$exports$Blockly$blockRendering$Icon_Icon(this.constants_,d);this.isCollapsed&&d.collapseHidden?this.hiddenIcons.push(e):a.elements.push(e)}for(d=null,b=0;c=this.block_.inputList[b];b++)if(c.isVisible()){for(this.shouldStartNewRow_(c,d)&&(this.rows.push(a),a=new module$exports$Blockly$blockRendering$InputRow.InputRow(this.constants_),this.inputRows.push(a)),d=0;e=c.fieldRow[d];d++)a.elements.push(new module$exports$Blockly$blockRendering$Field_Field(this.constants_,e,c));this.addInput_(c,a),d=c}this.isCollapsed&&(a.hasJaggedEdge=!0,a.elements.push(new module$exports$Blockly$blockRendering$JaggedEdge_JaggedEdge(this.constants_))),(a.elements.length||a.hasDummyInput)&&this.rows.push(a),this.populateBottomRow_(),this.rows.push(this.bottomRow)},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.populateTopRow_=function(){var a=!!this.block_.previousConnection,b=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!a,c=this.topRow.hasLeftSquareCorner(this.block_)?module$exports$Blockly$blockRendering$SquareCorner.SquareCorner:module$exports$Blockly$blockRendering$RoundCorner.RoundCorner;this.topRow.elements.push(new c(this.constants_)),b?(a=new module$exports$Blockly$blockRendering$Hat_Hat(this.constants_),this.topRow.elements.push(a),this.topRow.capline=a.ascenderHeight):a&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new module$exports$Blockly$blockRendering$PreviousConnection_PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,c=this.topRow.hasRightSquareCorner(this.block_)?module$exports$Blockly$blockRendering$SquareCorner.SquareCorner:module$exports$Blockly$blockRendering$RoundCorner.RoundCorner,this.topRow.elements.push(new c(this.constants_,"right"))},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new module$exports$Blockly$blockRendering$SquareCorner.SquareCorner(this.constants_)):this.bottomRow.elements.push(new module$exports$Blockly$blockRendering$RoundCorner.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new module$exports$Blockly$blockRendering$NextConnection_NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new module$exports$Blockly$blockRendering$SquareCorner.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new module$exports$Blockly$blockRendering$RoundCorner.RoundCorner(this.constants_,"right"))},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.addInput_=function(a,b){this.isInline&&a.type===$.module$exports$Blockly$inputTypes.inputTypes.VALUE?(b.elements.push(new module$exports$Blockly$blockRendering$InlineInput.InlineInput(this.constants_,a)),b.hasInlineInput=!0):a.type===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?(b.elements.push(new module$exports$Blockly$blockRendering$StatementInput.StatementInput(this.constants_,a)),b.hasStatement=!0):a.type===$.module$exports$Blockly$inputTypes.inputTypes.VALUE?(b.elements.push(new module$exports$Blockly$blockRendering$ExternalValueInput_ExternalValueInput(this.constants_,a)),b.hasExternalInput=!0):a.type===$.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&(b.minHeight=Math.max(b.minHeight,a.getSourceBlock()&&a.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0),null===b.align&&(b.align=a.align)},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.shouldStartNewRow_=function(a,b){return!(!b||a.type!==$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&b.type!==$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&(a.type!==$.module$exports$Blockly$inputTypes.inputTypes.VALUE&&a.type!==$.module$exports$Blockly$inputTypes.inputTypes.DUMMY||this.isInline))},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.addElemSpacing_=function(){for(var b,a=0;b=this.rows[a];a++){var c=b.elements;if(b.elements=[],b.startsWithElemSpacer()&&b.elements.push(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,this.getInRowSpacing_(null,c[0]))),c.length){for(var d=0;d<c.length-1;d++){b.elements.push(c[d]);var e=this.getInRowSpacing_(c[d],c[d+1]);b.elements.push(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,e))}b.elements.push(c[c.length-1]),b.endsWithElemSpacer()&&b.elements.push(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,this.getInRowSpacing_(c[c.length-1],null)))}}},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.getInRowSpacing_=function(a,b){if(!a&&b&&module$exports$Blockly$blockRendering$Types.Types.isStatementInput(b))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(a&&module$exports$Blockly$blockRendering$Types.Types.isInput(a)&&!b){if(module$exports$Blockly$blockRendering$Types.Types.isExternalInput(a))return this.constants_.NO_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isStatementInput(a))return this.constants_.NO_PADDING}return a&&module$exports$Blockly$blockRendering$Types.Types.isLeftSquareCorner(a)&&b&&(module$exports$Blockly$blockRendering$Types.Types.isPreviousConnection(b)||module$exports$Blockly$blockRendering$Types.Types.isNextConnection(b))?b.notchOffset:a&&module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(a)&&b&&(module$exports$Blockly$blockRendering$Types.Types.isPreviousConnection(b)||module$exports$Blockly$blockRendering$Types.Types.isNextConnection(b))?b.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.computeBounds_=function(){for(var e,a=0,b=0,c=0,d=0;e=this.rows[d];d++){if(e.measure(),b=Math.max(b,e.width),e.hasStatement){var f=e.getLastInput();a=Math.max(a,e.width-f.width)}c=Math.max(c,e.widthWithConnectedBlocks)}for(this.statementEdge=a,this.width=b,a=0;d=this.rows[a];a++)d.hasStatement&&(d.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(b,c),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.alignRowElements_=function(){for(var b,a=0;b=this.rows[a];a++)if(b.hasStatement)this.alignStatementRow_(b);else{var c=b.width;0<(c=this.getDesiredRowWidth_(b)-c)&&this.addAlignmentPadding_(b,c),module$exports$Blockly$blockRendering$Types.Types.isTopOrBottomRow(b)&&(b.widthWithConnectedBlocks=b.width)}},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.getDesiredRowWidth_=function(a){return this.width-this.startX},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.addAlignmentPadding_=function(a,b){var c=a.getFirstSpacer(),d=a.getLastSpacer();(a.hasExternalInput||a.hasStatement)&&(a.widthWithConnectedBlocks+=b),a.align===$.module$exports$Blockly$Input.Align.LEFT?d.width+=b:a.align===$.module$exports$Blockly$Input.Align.CENTRE?(c.width+=b/2,d.width+=b/2):a.align===$.module$exports$Blockly$Input.Align.RIGHT?c.width+=b:d.width+=b,a.width+=b},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.alignStatementRow_=function(a){var b=a.getLastInput(),c=a.width-b.width,d=this.statementEdge;0<(c=d-c)&&this.addAlignmentPadding_(a,c),c=a.width,d=this.getDesiredRowWidth_(a),b.width+=d-c,b.height=Math.max(b.height,a.height),a.width+=d-c,a.widthWithConnectedBlocks=Math.max(a.width,this.statementEdge+a.connectedBlockWidths)},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.addRowSpacing_=function(){var a=this.rows;this.rows=[];for(var b=0;b<a.length;b++)this.rows.push(a[b]),b!==a.length-1&&this.rows.push(this.makeSpacerRow_(a[b],a[b+1]))},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.makeSpacerRow_=function(a,b){var c=this.getSpacerRowHeight_(a,b),d=this.getSpacerRowWidth_(a,b);return c=new module$exports$Blockly$blockRendering$SpacerRow.SpacerRow(this.constants_,c,d),a.hasStatement&&(c.followsStatement=!0),b.hasStatement&&(c.precedesStatement=!0),c},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.getSpacerRowWidth_=function(a,b){return this.width-this.startX},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.getSpacerRowHeight_=function(a,b){return this.constants_.MEDIUM_PADDING},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.getElemCenterline_=function(a,b){return module$exports$Blockly$blockRendering$Types.Types.isSpacer(b)?a.yPos+b.height/2:module$exports$Blockly$blockRendering$Types.Types.isBottomRow(a)?(a=a.yPos+a.height-a.descenderHeight,module$exports$Blockly$blockRendering$Types.Types.isNextConnection(b)?a+b.height/2:a-b.height/2):module$exports$Blockly$blockRendering$Types.Types.isTopRow(a)?module$exports$Blockly$blockRendering$Types.Types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2:a.yPos+a.height/2},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.recordElemPositions_=function(a){for(var d,b=a.xPos,c=0;d=a.elements[c];c++)module$exports$Blockly$blockRendering$Types.Types.isSpacer(d)&&(d.height=a.height),d.xPos=b,d.centerline=this.getElemCenterline_(a,d),b+=d.width},module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.finalize_=function(){for(var d,a=0,b=0,c=0;d=this.rows[c];c++)d.yPos=b,d.xPos=this.startX,b+=d.height,a=Math.max(a,d.widthWithConnectedBlocks),this.recordElemPositions_(d);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(a=Math.max(a,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=a+this.startX,this.height=b,this.startY=this.topRow.capline,this.bottomRow.baseline=b-this.bottomRow.descenderHeight};var module$exports$Blockly$blockRendering$Renderer={Renderer:function(a){this.name=a,this.overrides=this.constants_=null}};module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.init=function(a,b){this.constants_=this.makeConstants_(),b&&(this.overrides=b,(0,$.module$exports$Blockly$utils$object.mixin)(this.constants_,b)),this.constants_.setTheme(a),this.constants_.init()},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.createDom=function(a,b){this.constants_.createDom(a,this.name+"-"+b.name,"."+this.getClassName()+"."+b.getClassName())},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.refreshDom=function(a,b){var c=this.getConstants();c.dispose(),this.constants_=this.makeConstants_(),this.overrides&&(0,$.module$exports$Blockly$utils$object.mixin)(this.constants_,this.overrides),this.constants_.randomIdentifier=c.randomIdentifier,this.constants_.setTheme(b),this.constants_.init(),this.createDom(a,b)},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.makeConstants_=function(){return new module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.makeRenderInfo_=function(a){return new module$exports$Blockly$blockRendering$RenderInfo.RenderInfo(this,a)},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.makeDrawer_=function(a,b){return new module$exports$Blockly$blockRendering$Drawer.Drawer(a,b)},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.makeDebugger_=function(){var a=module$exports$Blockly$blockRendering$Debug.Debug;if(!a)throw Error("Missing require for Blockly.blockRendering.Debug");return new a(this.getConstants())},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.makeMarkerDrawer=function(a,b){return new module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg(a,this.getConstants(),b)},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.makePathObject=function(a,b){return new module$exports$Blockly$blockRendering$PathObject.PathObject(a,b,this.constants_)},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.getConstants=function(){return this.constants_},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.shouldHighlightConnection=function(a){return!0},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.orphanCanConnectAtEnd=function(a,b,c){return!!module$exports$Blockly$Connection.Connection.getConnectionForOrphanedConnection(a,c===$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?b.outputConnection:b.previousConnection)},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.getConnectionPreviewMethod=function(a,b,c){return b.type===$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE||b.type===$.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT?!a.isConnected()||this.orphanCanConnectAtEnd(c,a.targetBlock(),b.type)?module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.render=function(a){(0,module$exports$Blockly$blockRendering$debug.isDebuggerEnabled)()&&!a.renderingDebugger&&(a.renderingDebugger=this.makeDebugger_());var b=this.makeRenderInfo_(a);b.measure(),this.makeDrawer_(a,b).draw()};var module$exports$Blockly$blockRendering={isDebuggerEnabled:function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.blockRendering.isDebuggerEnabled()","September 2021","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),(0,module$exports$Blockly$blockRendering$debug.isDebuggerEnabled)()},register:function(a,b){(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.RENDERER,a,b)},unregister:function(a){(0,module$exports$Blockly$registry.unregister)(module$exports$Blockly$registry.Type.RENDERER,a)},startDebugger:function(){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.blockRendering.startDebugger()","September 2021","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),(0,module$exports$Blockly$blockRendering$debug.startDebugger)()},stopDebugger:function(){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.blockRendering.stopDebugger()","September 2021","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),(0,module$exports$Blockly$blockRendering$debug.stopDebugger)()},init:function(a,b,c){return(a=new((0,module$exports$Blockly$registry.getClass)(module$exports$Blockly$registry.Type.RENDERER,a))(a)).init(b,c),a}};module$exports$Blockly$blockRendering.BottomRow=module$exports$Blockly$blockRendering$BottomRow.BottomRow,module$exports$Blockly$blockRendering.Connection=module$exports$Blockly$blockRendering$Connection.Connection,module$exports$Blockly$blockRendering.ConstantProvider=module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider,module$exports$Blockly$blockRendering.Debug=module$exports$Blockly$blockRendering$Debug.Debug,module$exports$Blockly$blockRendering.Drawer=module$exports$Blockly$blockRendering$Drawer.Drawer,module$exports$Blockly$blockRendering.ExternalValueInput=module$exports$Blockly$blockRendering$ExternalValueInput_ExternalValueInput,module$exports$Blockly$blockRendering.Field=module$exports$Blockly$blockRendering$Field_Field,module$exports$Blockly$blockRendering.Hat=module$exports$Blockly$blockRendering$Hat_Hat,module$exports$Blockly$blockRendering.Icon=module$exports$Blockly$blockRendering$Icon_Icon,module$exports$Blockly$blockRendering.InRowSpacer=module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer,module$exports$Blockly$blockRendering.InlineInput=module$exports$Blockly$blockRendering$InlineInput.InlineInput,module$exports$Blockly$blockRendering.InputConnection=module$exports$Blockly$blockRendering$InputConnection.InputConnection,module$exports$Blockly$blockRendering.InputRow=module$exports$Blockly$blockRendering$InputRow.InputRow,module$exports$Blockly$blockRendering.IPathObject=function(a,b){},module$exports$Blockly$blockRendering.JaggedEdge=module$exports$Blockly$blockRendering$JaggedEdge_JaggedEdge,module$exports$Blockly$blockRendering.MarkerSvg=module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg,module$exports$Blockly$blockRendering.Measurable=module$exports$Blockly$blockRendering$Measurable.Measurable,module$exports$Blockly$blockRendering.NextConnection=module$exports$Blockly$blockRendering$NextConnection_NextConnection,module$exports$Blockly$blockRendering.OutputConnection=module$exports$Blockly$blockRendering$OutputConnection_OutputConnection,module$exports$Blockly$blockRendering.PathObject=module$exports$Blockly$blockRendering$PathObject.PathObject,module$exports$Blockly$blockRendering.PreviousConnection=module$exports$Blockly$blockRendering$PreviousConnection_PreviousConnection,module$exports$Blockly$blockRendering.Renderer=module$exports$Blockly$blockRendering$Renderer.Renderer,module$exports$Blockly$blockRendering.RenderInfo=module$exports$Blockly$blockRendering$RenderInfo.RenderInfo,module$exports$Blockly$blockRendering.RoundCorner=module$exports$Blockly$blockRendering$RoundCorner.RoundCorner,module$exports$Blockly$blockRendering.Row=module$exports$Blockly$blockRendering$Row.Row,module$exports$Blockly$blockRendering.SpacerRow=module$exports$Blockly$blockRendering$SpacerRow.SpacerRow,module$exports$Blockly$blockRendering.SquareCorner=module$exports$Blockly$blockRendering$SquareCorner.SquareCorner,module$exports$Blockly$blockRendering.StatementInput=module$exports$Blockly$blockRendering$StatementInput.StatementInput,module$exports$Blockly$blockRendering.TopRow=module$exports$Blockly$blockRendering$TopRow.TopRow,module$exports$Blockly$blockRendering.Types=module$exports$Blockly$blockRendering$Types.Types,module$exports$Blockly$blockRendering.debug=module$exports$Blockly$blockRendering$debug,$.module$exports$Blockly$FieldDropdown={FieldDropdown:function(a,b,c){module$exports$Blockly$Field.Field.call(this,module$exports$Blockly$Field.Field.SKIP_SETUP),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null,this.SERIALIZABLE=!0,this.CURSOR="default",a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(Array.isArray(a)&&module$contents$Blockly$FieldDropdown_validateOptions(a),this.menuGenerator_=a,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],c&&this.configure_(c),this.setValue(this.selectedOption_[1]),b&&this.setValidator(b))}},$.$jscomp.inherits($.module$exports$Blockly$FieldDropdown.FieldDropdown,module$exports$Blockly$Field.Field),$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.fromXml=function(a){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(a.textContent)},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.loadState=function(a){this.loadLegacyState($.module$exports$Blockly$FieldDropdown.FieldDropdown,a)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(a))},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&(0,module$exports$Blockly$utils$dom.addClass)(this.borderRect_,"blocklyDropdownRect")},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?$.module$exports$Blockly$FieldDropdown.FieldDropdown.ARROW_CHAR+" ":" "+$.module$exports$Blockly$FieldDropdown.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(module$exports$Blockly$utils$dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.showEditor_=function(a){if(this.dropdownCreate_(),this.menu_.openingCoords=a&&"number"==typeof a.clientX?new module$exports$Blockly$utils$Coordinate.Coordinate(a.clientX,a.clientY):null,(0,module$exports$Blockly$dropDownDiv.clearContent)(),this.menu_.render((0,module$exports$Blockly$dropDownDiv.getContentDiv)()),a=this.menu_.getElement(),(0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){a=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var b=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;(0,module$exports$Blockly$dropDownDiv.setColour)(a,b)}(0,module$exports$Blockly$dropDownDiv.showPositionedByField)(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.dropdownCreate_=function(){var a=new module$exports$Blockly$Menu.Menu;a.setRole(module$exports$Blockly$utils$aria.Role.LISTBOX),this.menu_=a;var b=this.getOptions(!1);this.selectedMenuItem_=null;for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if("object"==typeof d){var f=new Image(d.width,d.height);f.src=d.src,f.alt=d.alt||"",d=f}(d=new module$exports$Blockly$MenuItem.MenuItem(d,e)).setRole(module$exports$Blockly$utils$aria.Role.OPTION),d.setRightToLeft(this.sourceBlock_.RTL),d.setCheckable(!0),a.addChild(d),d.setChecked(e===this.value_),e===this.value_&&(this.selectedMenuItem_=d),d.onAction(this.handleMenuActionEvent_,this)}},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.handleMenuActionEvent_=function(a){(0,module$exports$Blockly$dropDownDiv.hideIfOwner)(this,!0),this.onItemSelected_(this.menu_,a)},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.onItemSelected_=function(a,b){this.setValue(b.getValue())},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.trimOptions_=function(){var a=this.menuGenerator_;if(Array.isArray(a)){for(var b=!1,c=0;c<a.length;c++){var d=a[c][0];"string"==typeof d?a[c][0]=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(d):(null!==d.alt&&(a[c][0].alt=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(d.alt)),b=!0)}if(!(b||2>a.length)){for(b=[],c=0;c<a.length;c++)b.push(a[c][0]);c=(0,$.module$exports$Blockly$utils$string.shortestStringLength)(b),d=(0,$.module$exports$Blockly$utils$string.commonWordPrefix)(b,c);var e=(0,$.module$exports$Blockly$utils$string.commonWordSuffix)(b,c);!d&&!e||c<=d+e||(d&&(this.prefixField=b[0].substring(0,d-1)),e&&(this.suffixField=b[0].substr(1-e)),this.menuGenerator_=$.module$exports$Blockly$FieldDropdown.FieldDropdown.applyTrim_(a,d,e))}}},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.getOptions=function(a){return this.isOptionListDynamic()?(this.generatedOptions_&&a||(this.generatedOptions_=this.menuGenerator_.call(this),module$contents$Blockly$FieldDropdown_validateOptions(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.doClassValidation_=function(a){for(var e,b=!1,c=this.getOptions(!0),d=0;e=c[d];d++)if(e[1]===a){b=!0;break}return b?a:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+a),null)},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.doValueUpdate_=function(a){module$exports$Blockly$Field.Field.prototype.doValueUpdate_.call(this,a),a=this.getOptions(!0);for(var c,b=0;c=a[b];b++)c[1]===this.value_&&(this.selectedOption_=c)},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",this.sourceBlock_.style.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.style.colourSecondary:this.arrow_.style.fill=this.sourceBlock_.style.colourPrimary)},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var a=this.selectedOption_&&this.selectedOption_[0];a&&"object"==typeof a?this.renderSelectedImage_(a):this.renderSelectedText_(),this.positionBorderRect_()},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.renderSelectedImage_=function(a){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(module$exports$Blockly$utils$dom.XLINK_NS,"xlink:href",a.src),this.imageElement_.setAttribute("height",a.height),this.imageElement_.setAttribute("width",a.width);var b=Number(a.height);a=Number(a.width);var c=!!this.borderRect_,d=Math.max(c?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,b+module$contents$Blockly$FieldDropdown_IMAGE_Y_PADDING);c=c?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var e=this.svgArrow_?this.positionSVGArrow_(a+c,d/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):(0,module$exports$Blockly$utils$dom.getFastTextWidth)(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=a+e+2*c,this.size_.height=d;var f=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",c+e):(f=a+e,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",c)),this.imageElement_.setAttribute("y",d/2-b/2),this.positionTextElement_(f+c,a+e)},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),(0,module$exports$Blockly$utils$dom.addClass)(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var a=!!this.borderRect_,b=Math.max(a?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),c=(0,module$exports$Blockly$utils$dom.getFastTextWidth)(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);a=a?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var d=0;this.svgArrow_&&(d=this.positionSVGArrow_(c+a,b/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=c+d+2*a,this.size_.height=b,this.positionTextElement_(a,c)},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.positionSVGArrow_=function(a,b){if(!this.svgArrow_)return 0;var c=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,d=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,e=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?c:a+d)+","+b+")"),e+d},$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var a=this.selectedOption_[0];return"object"==typeof a?a.alt:a},$.module$exports$Blockly$FieldDropdown.FieldDropdown.fromJson=function(a){return new this(a.options,void 0,a)},$.module$exports$Blockly$FieldDropdown.FieldDropdown.applyTrim_=function(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=a[e][0],g=a[e][1];f=f.substring(b,f.length-c),d[e]=[f,g]}return d},$.module$exports$Blockly$FieldDropdown.FieldDropdown.CHECKMARK_OVERHANG=25,$.module$exports$Blockly$FieldDropdown.FieldDropdown.MAX_MENU_HEIGHT_VH=.45;var module$contents$Blockly$FieldDropdown_IMAGE_Y_PADDING=10;$.module$exports$Blockly$FieldDropdown.FieldDropdown.ARROW_CHAR=module$exports$Blockly$utils$userAgent.ANDROID?"":"";var module$contents$Blockly$Extensions_allExtensions,module$contents$Blockly$FieldDropdown_validateOptions=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var b=!1,c=0;c<a.length;c++){var d=a[c];Array.isArray(d)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.")};(0,module$exports$Blockly$fieldRegistry.register)("field_dropdown",$.module$exports$Blockly$FieldDropdown.FieldDropdown),$.module$exports$Blockly$Extensions={},module$contents$Blockly$Extensions_allExtensions=Object.create(null),$.module$exports$Blockly$Extensions.TEST_ONLY={allExtensions:module$contents$Blockly$Extensions_allExtensions},$.module$exports$Blockly$Extensions.register=function(a,b){if("string"!=typeof a||""===a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(module$contents$Blockly$Extensions_allExtensions[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');module$contents$Blockly$Extensions_allExtensions[a]=b},$.module$exports$Blockly$Extensions.registerMixin=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');(0,$.module$exports$Blockly$Extensions.register)(a,(function(){this.mixin(b)}))},$.module$exports$Blockly$Extensions.registerMutator=function(a,b,c,d){var e='Error when registering mutator "'+a+'": ';module$contents$Blockly$Extensions_checkHasMutatorProperties(e,b);var f=module$contents$Blockly$Extensions_checkMutatorDialog(b,e);if(c&&"function"!=typeof c)throw Error(e+'Extension "'+a+'" is not a function');(0,$.module$exports$Blockly$Extensions.register)(a,(function(){if(f){var g=$.module$exports$Blockly$Mutator.Mutator;if(!g)throw Error(e+"Missing require for Blockly.Mutator");this.setMutator(new g(d||[]))}this.mixin(b),c&&c.apply(this)}))},$.module$exports$Blockly$Extensions.unregister=function(a){(0,$.module$exports$Blockly$Extensions.isRegistered)(a)?delete module$contents$Blockly$Extensions_allExtensions[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')},$.module$exports$Blockly$Extensions.isRegistered=function(a){return!!module$contents$Blockly$Extensions_allExtensions[a]},$.module$exports$Blockly$Extensions.apply=function(a,b,c){var e,d=module$contents$Blockly$Extensions_allExtensions[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c?module$contents$Blockly$Extensions_checkNoMutatorProperties(a,b):e=module$contents$Blockly$Extensions_getMutatorProperties(b),d.apply(b),c)module$contents$Blockly$Extensions_checkHasMutatorProperties('Error after applying mutator "'+a+'": ',b);else if(!module$contents$Blockly$Extensions_mutatorPropertiesMatch(e,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.')};var module$contents$Blockly$Extensions_checkNoMutatorProperties=function(a,b){if(module$contents$Blockly$Extensions_getMutatorProperties(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id)},module$contents$Blockly$Extensions_checkMutatorDialog=function(a,b){return module$contents$Blockly$Extensions_checkHasFunctionPair(a.compose,a.decompose,b+" compose/decompose")},module$contents$Blockly$Extensions_checkHasFunctionPair=function(a,b,c){if(a&&b){if("function"!=typeof a||"function"!=typeof b)throw Error(c+" must be a function");return!0}if(!a&&!b)return!1;throw Error(c+"Must have both or neither functions")},module$contents$Blockly$Extensions_checkHasMutatorProperties=function(a,b){var c=function(a,b){return module$contents$Blockly$Extensions_checkHasFunctionPair(a.mutationToDom,a.domToMutation,b+" mutationToDom/domToMutation")}(b,a),d=function(a,b){return module$contents$Blockly$Extensions_checkHasFunctionPair(a.saveExtraState,a.loadExtraState,b+" saveExtraState/loadExtraState")}(b,a);if(!c&&!d)throw Error(a+"Mutations must contain either XML hooks, or JSON hooks, or both");module$contents$Blockly$Extensions_checkMutatorDialog(b,a)},module$contents$Blockly$Extensions_getMutatorProperties=function(a){var b=[];return void 0!==a.domToMutation&&b.push(a.domToMutation),void 0!==a.mutationToDom&&b.push(a.mutationToDom),void 0!==a.saveExtraState&&b.push(a.saveExtraState),void 0!==a.loadExtraState&&b.push(a.loadExtraState),void 0!==a.compose&&b.push(a.compose),void 0!==a.decompose&&b.push(a.decompose),b},module$contents$Blockly$Extensions_mutatorPropertiesMatch=function(a,b){if((b=module$contents$Blockly$Extensions_getMutatorProperties(b)).length!==a.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!==b[c])return!1;return!0};$.module$exports$Blockly$Extensions.runAfterPageLoad=function(a){if("object"!=typeof document)throw Error("runAfterPageLoad() requires browser document.");if("complete"===document.readyState)a();else var b=setInterval((function(){"complete"===document.readyState&&(clearInterval(b),a())}),10)},$.module$exports$Blockly$Extensions.buildTooltipForDropdown=function(a,b){var c=[];return"object"==typeof document&&(0,$.module$exports$Blockly$Extensions.runAfterPageLoad)((function(){for(var d in b)(0,module$exports$Blockly$utils$parsing.checkMessageReferences)(b[d])})),function(){this.type&&-1===c.indexOf(this.type)&&(module$contents$Blockly$Extensions_checkDropdownOptionsInTable(this,a,b),c.push(this.type)),this.setTooltip(function(){var d=String(this.getFieldValue(a)),e=b[d];return null===e?-1===c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field "+a,null!==this.type&&(d+=" of block type "+this.type),console.warn(d+".")):e=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(e),e}.bind(this))}};var module$contents$Blockly$Extensions_checkDropdownOptionsInTable=function(a,b,c){var d=a.getField(b);if(d instanceof $.module$exports$Blockly$FieldDropdown.FieldDropdown&&!d.isOptionListDynamic()){d=d.getOptions();for(var e=0;e<d.length;e++){var f=d[e][1];null===c[f]&&console.warn("No tooltip mapping for value "+f+" of field "+b+" of block type "+a.type)}}};$.module$exports$Blockly$Extensions.buildTooltipWithFieldText=function(a,b){return"object"==typeof document&&(0,$.module$exports$Blockly$Extensions.runAfterPageLoad)((function(){(0,module$exports$Blockly$utils$parsing.checkMessageReferences)(a)})),function(){this.setTooltip(function(){var c=this.getField(b);return(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a).replace("%1",c?c.getText():"")}.bind(this))}},(0,$.module$exports$Blockly$Extensions.register)("parent_tooltip_when_inline",(function(){var a=this.tooltip;this.setTooltip(function(){var b=this.getParent();return b&&b.getInputsInline()&&b.tooltip||a}.bind(this))}));var module$exports$Blockly$utils={aria:module$exports$Blockly$utils$aria,colour:module$exports$Blockly$utils$colour};module$exports$Blockly$utils.Coordinate=module$exports$Blockly$utils$Coordinate.Coordinate,module$exports$Blockly$utils.deprecation=module$exports$Blockly$utils$deprecation,module$exports$Blockly$utils.dom=module$exports$Blockly$utils$dom,module$exports$Blockly$utils.global=$.module$exports$Blockly$utils$global.globalThis,module$exports$Blockly$utils.idGenerator=module$exports$Blockly$utils$idGenerator,module$exports$Blockly$utils.KeyCodes=module$exports$Blockly$utils$KeyCodes_KeyCodes,module$exports$Blockly$utils.math=module$exports$Blockly$utils$math,module$exports$Blockly$utils.Metrics=function(){},module$exports$Blockly$utils.object=$.module$exports$Blockly$utils$object,module$exports$Blockly$utils.parsing=module$exports$Blockly$utils$parsing,module$exports$Blockly$utils.Rect=module$exports$Blockly$utils$Rect.Rect,module$exports$Blockly$utils.Size=module$exports$Blockly$utils$Size.Size,module$exports$Blockly$utils.string=$.module$exports$Blockly$utils$string,module$exports$Blockly$utils.style=module$exports$Blockly$utils$style,module$exports$Blockly$utils.Svg=module$exports$Blockly$utils$Svg.Svg,module$exports$Blockly$utils.svgPaths=module$exports$Blockly$utils$svgPaths,module$exports$Blockly$utils.svgMath=module$exports$Blockly$utils$svgMath,module$exports$Blockly$utils.toolbox=module$exports$Blockly$utils$toolbox,module$exports$Blockly$utils.userAgent=module$exports$Blockly$utils$userAgent,module$exports$Blockly$utils.xml=$.module$exports$Blockly$utils$xml,module$exports$Blockly$utils.noEvent=function(a){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.noEvent","September 2021","September 2022"),a.preventDefault(),a.stopPropagation()},module$exports$Blockly$utils.isTargetInput=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.isTargetInput","September 2021","September 2022","Blockly.browserEvents.isTargetInput"),(0,module$exports$Blockly$browserEvents.isTargetInput)(a)},module$exports$Blockly$utils.getRelativeXY=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.getRelativeXY","December 2021","December 2022","Blockly.utils.svgMath.getRelativeXY"),(0,module$exports$Blockly$utils$svgMath.getRelativeXY)(a)},module$exports$Blockly$utils.getInjectionDivXY_=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.getInjectionDivXY_","December 2021","December 2022","Blockly.utils.svgMath.getInjectionDivXY"),(0,module$exports$Blockly$utils$svgMath.getInjectionDivXY)(a)},module$exports$Blockly$utils.isRightButton=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.isRightButton","September 2021","September 2022","Blockly.browserEvents.isRightButton"),(0,module$exports$Blockly$browserEvents.isRightButton)(a)},module$exports$Blockly$utils.mouseToSvg=function(a,b,c){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.mouseToSvg","September 2021","September 2022","Blockly.browserEvents.mouseToSvg"),(0,module$exports$Blockly$browserEvents.mouseToSvg)(a,b,c)},module$exports$Blockly$utils.getScrollDeltaPixels=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.getScrollDeltaPixels","September 2021","September 2022","Blockly.browserEvents.getScrollDeltaPixels"),(0,module$exports$Blockly$browserEvents.getScrollDeltaPixels)(a)},module$exports$Blockly$utils.tokenizeInterpolation=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.tokenizeInterpolation","December 2021","December 2022","Blockly.utils.parsing.tokenizeInterpolation"),(0,module$exports$Blockly$utils$parsing.tokenizeInterpolation)(a)},module$exports$Blockly$utils.replaceMessageReferences=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.replaceMessageReferences","December 2021","December 2022","Blockly.utils.parsing.replaceMessageReferences"),(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a)},module$exports$Blockly$utils.checkMessageReferences=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.checkMessageReferences","December 2021","December 2022","Blockly.utils.parsing.checkMessageReferences"),(0,module$exports$Blockly$utils$parsing.checkMessageReferences)(a)},module$exports$Blockly$utils.genUid=function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.genUid","September 2021","September 2022","Blockly.utils.idGenerator.genUid"),(0,module$exports$Blockly$utils$idGenerator.genUid)()},module$exports$Blockly$utils.is3dSupported=function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.is3dSupported","December 2021","December 2022","Blockly.utils.svgMath.is3dSupported"),(0,module$exports$Blockly$utils$svgMath.is3dSupported)()},module$exports$Blockly$utils.getViewportBBox=function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.getViewportBBox","December 2021","December 2022","Blockly.utils.svgMath.getViewportBBox"),(0,module$exports$Blockly$utils$svgMath.getViewportBBox)()},module$exports$Blockly$utils.arrayRemove=function(a,b){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.arrayRemove","December 2021","December 2022"),module$exports$Blockly$utils$array_removeElem(a,b)},module$exports$Blockly$utils.getDocumentScroll=function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.getDocumentScroll","December 2021","December 2022","Blockly.utils.svgMath.getDocumentScroll"),(0,module$exports$Blockly$utils$svgMath.getDocumentScroll)()},module$exports$Blockly$utils.getBlockTypeCounts=function(a,b){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.getBlockTypeCounts","December 2021","December 2022","Blockly.common.getBlockTypeCounts"),(0,$.module$exports$Blockly$common.getBlockTypeCounts)(a,b)},module$exports$Blockly$utils.screenToWsCoordinates=function(a,b){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.screenToWsCoordinates","December 2021","December 2022","Blockly.utils.svgMath.screenToWsCoordinates"),(0,module$exports$Blockly$utils$svgMath.screenToWsCoordinates)(a,b)},module$exports$Blockly$utils.parseBlockColour=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.parseBlockColour","December 2021","December 2022","Blockly.utils.parsing.parseBlockColour"),(0,module$exports$Blockly$utils$parsing.parseBlockColour)(a)},module$exports$Blockly$utils.runAfterPageLoad=function(a){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.utils.runAfterPageLoad","December 2021","December 2022"),(0,$.module$exports$Blockly$Extensions.runAfterPageLoad)(a)};var module$exports$Blockly$Events$BlockDelete={BlockDelete:function(a){if(module$exports$Blockly$Events$BlockBase.BlockBase.call(this,a),this.type=module$exports$Blockly$Events$utils.DELETE,a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.isShadow()&&(this.recordUndo=!1),this.oldXml=(0,$.module$exports$Blockly$Xml.blockToDomWithXY)(a),this.ids=(0,module$exports$Blockly$Events$utils.getDescendantIds)(a),this.wasShadow=a.isShadow(),this.oldJson=(0,module$exports$Blockly$serialization$blocks.save)(a,{addCoordinates:!0})}}};$.$jscomp.inherits(module$exports$Blockly$Events$BlockDelete.BlockDelete,module$exports$Blockly$Events$BlockBase.BlockBase),module$exports$Blockly$Events$BlockDelete.BlockDelete.prototype.toJson=function(){var a=module$exports$Blockly$Events$BlockBase.BlockBase.prototype.toJson.call(this);return a.oldXml=(0,$.module$exports$Blockly$Xml.domToText)(this.oldXml),a.ids=this.ids,a.wasShadow=this.wasShadow,a.oldJson=this.oldJson,this.recordUndo||(a.recordUndo=this.recordUndo),a},module$exports$Blockly$Events$BlockDelete.BlockDelete.prototype.fromJson=function(a){module$exports$Blockly$Events$BlockBase.BlockBase.prototype.fromJson.call(this,a),this.oldXml=(0,$.module$exports$Blockly$Xml.textToDom)(a.oldXml),this.ids=a.ids,this.wasShadow=a.wasShadow||"shadow"===this.oldXml.tagName.toLowerCase(),this.oldJson=a.oldJson,void 0!==a.recordUndo&&(this.recordUndo=a.recordUndo)},module$exports$Blockly$Events$BlockDelete.BlockDelete.prototype.run=function(a){var b=this.getEventWorkspace_();if(a)for(a=0;a<this.ids.length;a++){var c=this.ids[a],d=b.getBlockById(c);d?d.dispose(!1):c===this.blockId&&console.warn("Can't delete non-existent block: "+c)}else(0,module$exports$Blockly$serialization$blocks.append)(this.oldJson,b)},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.DELETE,module$exports$Blockly$Events$BlockDelete.BlockDelete);var module$exports$Blockly$Block={Block:function(a,b,c){var d=$.module$exports$Blockly$Generator.Generator;if(d&&void 0!==d.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.loadExtraState=this.saveExtraState=this.domToMutation=this.mutationToDom=this.init=void 0,this.suppressPrefixSuffix=!1,this.getDeveloperVariables=void 0,this.id=c&&!a.getBlockById(c)?c:(0,module$exports$Blockly$utils$idGenerator.genUid)(),a.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new module$exports$Blockly$utils$Size.Size(160,80)},this.xy_=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0),this.workspace=a,this.isInFlyout=a.isFlyout,this.isInMutator=a.isMutator,this.RTL=a.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.onchangeWrapper_=this.helpUrl=this.rendered=null,this.statementInputCount=0,b){if(this.type=b,!(c=module$exports$Blockly$blocks.Blocks[b])||"object"!=typeof c)throw TypeError("Invalid block definition for type: "+b);(0,$.module$exports$Blockly$utils$object.mixin)(this,c)}a.addTopBlock(this),a.addTypedBlock(this),this.constructor===module$exports$Blockly$Block.Block&&this.doInit_()}};module$exports$Blockly$Block.Block.prototype.doInit_=function(){var a=(0,module$exports$Blockly$Events$utils.getGroup)();a||(0,module$exports$Blockly$Events$utils.setGroup)(!0);var b=(0,module$exports$Blockly$Events$utils.getRecordUndo)();try{"function"==typeof this.init&&((0,module$exports$Blockly$Events$utils.setRecordUndo)(!1),this.init(),(0,module$exports$Blockly$Events$utils.setRecordUndo)(b)),(0,module$exports$Blockly$Events$utils.isEnabled)()&&(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CREATE))(this))}finally{a||(0,module$exports$Blockly$Events$utils.setGroup)(!1),(0,module$exports$Blockly$Events$utils.setRecordUndo)(b)}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)},module$exports$Blockly$Block.Block.prototype.dispose=function(a){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(a),(0,module$exports$Blockly$Events$utils.isEnabled)()&&(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.DELETE))(this)),(0,module$exports$Blockly$Events$utils.disable)();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),(0,$.module$exports$Blockly$common.getSelected)()===this&&(0,$.module$exports$Blockly$common.setSelected)(null);for(var b=this.childBlocks_.length-1;0<=b;b--)this.childBlocks_[b].dispose(!1);for(a=0,b=void 0;b=this.inputList[a];a++)b.dispose();this.inputList.length=0;var c=this.getConnections_(!0);for(a=0,b=void 0;b=c[a];a++)b.dispose()}finally{(0,module$exports$Blockly$Events$utils.enable)(),this.disposed=!0}}},module$exports$Blockly$Block.Block.prototype.initModel=function(){for(var b,a=0;b=this.inputList[a];a++)for(var d,c=0;d=b.fieldRow[c];c++)d.initModel&&d.initModel()},module$exports$Blockly$Block.Block.prototype.unplug=function(a){this.outputConnection&&this.unplugFromRow_(a),this.previousConnection&&this.unplugFromStack_(a)},module$exports$Blockly$Block.Block.prototype.unplugFromRow_=function(a){var b=null;this.outputConnection.isConnected()&&(b=this.outputConnection.targetConnection,this.outputConnection.disconnect()),b&&a&&(a=this.getOnlyValueConnection_())&&a.isConnected()&&!a.targetBlock().isShadow()&&((a=a.targetConnection).disconnect(),this.workspace.connectionChecker.canConnect(a,b,!1)?b.connect(a):a.onFailedConnect(b))},module$exports$Blockly$Block.Block.prototype.getOnlyValueConnection_=function(){for(var a=null,b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;if(c&&c.type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&c.targetConnection){if(a)return null;a=c}}return a},module$exports$Blockly$Block.Block.prototype.unplugFromStack_=function(a){var b=null;this.previousConnection.isConnected()&&(b=this.previousConnection.targetConnection,this.previousConnection.disconnect());var c=this.getNextBlock();a&&c&&!c.isShadow()&&((a=this.nextConnection.targetConnection).disconnect(),b&&this.workspace.connectionChecker.canConnect(b,a,!1)&&b.connect(a))},module$exports$Blockly$Block.Block.prototype.getConnections_=function(a){a=[],this.outputConnection&&a.push(this.outputConnection),this.previousConnection&&a.push(this.previousConnection),this.nextConnection&&a.push(this.nextConnection);for(var c,b=0;c=this.inputList[b];b++)c.connection&&a.push(c.connection);return a},module$exports$Blockly$Block.Block.prototype.lastConnectionInStack=function(a){for(var b=this.nextConnection;b;){var c=b.targetBlock();if(!c||a&&c.isShadow())return b;b=c.nextConnection}return null},module$exports$Blockly$Block.Block.prototype.bumpNeighbours=function(){},module$exports$Blockly$Block.Block.prototype.getParent=function(){return this.parentBlock_},module$exports$Blockly$Block.Block.prototype.getInputWithBlock=function(a){for(var c,b=0;c=this.inputList[b];b++)if(c.connection&&c.connection.targetBlock()===a)return c;return null},module$exports$Blockly$Block.Block.prototype.getSurroundParent=function(){var a=this;do{var b=a;if(!(a=a.getParent()))return null}while(a.getNextBlock()===b);return a},module$exports$Blockly$Block.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},module$exports$Blockly$Block.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},module$exports$Blockly$Block.Block.prototype.getFirstStatementConnection=function(){for(var b,a=0;b=this.inputList[a];a++)if(b.connection&&b.connection.type===$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)return b.connection;return null},module$exports$Blockly$Block.Block.prototype.getRootBlock=function(){var a=this;do{var b=a;a=b.parentBlock_}while(a);return b},module$exports$Blockly$Block.Block.prototype.getTopStackBlock=function(){var a=this;do{var b=a.getPreviousBlock()}while(b&&b.getNextBlock()===a&&(a=b));return a},module$exports$Blockly$Block.Block.prototype.getChildren=function(a){if(!a)return this.childBlocks_;a=[];for(var c,b=0;c=this.inputList[b];b++)c.connection&&(c=c.connection.targetBlock())&&a.push(c);return(b=this.getNextBlock())&&a.push(b),a},module$exports$Blockly$Block.Block.prototype.setParent=function(a){if(a!==this.parentBlock_){var b=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),c=!!b;if(c&&a&&b!==a)throw Error("Block connected to superior one that is not new parent.");if(!c&&a)throw Error("Block not connected to new parent.");if(c&&!a)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?module$exports$Blockly$utils$array_removeElem(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=a)?a.childBlocks_.push(this):this.workspace.addTopBlock(this)}},module$exports$Blockly$Block.Block.prototype.getDescendants=function(a){for(var d,b=[this],c=this.getChildren(a),e=0;d=c[e];e++)b.push.apply(b,d.getDescendants(a));return b},module$exports$Blockly$Block.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},module$exports$Blockly$Block.Block.prototype.setDeletable=function(a){this.deletable_=a},module$exports$Blockly$Block.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},module$exports$Blockly$Block.Block.prototype.setMovable=function(a){this.movable_=a},module$exports$Blockly$Block.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable((0,$.module$exports$Blockly$common.getBlockTypeCounts)(this,!0))},module$exports$Blockly$Block.Block.prototype.isShadow=function(){return this.isShadow_},module$exports$Blockly$Block.Block.prototype.setShadow=function(a){this.isShadow_=a},module$exports$Blockly$Block.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},module$exports$Blockly$Block.Block.prototype.setInsertionMarker=function(a){this.isInsertionMarker_=a},module$exports$Blockly$Block.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},module$exports$Blockly$Block.Block.prototype.setEditable=function(a){this.editable_=a,a=0;for(var b;b=this.inputList[a];a++)for(var d,c=0;d=b.fieldRow[c];c++)d.updateEditable()},module$exports$Blockly$Block.Block.prototype.isDisposed=function(){return this.disposed},module$exports$Blockly$Block.Block.prototype.getMatchingConnection=function(a,b){var c=this.getConnections_(!0);if(a=a.getConnections_(!0),c.length!==a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]===b)return c[d];return null},module$exports$Blockly$Block.Block.prototype.setHelpUrl=function(a){this.helpUrl=a},module$exports$Blockly$Block.Block.prototype.setTooltip=function(a){this.tooltip=a},module$exports$Blockly$Block.Block.prototype.getTooltip=function(){return(0,module$exports$Blockly$Tooltip.getTooltipOfObject)(this)},module$exports$Blockly$Block.Block.prototype.getColour=function(){return this.colour_},module$exports$Blockly$Block.Block.prototype.getStyleName=function(){return this.styleName_},module$exports$Blockly$Block.Block.prototype.getHue=function(){return this.hue_},module$exports$Blockly$Block.Block.prototype.setColour=function(a){a=(0,module$exports$Blockly$utils$parsing.parseBlockColour)(a),this.hue_=a.hue,this.colour_=a.hex},module$exports$Blockly$Block.Block.prototype.setStyle=function(a){this.styleName_=a},module$exports$Blockly$Block.Block.prototype.setOnChange=function(a){if(a&&"function"!=typeof a)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=a)&&(this.onchangeWrapper_=a.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},module$exports$Blockly$Block.Block.prototype.getField=function(a){if("string"!=typeof a)throw TypeError("Block.prototype.getField expects a string with the field name but received "+(void 0===a?"nothing":a+" of type "+typeof a)+" instead");for(var c,b=0;c=this.inputList[b];b++)for(var e,d=0;e=c.fieldRow[d];d++)if(e.name===a)return e;return null},module$exports$Blockly$Block.Block.prototype.getVars=function(){for(var c,a=[],b=0;c=this.inputList[b];b++)for(var e,d=0;e=c.fieldRow[d];d++)e.referencesVariables()&&a.push(e.getValue());return a},module$exports$Blockly$Block.Block.prototype.getVarModels=function(){for(var c,a=[],b=0;c=this.inputList[b];b++)for(var e,d=0;e=c.fieldRow[d];d++)e.referencesVariables()&&(e=this.workspace.getVariableById(e.getValue()))&&a.push(e);return a},module$exports$Blockly$Block.Block.prototype.updateVarName=function(a){for(var c,b=0;c=this.inputList[b];b++)for(var e,d=0;e=c.fieldRow[d];d++)e.referencesVariables()&&a.getId()===e.getValue()&&e.refreshVariableName()},module$exports$Blockly$Block.Block.prototype.renameVarById=function(a,b){for(var d,c=0;d=this.inputList[c];c++)for(var f,e=0;f=d.fieldRow[e];e++)f.referencesVariables()&&a===f.getValue()&&f.setValue(b)},module$exports$Blockly$Block.Block.prototype.getFieldValue=function(a){return(a=this.getField(a))?a.getValue():null},module$exports$Blockly$Block.Block.prototype.setFieldValue=function(a,b){var c=this.getField(b);if(!c)throw Error('Field "'+b+'" not found.');c.setValue(a)},module$exports$Blockly$Block.Block.prototype.setPreviousStatement=function(a,b){if(a)void 0===b&&(b=null),this.previousConnection||(this.previousConnection=this.makeConnection_($.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(b);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},module$exports$Blockly$Block.Block.prototype.setNextStatement=function(a,b){if(a)void 0===b&&(b=null),this.nextConnection||(this.nextConnection=this.makeConnection_($.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)),this.nextConnection.setCheck(b);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},module$exports$Blockly$Block.Block.prototype.setOutput=function(a,b){if(a)void 0===b&&(b=null),this.outputConnection||(this.outputConnection=this.makeConnection_($.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE)),this.outputConnection.setCheck(b);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},module$exports$Blockly$Block.Block.prototype.setInputsInline=function(a){this.inputsInline!==a&&((0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CHANGE))(this,"inline",null,this.inputsInline,a)),this.inputsInline=a)},module$exports$Blockly$Block.Block.prototype.getInputsInline=function(){if(void 0!==this.inputsInline)return this.inputsInline;for(var a=1;a<this.inputList.length;a++)if(this.inputList[a-1].type===$.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&this.inputList[a].type===$.module$exports$Blockly$inputTypes.inputTypes.DUMMY)return!1;for(a=1;a<this.inputList.length;a++)if(this.inputList[a-1].type===$.module$exports$Blockly$inputTypes.inputTypes.VALUE&&this.inputList[a].type===$.module$exports$Blockly$inputTypes.inputTypes.DUMMY)return!0;return!1},module$exports$Blockly$Block.Block.prototype.setOutputShape=function(a){this.outputShape_=a},module$exports$Blockly$Block.Block.prototype.getOutputShape=function(){return this.outputShape_},module$exports$Blockly$Block.Block.prototype.isEnabled=function(){return!this.disabled},module$exports$Blockly$Block.Block.prototype.setEnabled=function(a){if(this.isEnabled()!==a){var b=this.disabled;this.disabled=!a,(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CHANGE))(this,"disabled",null,b,!a))}},module$exports$Blockly$Block.Block.prototype.getInheritedDisabled=function(){for(var a=this.getSurroundParent();a;){if(a.disabled)return!0;a=a.getSurroundParent()}return!1},module$exports$Blockly$Block.Block.prototype.isCollapsed=function(){return this.collapsed_},module$exports$Blockly$Block.Block.prototype.setCollapsed=function(a){this.collapsed_!==a&&((0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CHANGE))(this,"collapsed",null,this.collapsed_,a)),this.collapsed_=a)},module$exports$Blockly$Block.Block.prototype.toString=function(a,b){function c(l){var m=l.getCheck();return!m&&l.targetConnection&&(m=l.targetConnection.getCheck()),!!m&&(-1!==m.indexOf("Boolean")||-1!==m.indexOf("Number"))}function d(){g&&g.getType()===h.getType()&&g.getLocation()===h.getLocation()&&(g=null)}var e=[];b=b||"?";var f=module$exports$Blockly$ASTNode.ASTNode.NAVIGATE_ALL_FIELDS;module$exports$Blockly$ASTNode.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var g=module$exports$Blockly$ASTNode.ASTNode.createBlockNode(this),h=g;g;){switch(g.getType()){case module$exports$Blockly$ASTNode.ASTNode.types.INPUT:var k=g.getLocation();g.in()?c(k)&&e.push("("):e.push(b);break;case module$exports$Blockly$ASTNode.ASTNode.types.FIELD:(k=g.getLocation()).name!==module$exports$Blockly$constants.COLLAPSED_FIELD_NAME&&e.push(k.getText())}if(!(g=(k=g).in()||k.next())){for(g=k.out(),d();g&&!g.next();)g=g.out(),d(),g&&g.getType()===module$exports$Blockly$ASTNode.ASTNode.types.INPUT&&c(g.getLocation())&&e.push(")");g&&(g=g.next())}}for(module$exports$Blockly$ASTNode.ASTNode.NAVIGATE_ALL_FIELDS=f,b=2;b<e.length;b++)"("===e[b-2]&&")"===e[b]&&(e[b-2]=e[b-1],e.splice(b-1,2));return e=(e=e.reduce((function(l,m){return l+("("===l.substr(-1)||")"===m?"":" ")+m}),"")).trim()||"???",a&&e.length>a&&(e=e.substring(0,a-3)+"..."),e},module$exports$Blockly$Block.Block.prototype.appendValueInput=function(a){return this.appendInput_($.module$exports$Blockly$inputTypes.inputTypes.VALUE,a)},module$exports$Blockly$Block.Block.prototype.appendStatementInput=function(a){return this.appendInput_($.module$exports$Blockly$inputTypes.inputTypes.STATEMENT,a)},module$exports$Blockly$Block.Block.prototype.appendDummyInput=function(a){return this.appendInput_($.module$exports$Blockly$inputTypes.inputTypes.DUMMY,a||"")},module$exports$Blockly$Block.Block.prototype.jsonInit=function(a){var b=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(b+"Must not have both an output and a previousStatement.");if(a.style&&a.style.hat&&(this.hat=a.style.hat,a.style=null),a.style&&a.colour)throw Error(b+"Must not have both a colour and a style.");a.style?this.jsonInitStyle_(a,b):this.jsonInitColour_(a,b);for(var c=0;void 0!==a["message"+c];)this.interpolate_(a["message"+c],a["args"+c]||[],a["lastDummyAlign"+c],b),c++;if(void 0!==a.inputsInline&&this.setInputsInline(a.inputsInline),void 0!==a.output&&this.setOutput(!0,a.output),void 0!==a.outputShape&&this.setOutputShape(a.outputShape),void 0!==a.previousStatement&&this.setPreviousStatement(!0,a.previousStatement),void 0!==a.nextStatement&&this.setNextStatement(!0,a.nextStatement),void 0!==a.tooltip&&(c=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a.tooltip),this.setTooltip(c)),void 0!==a.enableContextMenu&&(this.contextMenu=!!a.enableContextMenu),void 0!==a.suppressPrefixSuffix&&(this.suppressPrefixSuffix=!!a.suppressPrefixSuffix),void 0!==a.helpUrl&&(c=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a.helpUrl),this.setHelpUrl(c)),"string"==typeof a.extensions&&(console.warn(b+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]),void 0!==a.mutator&&(0,$.module$exports$Blockly$Extensions.apply)(a.mutator,this,!0),a=a.extensions,Array.isArray(a))for(b=0;b<a.length;b++)(0,$.module$exports$Blockly$Extensions.apply)(a[b],this,!1)},module$exports$Blockly$Block.Block.prototype.jsonInitColour_=function(a,b){if("colour"in a)if(void 0===a.colour)console.warn(b+"Undefined colour value.");else{a=a.colour;try{this.setColour(a)}catch(c){console.warn(b+"Illegal colour value: ",a)}}},module$exports$Blockly$Block.Block.prototype.jsonInitStyle_=function(a,b){a=a.style;try{this.setStyle(a)}catch(c){console.warn(b+"Style does not exist: ",a)}},module$exports$Blockly$Block.Block.prototype.mixin=function(a,b){if(void 0!==b&&"boolean"!=typeof b)throw Error("opt_disableCheck must be a boolean if provided");if(!b){for(var c in b=[],a)void 0!==this[c]&&b.push(c);if(b.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(b))}(0,$.module$exports$Blockly$utils$object.mixin)(this,a)},module$exports$Blockly$Block.Block.prototype.interpolate_=function(a,b,c,d){a=(0,module$exports$Blockly$utils$parsing.tokenizeInterpolation)(a),this.validateTokens_(a,b.length),b=this.interpolateArguments_(a,b,c),c=[],a=0;for(var e;e=b[a];a++)if(this.isInputKeyword_(e.type)){if(e=this.inputFromJson_(e,d)){for(var g,f=0;g=c[f];f++)e.appendField(g[0],g[1]);c.length=0}}else(f=this.fieldFromJson_(e))&&c.push([f,e.name])},module$exports$Blockly$Block.Block.prototype.validateTokens_=function(a,b){for(var c=[],d=0,e=0;e<a.length;e++){var f=a[e];if("number"==typeof f){if(1>f||f>b)throw Error('Block "'+this.type+'": Message index %'+f+" out of range.");if(c[f])throw Error('Block "'+this.type+'": Message index %'+f+" duplicated.");c[f]=!0,d++}}if(d!==b)throw Error('Block "'+this.type+'": Message does not reference all '+b+" arg(s).")},module$exports$Blockly$Block.Block.prototype.interpolateArguments_=function(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=a[e];"number"==typeof f&&(f=b[f-1]),("string"!=typeof f||(f=this.stringToFieldJson_(f)))&&d.push(f)}return(a=d.length)&&!this.isInputKeyword_(d[a-1].type)&&(a={type:"input_dummy"},c&&(a.align=c),d.push(a)),d},module$exports$Blockly$Block.Block.prototype.fieldFromJson_=function(a){var b=(0,module$exports$Blockly$fieldRegistry.fromJson)(a);return!b&&a.alt?"string"==typeof a.alt?(a=this.stringToFieldJson_(a.alt))?this.fieldFromJson_(a):null:this.fieldFromJson_(a.alt):b},module$exports$Blockly$Block.Block.prototype.inputFromJson_=function(a,b){var c={LEFT:$.module$exports$Blockly$Input.Align.LEFT,RIGHT:$.module$exports$Blockly$Input.Align.RIGHT,CENTRE:$.module$exports$Blockly$Input.Align.CENTRE,CENTER:$.module$exports$Blockly$Input.Align.CENTRE},d=null;switch(a.type){case"input_value":d=this.appendValueInput(a.name);break;case"input_statement":d=this.appendStatementInput(a.name);break;case"input_dummy":d=this.appendDummyInput(a.name)}return d?(a.check&&d.setCheck(a.check),a.align&&(void 0===(c=c[a.align.toUpperCase()])?console.warn(b+"Illegal align value: ",a.align):d.setAlign(c)),d):null},module$exports$Blockly$Block.Block.prototype.isInputKeyword_=function(a){return"input_value"===a||"input_statement"===a||"input_dummy"===a},module$exports$Blockly$Block.Block.prototype.stringToFieldJson_=function(a){return(a=a.trim())?{type:"field_label",text:a}:null},module$exports$Blockly$Block.Block.prototype.appendInput_=function(a,b){var c=null;return a!==$.module$exports$Blockly$inputTypes.inputTypes.VALUE&&a!==$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||(c=this.makeConnection_(a)),a===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&this.statementInputCount++,a=new $.module$exports$Blockly$Input.Input(a,b,this,c),this.inputList.push(a),a},module$exports$Blockly$Block.Block.prototype.moveInputBefore=function(a,b){if(a!==b){for(var f,c=-1,d=b?-1:this.inputList.length,e=0;f=this.inputList[e];e++)if(f.name===a){if(c=e,-1!==d)break}else if(b&&f.name===b&&(d=e,-1!==c))break;if(-1===c)throw Error('Named input "'+a+'" not found.');if(-1===d)throw Error('Reference input "'+b+'" not found.');this.moveNumberedInputBefore(c,d)}},module$exports$Blockly$Block.Block.prototype.moveNumberedInputBefore=function(a,b){if(a===b)throw Error("Can't move input to itself.");if(a>=this.inputList.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.inputList.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.inputList[a];this.inputList.splice(a,1),a<b&&b--,this.inputList.splice(b,0,c)},module$exports$Blockly$Block.Block.prototype.removeInput=function(a,b){for(var d,c=0;d=this.inputList[c];c++)if(d.name===a)return d.type===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&this.statementInputCount--,d.dispose(),this.inputList.splice(c,1),!0;if(b)return!1;throw Error("Input not found: "+a)},module$exports$Blockly$Block.Block.prototype.getInput=function(a){for(var c,b=0;c=this.inputList[b];b++)if(c.name===a)return c;return null},module$exports$Blockly$Block.Block.prototype.getInputTargetBlock=function(a){return(a=this.getInput(a))&&a.connection&&a.connection.targetBlock()},module$exports$Blockly$Block.Block.prototype.getCommentText=function(){return this.commentModel.text},module$exports$Blockly$Block.Block.prototype.setCommentText=function(a){this.commentModel.text!==a&&((0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CHANGE))(this,"comment",null,this.commentModel.text,a)),this.comment=this.commentModel.text=a)},module$exports$Blockly$Block.Block.prototype.setWarningText=function(a,b){},module$exports$Blockly$Block.Block.prototype.setMutator=function(a){},module$exports$Blockly$Block.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},module$exports$Blockly$Block.Block.prototype.moveBy=function(a,b){if(this.parentBlock_)throw Error("Block has parent.");var c=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.MOVE))(this);this.xy_.translate(a,b),c.recordNew(),(0,module$exports$Blockly$Events$utils.fire)(c)},module$exports$Blockly$Block.Block.prototype.makeConnection_=function(a){return new module$exports$Blockly$Connection.Connection(this,a)},module$exports$Blockly$Block.Block.prototype.allInputsFilled=function(a){if(void 0===a&&(a=!0),!a&&this.isShadow())return!1;for(var c,b=0;c=this.inputList[b];b++)if(c.connection&&(!(c=c.connection.targetBlock())||!c.allInputsFilled(a)))return!1;return!(b=this.getNextBlock())||b.allInputsFilled(a)},module$exports$Blockly$Block.Block.prototype.toDevString=function(){var a=this.type?'"'+this.type+'" block':"Block";return this.id&&(a+=' (id="'+this.id+'")'),a},module$exports$Blockly$Block.Block.COLLAPSED_INPUT_NAME=module$exports$Blockly$constants.COLLAPSED_INPUT_NAME,module$exports$Blockly$Block.Block.COLLAPSED_FIELD_NAME=module$exports$Blockly$constants.COLLAPSED_FIELD_NAME;var module$exports$Blockly$ContextMenuRegistry={ContextMenuRegistry:function(){this.reset()}};module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.prototype.reset=function(){this.registry_=Object.create(null)},module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.prototype.register=function(a){if(this.registry_[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.registry_[a.id]=a},module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.prototype.unregister=function(a){if(!this.registry_[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.registry_[a]},module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.prototype.getItem=function(a){return this.registry_[a]||null},module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.prototype.getContextMenuOptions=function(a,b){var c=[],d=this.registry_;return Object.keys(d).forEach((function(e){if(e=d[e],a===e.scopeType){var f=e.preconditionFn(b);"hidden"!==f&&(e={text:"function"==typeof e.displayText?e.displayText(b):e.displayText,enabled:"enabled"===f,callback:e.callback,scope:b,weight:e.weight},c.push(e))}})),c.sort((function(e,f){return e.weight-f.weight})),c},module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry=new module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry;var module$exports$Blockly$RenderedConnection={RenderedConnection:function(a,b){module$exports$Blockly$Connection.Connection.call(this,a,b),this.db_=a.workspace.connectionDBList[b],this.dbOpposite_=a.workspace.connectionDBList[module$exports$Blockly$internalConstants.OPPOSITE_TYPE[b]],this.offsetInBlock_=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0),this.trackedState_=module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null}};$.$jscomp.inherits(module$exports$Blockly$RenderedConnection.RenderedConnection,module$exports$Blockly$Connection.Connection),module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.dispose=function(){module$exports$Blockly$Connection.Connection.prototype.dispose.call(this),this.trackedState_===module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.getSourceBlock=function(){return module$exports$Blockly$Connection.Connection.prototype.getSourceBlock.call(this)},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.targetBlock=function(){return module$exports$Blockly$Connection.Connection.prototype.targetBlock.call(this)},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.distanceFrom=function(a){var b=this.x-a.x;return a=this.y-a.y,Math.sqrt(b*b+a*a)},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.bumpAwayFrom=function(a){if(!this.sourceBlock_.workspace.isDragging()){var b=this.sourceBlock_.getRootBlock();if(!b.isInFlyout){var c=!1;if(!b.isMovable()){if(!(b=a.getSourceBlock().getRootBlock()).isMovable())return;a=this,c=!0}var d=(0,$.module$exports$Blockly$common.getSelected)()==b;d||b.addSelect();var e=a.x+$.module$exports$Blockly$config.config.snapRadius+Math.floor(10*Math.random())-this.x,f=a.y+$.module$exports$Blockly$config.config.snapRadius+Math.floor(10*Math.random())-this.y;c&&(f=-f),b.RTL&&(e=a.x-$.module$exports$Blockly$config.config.snapRadius-Math.floor(10*Math.random())-this.x),b.moveBy(e,f),d||b.removeSelect()}}},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.moveTo=function(a,b){this.trackedState_===module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,b),this.trackedState_=module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState.TRACKED):this.trackedState_===module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,b)),this.x=a,this.y=b},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.moveBy=function(a,b){this.moveTo(this.x+a,this.y+b)},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.moveToOffset=function(a){this.moveTo(a.x+this.offsetInBlock_.x,a.y+this.offsetInBlock_.y)},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.setOffsetInBlock=function(a,b){this.offsetInBlock_.x=a,this.offsetInBlock_.y=b},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.tighten=function(){var a=this.targetConnection.x-this.x,b=this.targetConnection.y-this.y;if(0!==a||0!==b){var c=this.targetBlock(),d=c.getSvgRoot();if(!d)throw Error("block is not rendered.");d=(0,module$exports$Blockly$utils$svgMath.getRelativeXY)(d),c.getSvgRoot().setAttribute("transform","translate("+(d.x-a)+","+(d.y-b)+")"),c.moveConnections(-a,-b)}},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.closest=function(a,b){return this.dbOpposite_.searchForClosest(this,a,b)},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.highlight=function(){var a=this.sourceBlock_.workspace.getRenderer().getConstants(),b=a.shapeFor(this);this.type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||this.type===$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?(a=a.TAB_OFFSET_FROM_TOP,b=(0,module$exports$Blockly$utils$svgPaths.moveBy)(0,-a)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",a)+b.pathDown+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",a)):(a=a.NOTCH_OFFSET_LEFT-a.CORNER_RADIUS,b=(0,module$exports$Blockly$utils$svgPaths.moveBy)(-a,0)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",a)+b.pathLeft+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",a)),a=this.sourceBlock_.getRelativeToSurfaceXY(),module$exports$Blockly$Connection.Connection.highlightedPath_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(this.x-a.x)+","+(this.y-a.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.unhighlight=function(){(0,module$exports$Blockly$utils$dom.removeNode)(module$exports$Blockly$Connection.Connection.highlightedPath_),delete module$exports$Blockly$Connection.Connection.highlightedPath_},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.setTracking=function(a){a&&this.trackedState_===module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState.TRACKED||!a&&this.trackedState_===module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(a?(this.db_.addConnection(this,this.y),this.trackedState_=module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState.TRACKED):(this.trackedState_===module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState.UNTRACKED))},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var a=this.targetBlock().getDescendants(!1),b=0;b<a.length;b++){for(var c=a[b],d=c.getConnections_(!0),e=0;e<d.length;e++)d[e].setTracking(!1);for(c=c.getIcons(),d=0;d<c.length;d++)c[d].setVisible(!1)}},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var a=[];if(this.type!==$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&this.type!==$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)return a;var b=this.targetBlock();if(b){if(b.isCollapsed()){var c=[];b.outputConnection&&c.push(b.outputConnection),b.nextConnection&&c.push(b.nextConnection),b.previousConnection&&c.push(b.previousConnection)}else c=b.getConnections_(!0);for(var d=0;d<c.length;d++)a.push.apply(a,c[d].startTrackingAll());a.length||(a=[b])}return a},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.onFailedConnect=function(a){var b=this.getSourceBlock();if((0,module$exports$Blockly$Events$utils.getRecordUndo)()){var c=(0,module$exports$Blockly$Events$utils.getGroup)();setTimeout(function(){b.isDisposed()||b.getParent()||((0,module$exports$Blockly$Events$utils.setGroup)(c),this.bumpAwayFrom(a),(0,module$exports$Blockly$Events$utils.setGroup)(!1))}.bind(this),$.module$exports$Blockly$config.config.bumpDelay)}},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.disconnectInternal_=function(a,b){module$exports$Blockly$Connection.Connection.prototype.disconnectInternal_.call(this,a,b),a.rendered&&a.render(),b.rendered&&(b.updateDisabled(),b.render(),b.getSvgRoot().style.display="block")},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.respawnShadow_=function(){module$exports$Blockly$Connection.Connection.prototype.respawnShadow_.call(this);var a=this.targetBlock();a&&(a.initSvg(),a.render(!1),(a=this.getSourceBlock()).rendered&&a.render())},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.neighbours=function(a){return this.dbOpposite_.getNeighbours(this,a)},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.connect_=function(a){module$exports$Blockly$Connection.Connection.prototype.connect_.call(this,a);var b=this.getSourceBlock();a=a.getSourceBlock();var c=b.rendered,d=a.rendered;c&&b.updateDisabled(),d&&a.updateDisabled(),c&&d&&(this.type===$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT||this.type===$.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT?a.render():b.render()),(b=b.getInputWithBlock(a))&&(b=b.isVisible(),a.getSvgRoot().style.display=b?"block":"none")},module$exports$Blockly$RenderedConnection.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},module$exports$Blockly$RenderedConnection.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1};var module$exports$Blockly$Marker={Marker:function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"}};module$exports$Blockly$Marker.Marker.prototype.setDrawer=function(a){this.drawer_=a},module$exports$Blockly$Marker.Marker.prototype.getDrawer=function(){return this.drawer_},module$exports$Blockly$Marker.Marker.prototype.getCurNode=function(){return this.curNode_},module$exports$Blockly$Marker.Marker.prototype.setCurNode=function(a){var b=this.curNode_;this.curNode_=a,this.drawer_&&this.drawer_.draw(b,this.curNode_)},module$exports$Blockly$Marker.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},module$exports$Blockly$Marker.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},module$exports$Blockly$Marker.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()};var module$exports$Blockly$Cursor={Cursor:function(){module$exports$Blockly$Marker.Marker.call(this),this.type="cursor"}};$.$jscomp.inherits(module$exports$Blockly$Cursor.Cursor,module$exports$Blockly$Marker.Marker),module$exports$Blockly$Cursor.Cursor.prototype.next=function(){var a=this.getCurNode();if(!a)return null;for(a=a.next();a&&a.next()&&(a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.NEXT||a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.BLOCK);)a=a.next();return a&&this.setCurNode(a),a},module$exports$Blockly$Cursor.Cursor.prototype.in=function(){var a=this.getCurNode();return a?(a.getType()!==module$exports$Blockly$ASTNode.ASTNode.types.PREVIOUS&&a.getType()!==module$exports$Blockly$ASTNode.ASTNode.types.OUTPUT||(a=a.next()),(a=a.in())&&this.setCurNode(a),a):null},module$exports$Blockly$Cursor.Cursor.prototype.prev=function(){var a=this.getCurNode();if(!a)return null;for(a=a.prev();a&&a.prev()&&(a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.NEXT||a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.BLOCK);)a=a.prev();return a&&this.setCurNode(a),a},module$exports$Blockly$Cursor.Cursor.prototype.out=function(){var a=this.getCurNode();return a?((a=a.out())&&a.getType()===module$exports$Blockly$ASTNode.ASTNode.types.BLOCK&&(a=a.prev()||a),a&&this.setCurNode(a),a):null},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.CURSOR,module$exports$Blockly$registry.DEFAULT,module$exports$Blockly$Cursor.Cursor);var module$exports$Blockly$BasicCursor={BasicCursor:function(){module$exports$Blockly$Cursor.Cursor.call(this)}};$.$jscomp.inherits(module$exports$Blockly$BasicCursor.BasicCursor,module$exports$Blockly$Cursor.Cursor),module$exports$Blockly$BasicCursor.BasicCursor.prototype.next=function(){var a=this.getCurNode();return a?((a=this.getNextNode_(a,this.validNode_))&&this.setCurNode(a),a):null},module$exports$Blockly$BasicCursor.BasicCursor.prototype.in=function(){return this.next()},module$exports$Blockly$BasicCursor.BasicCursor.prototype.prev=function(){var a=this.getCurNode();return a?((a=this.getPreviousNode_(a,this.validNode_))&&this.setCurNode(a),a):null},module$exports$Blockly$BasicCursor.BasicCursor.prototype.out=function(){return this.prev()},module$exports$Blockly$BasicCursor.BasicCursor.prototype.getNextNode_=function(a,b){if(!a)return null;var c=a.in()||a.next();return b(c)?c:c?this.getNextNode_(c,b):b(a=this.findSiblingOrParent_(a.out()))?a:a?this.getNextNode_(a,b):null},module$exports$Blockly$BasicCursor.BasicCursor.prototype.getPreviousNode_=function(a,b){if(!a)return null;var c=a.prev();return b(c=c?this.getRightMostChild_(c):a.out())?c:c?this.getPreviousNode_(c,b):null},module$exports$Blockly$BasicCursor.BasicCursor.prototype.validNode_=function(a){var b=!1;return(a=a&&a.getType())!==module$exports$Blockly$ASTNode.ASTNode.types.OUTPUT&&a!==module$exports$Blockly$ASTNode.ASTNode.types.INPUT&&a!==module$exports$Blockly$ASTNode.ASTNode.types.FIELD&&a!==module$exports$Blockly$ASTNode.ASTNode.types.NEXT&&a!==module$exports$Blockly$ASTNode.ASTNode.types.PREVIOUS&&a!==module$exports$Blockly$ASTNode.ASTNode.types.WORKSPACE||(b=!0),b},module$exports$Blockly$BasicCursor.BasicCursor.prototype.findSiblingOrParent_=function(a){if(!a)return null;var b=a.next();return b||this.findSiblingOrParent_(a.out())},module$exports$Blockly$BasicCursor.BasicCursor.prototype.getRightMostChild_=function(a){if(!a.in())return a;for(a=a.in();a.next();)a=a.next();return this.getRightMostChild_(a)},module$exports$Blockly$BasicCursor.BasicCursor.registrationName="basicCursor",(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.CURSOR,module$exports$Blockly$BasicCursor.BasicCursor.registrationName,module$exports$Blockly$BasicCursor.BasicCursor);var module$exports$Blockly$TabNavigateCursor={TabNavigateCursor:function(){module$exports$Blockly$BasicCursor.BasicCursor.apply(this,arguments)}};$.$jscomp.inherits(module$exports$Blockly$TabNavigateCursor.TabNavigateCursor,module$exports$Blockly$BasicCursor.BasicCursor),module$exports$Blockly$TabNavigateCursor.TabNavigateCursor.prototype.validNode_=function(a){var b=!1,c=a&&a.getType();return a&&(a=a.getLocation(),c===module$exports$Blockly$ASTNode.ASTNode.types.FIELD&&a&&a.isTabNavigable()&&a.isClickable()&&(b=!0)),b};var module$exports$Blockly$Events$Selected={Selected:function(a,b,c){module$exports$Blockly$Events$UiBase.UiBase.call(this,c),this.oldElementId=a,this.newElementId=b,this.type=module$exports$Blockly$Events$utils.SELECTED}};$.$jscomp.inherits(module$exports$Blockly$Events$Selected.Selected,module$exports$Blockly$Events$UiBase.UiBase),module$exports$Blockly$Events$Selected.Selected.prototype.toJson=function(){var a=module$exports$Blockly$Events$UiBase.UiBase.prototype.toJson.call(this);return a.oldElementId=this.oldElementId,a.newElementId=this.newElementId,a},module$exports$Blockly$Events$Selected.Selected.prototype.fromJson=function(a){module$exports$Blockly$Events$UiBase.UiBase.prototype.fromJson.call(this,a),this.oldElementId=a.oldElementId,this.newElementId=a.newElementId},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.SELECTED,module$exports$Blockly$Events$Selected.Selected);var module$exports$Blockly$BlockSvg={BlockSvg:function(a,b,c){module$exports$Blockly$Block.Block.call(this,a,b,c),this.decompose=this.decompose,this.compose=this.compose,this.saveConnections=this.saveConnections,this.customContextMenu=this.customContextMenu,this.renderingDebugger=null,this.width=this.height=0,this.warning=this.commentIcon_=this.comment=this.mutator=this.warningTextDb_=null,this.svgGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{},null),this.svgGroup_.translate_="",this.style=a.getRenderer().getConstants().getBlockStyle(null),this.pathObject=a.getRenderer().makePathObject(this.svgGroup_,this.style),this.eventsInit_=this.renderIsInProgress_=this.rendered=!1,this.useDragSurface_=(0,module$exports$Blockly$utils$svgMath.is3dSupported)()&&!!a.getBlockDragSurface(),(a=this.pathObject.svgPath).tooltip=this,(0,module$exports$Blockly$Tooltip.bindMouseEvents)(a),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:module$exports$Blockly$utils$userAgent.IE&&this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}};$.$jscomp.inherits(module$exports$Blockly$BlockSvg.BlockSvg,module$exports$Blockly$Block.Block),module$exports$Blockly$BlockSvg.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var b,a=0;b=this.inputList[a];a++)b.init();for(a=this.getIcons(),b=0;b<a.length;b++)a[b].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),a=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!a||(0,module$exports$Blockly$browserEvents.conditionalBind)(a,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,a.parentNode||this.workspace.getCanvas().appendChild(a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},module$exports$Blockly$BlockSvg.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if((0,$.module$exports$Blockly$common.getSelected)()!==this){var a=null;if((0,$.module$exports$Blockly$common.getSelected)()){a=(0,$.module$exports$Blockly$common.getSelected)().id,(0,module$exports$Blockly$Events$utils.disable)();try{(0,$.module$exports$Blockly$common.getSelected)().unselect()}finally{(0,module$exports$Blockly$Events$utils.enable)()}}a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.SELECTED))(a,this.id,this.workspace.id),(0,module$exports$Blockly$Events$utils.fire)(a),(0,$.module$exports$Blockly$common.setSelected)(this),this.addSelect()}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.unselect=function(){if((0,$.module$exports$Blockly$common.getSelected)()===this){var a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.SELECTED))(this.id,null,this.workspace.id);a.workspaceId=this.workspace.id,(0,module$exports$Blockly$Events$utils.fire)(a),(0,$.module$exports$Blockly$common.setSelected)(null),this.removeSelect()}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getIcons=function(){var a=[];return this.mutator&&a.push(this.mutator),this.commentIcon_&&a.push(this.commentIcon_),this.warning&&a.push(this.warning),a},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setParent=function(a){var b=this.parentBlock_;if(a!==b){(0,module$exports$Blockly$utils$dom.startTextWidthCache)(),module$exports$Blockly$Block.Block.prototype.setParent.call(this,a),(0,module$exports$Blockly$utils$dom.stopTextWidthCache)();var c=this.getSvgRoot();if(!this.workspace.isClearing&&c){var d=this.getRelativeToSurfaceXY();a?(a.getSvgRoot().appendChild(c),a=this.getRelativeToSurfaceXY(),this.moveConnections(a.x-d.x,a.y-d.y)):b&&(this.workspace.getCanvas().appendChild(c),this.translate(d.x,d.y)),this.applyColour()}}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var a=0,b=0,c=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,d=this.getSvgRoot();if(d)do{var e=(0,module$exports$Blockly$utils$svgMath.getRelativeXY)(d);a+=e.x,b+=e.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===d&&(a+=(e=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,b+=e.y),d=d.parentNode}while(d&&d!==this.workspace.getCanvas()&&d!==c);return new module$exports$Blockly$utils$Coordinate.Coordinate(a,b)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.moveBy=function(a,b){if(this.parentBlock_)throw Error("Block has parent.");var d,c=(0,module$exports$Blockly$Events$utils.isEnabled)();c&&(d=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.MOVE))(this));var e=this.getRelativeToSurfaceXY();this.translate(e.x+a,e.y+b),this.moveConnections(a,b),c&&(d.recordNew(),(0,module$exports$Blockly$Events$utils.fire)(d)),this.workspace.resizeContents()},module$exports$Blockly$BlockSvg.BlockSvg.prototype.translate=function(a,b){this.getSvgRoot().setAttribute("transform","translate("+a+","+b+")")},module$exports$Blockly$BlockSvg.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var a=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(a.x,a.y),(a=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(a)}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.moveTo=function(a){var b=this.getRelativeToSurfaceXY();this.moveBy(a.x-b.x,a.y-b.y)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.moveOffDragSurface=function(a){this.useDragSurface_&&(this.translate(a.x,a.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},module$exports$Blockly$BlockSvg.BlockSvg.prototype.moveDuringDrag=function(a){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(a.x,a.y):(this.svgGroup_.translate_="translate("+a.x+","+a.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},module$exports$Blockly$BlockSvg.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},module$exports$Blockly$BlockSvg.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var a=this.workspace.getGrid();if(a&&a.shouldSnap()){var b=a.getSpacing(),c=b/2,d=this.getRelativeToSurfaceXY();a=Math.round(Math.round((d.x-c)/b)*b+c-d.x),b=Math.round(Math.round((d.y-c)/b)*b+c-d.y),(a||b)&&this.moveBy(a,b)}}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getBoundingRectangle=function(){var a=this.getRelativeToSurfaceXY(),b=this.getHeightWidth();if(this.RTL)var c=a.x-b.width,d=a.x;else c=a.x,d=a.x+b.width;return new module$exports$Blockly$utils$Rect.Rect(a.y,a.y+b.height,c,d)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var b,a=0;b=this.inputList[a];a++)b.markDirty()},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setCollapsed=function(a){this.collapsed_!==a&&(module$exports$Blockly$Block.Block.prototype.setCollapsed.call(this,a),a?this.rendered&&this.render():this.updateCollapsed_())},module$exports$Blockly$BlockSvg.BlockSvg.prototype.updateCollapsed_=function(){for(var e,a=this.isCollapsed(),b=module$exports$Blockly$constants.COLLAPSED_INPUT_NAME,c=module$exports$Blockly$constants.COLLAPSED_FIELD_NAME,d=0;e=this.inputList[d];d++)e.name!==b&&e.setVisible(!a);if(a){for(a=this.getIcons(),d=0;e=a[d];d++)e.setVisible(!1);a=this.toString(module$exports$Blockly$internalConstants.COLLAPSE_CHARS),(d=this.getField(c))?d.setValue(a):(this.getInput(b)||this.appendDummyInput(b)).appendField(new $.module$exports$Blockly$FieldLabel.FieldLabel(a),c)}else this.updateDisabled(),this.removeInput(b)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.tab=function(a,b){var c=new module$exports$Blockly$TabNavigateCursor.TabNavigateCursor;c.setCurNode(module$exports$Blockly$ASTNode.ASTNode.createFieldNode(a)),a=c.getCurNode(),b?c.next():c.prev(),(b=c.getCurNode())&&b!==a&&(b.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(b))},module$exports$Blockly$BlockSvg.BlockSvg.prototype.onMouseDown_=function(a){var b=this.workspace&&this.workspace.getGesture(a);b&&b.handleBlockStart(a,this)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.showHelp=function(){var a="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;a&&window.open(a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var a=module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.getContextMenuOptions(module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(a),a},module$exports$Blockly$BlockSvg.BlockSvg.prototype.showContextMenu=function(a){var b=this.generateContextMenu();b&&b.length&&((0,$.module$exports$Blockly$ContextMenu.show)(a,b,this.RTL),(0,$.module$exports$Blockly$ContextMenu.setCurrentBlock)(this))},module$exports$Blockly$BlockSvg.BlockSvg.prototype.moveConnections=function(a,b){if(this.rendered){for(var c=this.getConnections_(!1),d=0;d<c.length;d++)c[d].moveBy(a,b);for(c=this.getIcons(),d=0;d<c.length;d++)c[d].computeIconLocation();for(c=0;c<this.childBlocks_.length;c++)this.childBlocks_[c].moveConnections(a,b)}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setDragging=function(a){if(a){var b=this.getSvgRoot();b.translate_="",b.skew_="",$.module$exports$Blockly$common.draggingConnections.push.apply($.module$exports$Blockly$common.draggingConnections,$.$jscomp.arrayFromIterable(this.getConnections_(!0))),(0,module$exports$Blockly$utils$dom.addClass)(this.svgGroup_,"blocklyDragging")}else $.module$exports$Blockly$common.draggingConnections.length=0,(0,module$exports$Blockly$utils$dom.removeClass)(this.svgGroup_,"blocklyDragging");for(b=0;b<this.childBlocks_.length;b++)this.childBlocks_[b].setDragging(a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setMovable=function(a){module$exports$Blockly$Block.Block.prototype.setMovable.call(this,a),this.pathObject.updateMovable(a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setEditable=function(a){module$exports$Blockly$Block.Block.prototype.setEditable.call(this,a),a=this.getIcons();for(var b=0;b<a.length;b++)a[b].updateEditable()},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setShadow=function(a){module$exports$Blockly$Block.Block.prototype.setShadow.call(this,a),this.applyColour()},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setInsertionMarker=function(a){this.isInsertionMarker_!==a&&(this.isInsertionMarker_=a)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},module$exports$Blockly$BlockSvg.BlockSvg.prototype.dispose=function(a,b){if(this.workspace){(0,module$exports$Blockly$Tooltip.dispose)(),(0,module$exports$Blockly$Tooltip.unbindMouseEvents)(this.pathObject.svgPath),(0,module$exports$Blockly$utils$dom.startTextWidthCache)();var c=this.workspace;if((0,$.module$exports$Blockly$common.getSelected)()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),(0,$.module$exports$Blockly$ContextMenu.getCurrentBlock)()===this&&(0,$.module$exports$Blockly$ContextMenu.hide)(),b&&this.rendered&&(this.unplug(a),(0,module$exports$Blockly$blockAnimations.disposeUiEffect)(this)),this.rendered=!1,this.warningTextDb_){for(var d in this.warningTextDb_)clearTimeout(this.warningTextDb_[d]);this.warningTextDb_=null}for(b=this.getIcons(),d=0;d<b.length;d++)b[d].dispose();module$exports$Blockly$Block.Block.prototype.dispose.call(this,!!a),(0,module$exports$Blockly$utils$dom.removeNode)(this.svgGroup_),c.resizeContents(),this.svgGroup_=null,(0,module$exports$Blockly$utils$dom.stopTextWidthCache)()}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.checkAndDelete=function(){this.workspace.isFlyout||((0,module$exports$Blockly$Events$utils.setGroup)(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),(0,module$exports$Blockly$Events$utils.setGroup)(!1))},module$exports$Blockly$BlockSvg.BlockSvg.prototype.toCopyData=function(){return this.isInsertionMarker_?null:{saveInfo:(0,module$exports$Blockly$serialization$blocks.save)(this,{addCoordinates:!0,addNextBlocks:!1}),source:this.workspace,typeCounts:(0,$.module$exports$Blockly$common.getBlockTypeCounts)(this,!0)}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var a=this.getIcons(),b=0;b<a.length;b++)a[b].applyColour();for(a=0;b=this.inputList[a];a++)for(var d,c=0;d=b.fieldRow[c];c++)d.applyColour()},module$exports$Blockly$BlockSvg.BlockSvg.prototype.updateDisabled=function(){var a=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var c,b=0;c=a[b];b++)c.rendered&&c.updateDisabled()},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setCommentText=function(a){var b=module$exports$Blockly$Comment.Comment;if(!b)throw Error("Missing require for Blockly.Comment");this.commentModel.text!==a&&(module$exports$Blockly$Block.Block.prototype.setCommentText.call(this,a),a=null!==a,!!this.commentIcon_===a?this.commentIcon_.updateText():(a?this.comment=this.commentIcon_=new b(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setWarningText=function(a,b){var c=module$exports$Blockly$Warning.Warning;if(!c)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var d=b||"";if(d)this.warningTextDb_[d]&&(clearTimeout(this.warningTextDb_[d]),delete this.warningTextDb_[d]);else for(var e=(b=$.$jscomp.makeIterator(Object.keys(this.warningTextDb_))).next();!e.done;e=b.next())e=e.value,clearTimeout(this.warningTextDb_[e]),delete this.warningTextDb_[e];if(this.workspace.isDragging()){var f=this;this.warningTextDb_[d]=setTimeout((function(){f.workspace&&(delete f.warningTextDb_[d],f.setWarningText(a,d))}),100)}else{if(this.isInFlyout&&(a=null),b=!1,"string"==typeof a){e=this.getSurroundParent();for(var g=null;e;)e.isCollapsed()&&(g=e),e=e.getSurroundParent();g&&g.setWarningText($.module$exports$Blockly$Msg.Msg.COLLAPSED_WARNINGS_WARNING,module$exports$Blockly$BlockSvg.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new c(this),b=!0),this.warning.setText(a,d)}else this.warning&&!d?(this.warning.dispose(),b=!0):this.warning&&(c=this.warning.getText(),this.warning.setText("",d),(b=this.warning.getText())||this.warning.dispose(),b=c!==b);b&&this.rendered&&(this.render(),this.bumpNeighbours())}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setMutator=function(a){this.mutator&&this.mutator!==a&&this.mutator.dispose(),a&&(a.setBlock(this),this.mutator=a,a.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setEnabled=function(a){this.isEnabled()!==a&&(module$exports$Blockly$Block.Block.prototype.setEnabled.call(this,a),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setHighlighted=function(a){this.rendered&&this.pathObject.updateHighlighted(a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setDeleteStyle=function(a){this.pathObject.updateDraggingDelete(a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setColour=function(a){module$exports$Blockly$Block.Block.prototype.setColour.call(this,a),a=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(a.style),this.style=a.style,this.styleName_=a.name,this.applyColour()},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setStyle=function(a){var b=this.workspace.getRenderer().getConstants().getBlockStyle(a);if(this.styleName_=a,!b)throw Error("Invalid style name: "+a);this.hat=b.hat,this.pathObject.setStyle(b),this.colour_=b.colourPrimary,this.style=b,this.applyColour()},module$exports$Blockly$BlockSvg.BlockSvg.prototype.bringToFront=function(){var a=this;do{var b=a.getSvgRoot(),c=b.parentNode,d=c.childNodes;d[d.length-1]!==b&&c.appendChild(b),a=a.getParent()}while(a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setPreviousStatement=function(a,b){module$exports$Blockly$Block.Block.prototype.setPreviousStatement.call(this,a,b),this.rendered&&(this.render(),this.bumpNeighbours())},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setNextStatement=function(a,b){module$exports$Blockly$Block.Block.prototype.setNextStatement.call(this,a,b),this.rendered&&(this.render(),this.bumpNeighbours())},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setOutput=function(a,b){module$exports$Blockly$Block.Block.prototype.setOutput.call(this,a,b),this.rendered&&(this.render(),this.bumpNeighbours())},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setInputsInline=function(a){module$exports$Blockly$Block.Block.prototype.setInputsInline.call(this,a),this.rendered&&(this.render(),this.bumpNeighbours())},module$exports$Blockly$BlockSvg.BlockSvg.prototype.removeInput=function(a,b){return a=module$exports$Blockly$Block.Block.prototype.removeInput.call(this,a,b),this.rendered&&(this.render(),this.bumpNeighbours()),a},module$exports$Blockly$BlockSvg.BlockSvg.prototype.moveNumberedInputBefore=function(a,b){module$exports$Blockly$Block.Block.prototype.moveNumberedInputBefore.call(this,a,b),this.rendered&&(this.render(),this.bumpNeighbours())},module$exports$Blockly$BlockSvg.BlockSvg.prototype.appendInput_=function(a,b){return a=module$exports$Blockly$Block.Block.prototype.appendInput_.call(this,a,b),this.rendered&&(this.render(),this.bumpNeighbours()),a},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setConnectionTracking=function(a){if(this.previousConnection&&this.previousConnection.setTracking(a),this.outputConnection&&this.outputConnection.setTracking(a),this.nextConnection){this.nextConnection.setTracking(a);var b=this.nextConnection.targetBlock();b&&b.setConnectionTracking(a)}if(!this.collapsed_)for(b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;c&&(c.setTracking(a),(c=c.targetBlock())&&c.setConnectionTracking(a))}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getConnections_=function(a){var b=[];if((a||this.rendered)&&(this.outputConnection&&b.push(this.outputConnection),this.previousConnection&&b.push(this.previousConnection),this.nextConnection&&b.push(this.nextConnection),a||!this.collapsed_)){a=0;for(var c;c=this.inputList[a];a++)c.connection&&b.push(c.connection)}return b},module$exports$Blockly$BlockSvg.BlockSvg.prototype.lastConnectionInStack=function(a){return module$exports$Blockly$Block.Block.prototype.lastConnectionInStack.call(this,a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getMatchingConnection=function(a,b){return module$exports$Blockly$Block.Block.prototype.getMatchingConnection.call(this,a,b)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.makeConnection_=function(a){return new module$exports$Blockly$RenderedConnection.RenderedConnection(this,a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var a=this.getRootBlock();if(!a.isInFlyout)for(var d,b=this.getConnections_(!1),c=0;d=b[c];c++){var e=d;e.isConnected()&&e.isSuperior()&&e.targetBlock().bumpNeighbours(),d=d.neighbours($.module$exports$Blockly$config.config.snapRadius);for(var g,f=0;g=d[f];f++)e.isConnected()&&g.isConnected()||g.getSourceBlock().getRootBlock()!==a&&(e.isSuperior()?g.bumpAwayFrom(e):e.bumpAwayFrom(g))}}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.scheduleSnapAndBump=function(){var a=this,b=(0,module$exports$Blockly$Events$utils.getGroup)();setTimeout((function(){(0,module$exports$Blockly$Events$utils.setGroup)(b),a.snapToGrid(),(0,module$exports$Blockly$Events$utils.setGroup)(!1)}),$.module$exports$Blockly$config.config.bumpDelay/2),setTimeout((function(){(0,module$exports$Blockly$Events$utils.setGroup)(b),a.bumpNeighbours(),(0,module$exports$Blockly$Events$utils.setGroup)(!1)}),$.module$exports$Blockly$config.config.bumpDelay)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.positionNearConnection=function(a,b){a.type!==$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT&&a.type!==$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||this.moveBy(b.x-a.x,b.y-a.y)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getParent=function(){return module$exports$Blockly$Block.Block.prototype.getParent.call(this)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getSurroundParent=function(){return module$exports$Blockly$Block.Block.prototype.getSurroundParent.call(this)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getNextBlock=function(){return module$exports$Blockly$Block.Block.prototype.getNextBlock.call(this)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getPreviousBlock=function(){return module$exports$Blockly$Block.Block.prototype.getPreviousBlock.call(this)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getFirstStatementConnection=function(){return module$exports$Blockly$Block.Block.prototype.getFirstStatementConnection.call(this)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getTopStackBlock=function(){return module$exports$Blockly$Block.Block.prototype.getTopStackBlock.call(this)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getChildren=function(a){return module$exports$Blockly$Block.Block.prototype.getChildren.call(this,a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getDescendants=function(a){return module$exports$Blockly$Block.Block.prototype.getDescendants.call(this,a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getInputTargetBlock=function(a){return module$exports$Blockly$Block.Block.prototype.getInputTargetBlock.call(this,a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getRootBlock=function(){return module$exports$Blockly$Block.Block.prototype.getRootBlock.call(this)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.render=function(a){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,(0,module$exports$Blockly$utils$dom.startTextWidthCache)(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==a){var b=this.getParent();b?b.render(!0):this.workspace.resizeContents()}(0,module$exports$Blockly$utils$dom.stopTextWidthCache)(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(module$exports$Blockly$MarkerManager.MarkerManager.LOCAL_MARKER).draw()},module$exports$Blockly$BlockSvg.BlockSvg.prototype.updateConnectionLocations_=function(){var a=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(a),this.outputConnection&&this.outputConnection.moveToOffset(a);for(var b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;c&&(c.moveToOffset(a),c.isConnected()&&c.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(a),this.nextConnection.isConnected()&&this.nextConnection.tighten())},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setCursorSvg=function(a){this.pathObject.setCursorSvg(a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.setMarkerSvg=function(a){this.pathObject.setMarkerSvg(a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.getHeightWidth=function(){var a=this.height,b=this.width,c=this.getNextBlock();if(c){c=c.getHeightWidth();var d=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;a+=c.height-d,b=Math.max(b,c.width)}return{height:a,width:b}},module$exports$Blockly$BlockSvg.BlockSvg.prototype.fadeForReplacement=function(a){this.pathObject.updateReplacementFade(a)},module$exports$Blockly$BlockSvg.BlockSvg.prototype.highlightShapeForInput=function(a,b){this.pathObject.updateShapeForInputHighlight(a,b)},module$exports$Blockly$BlockSvg.BlockSvg.INLINE=-1,module$exports$Blockly$BlockSvg.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var module$exports$Blockly$ConnectionDB={ConnectionDB:function(a){this.connections_=[],this.connectionChecker_=a}};module$exports$Blockly$ConnectionDB.ConnectionDB.prototype.addConnection=function(a,b){b=this.calculateIndexForYPos_(b),this.connections_.splice(b,0,a)},module$exports$Blockly$ConnectionDB.ConnectionDB.prototype.findIndexOfConnection_=function(a,b){if(!this.connections_.length)return-1;var c=this.calculateIndexForYPos_(b);if(c>=this.connections_.length)return-1;b=a.y;for(var d=c;0<=d&&this.connections_[d].y===b;){if(this.connections_[d]===a)return d;d--}for(d=c;d<this.connections_.length&&this.connections_[d].y===b;){if(this.connections_[d]===a)return d;d++}return-1},module$exports$Blockly$ConnectionDB.ConnectionDB.prototype.calculateIndexForYPos_=function(a){if(!this.connections_.length)return 0;for(var b=0,c=this.connections_.length;b<c;){var d=Math.floor((b+c)/2);if(this.connections_[d].y<a)b=d+1;else{if(!(this.connections_[d].y>a)){b=d;break}c=d}}return b},module$exports$Blockly$ConnectionDB.ConnectionDB.prototype.removeConnection=function(a,b){if(-1===(a=this.findIndexOfConnection_(a,b)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(a,1)},module$exports$Blockly$ConnectionDB.ConnectionDB.prototype.getNeighbours=function(a,b){function c(l){var m=e-d[l].x,n=f-d[l].y;return Math.sqrt(m*m+n*n)<=b&&k.push(d[l]),n<b}var d=this.connections_,e=a.x,f=a.y;a=0;for(var g=d.length-2,h=g;a<h;)d[h].y<f?a=h:g=h,h=Math.floor((a+g)/2);var k=[];if(g=a=h,d.length){for(;0<=a&&c(a);)a--;do{g++}while(g<d.length&&c(g))}return k},module$exports$Blockly$ConnectionDB.ConnectionDB.prototype.isInYRange_=function(a,b,c){return Math.abs(this.connections_[a].y-b)<=c},module$exports$Blockly$ConnectionDB.ConnectionDB.prototype.searchForClosest=function(a,b,c){if(!this.connections_.length)return{connection:null,radius:b};var d=a.y,e=a.x;a.x=e+c.x,a.y=d+c.y;var f=this.calculateIndexForYPos_(a.y);c=null;for(var h,g=b,k=f-1;0<=k&&this.isInYRange_(k,a.y,b);)h=this.connections_[k],this.connectionChecker_.canConnect(a,h,!0,g)&&(c=h,g=h.distanceFrom(a)),k--;for(;f<this.connections_.length&&this.isInYRange_(f,a.y,b);)h=this.connections_[f],this.connectionChecker_.canConnect(a,h,!0,g)&&(c=h,g=h.distanceFrom(a)),f++;return a.x=e,a.y=d,{connection:c,radius:g}},module$exports$Blockly$ConnectionDB.ConnectionDB.init=function(a){var b=[];return b[$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE]=new module$exports$Blockly$ConnectionDB.ConnectionDB(a),b[$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE]=new module$exports$Blockly$ConnectionDB.ConnectionDB(a),b[$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT]=new module$exports$Blockly$ConnectionDB.ConnectionDB(a),b[$.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT]=new module$exports$Blockly$ConnectionDB.ConnectionDB(a),b};var module$exports$Blockly$ThemeManager={ThemeManager:function(a,b){this.workspace_=a,this.theme_=b,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)}};module$exports$Blockly$ThemeManager.ThemeManager.prototype.getTheme=function(){return this.theme_},module$exports$Blockly$ThemeManager.ThemeManager.prototype.setTheme=function(a){var c,b=this.theme_;for(this.theme_=a,(a=this.workspace_.getInjectionDiv())&&(b&&(0,module$exports$Blockly$utils$dom.removeClass)(a,b.getClassName()),(0,module$exports$Blockly$utils$dom.addClass)(a,this.theme_.getClassName())),b=0;a=this.subscribedWorkspaces_[b];b++)a.refreshTheme();for(b=0,a=Object.keys(this.componentDB_);c=a[b];b++)for(var e,d=0;e=this.componentDB_[c][d];d++){var f=e.element;e=e.propertyName;var g=this.theme_&&this.theme_.getComponentStyle(c);f.style[e]=g||""}for(a=(b=$.$jscomp.makeIterator(this.subscribedWorkspaces_)).next();!a.done;a=b.next())a.value.hideChaff()},module$exports$Blockly$ThemeManager.ThemeManager.prototype.subscribeWorkspace=function(a){this.subscribedWorkspaces_.push(a)},module$exports$Blockly$ThemeManager.ThemeManager.prototype.unsubscribeWorkspace=function(a){if(!module$exports$Blockly$utils$array_removeElem(this.subscribedWorkspaces_,a))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")},module$exports$Blockly$ThemeManager.ThemeManager.prototype.subscribe=function(a,b,c){this.componentDB_[b]||(this.componentDB_[b]=[]),this.componentDB_[b].push({element:a,propertyName:c}),b=this.theme_&&this.theme_.getComponentStyle(b),a.style[c]=b||""},module$exports$Blockly$ThemeManager.ThemeManager.prototype.unsubscribe=function(a){if(a)for(var d,b=Object.keys(this.componentDB_),c=0;d=b[c];c++){for(var e=this.componentDB_[d],f=e.length-1;0<=f;f--)e[f].element===a&&e.splice(f,1);this.componentDB_[d].length||delete this.componentDB_[d]}},module$exports$Blockly$ThemeManager.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null};var module$exports$Blockly$TouchGesture={TouchGesture:function(a,b){module$exports$Blockly$Gesture.Gesture.call(this,a,b),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null}};$.$jscomp.inherits(module$exports$Blockly$TouchGesture.TouchGesture,module$exports$Blockly$Gesture.Gesture),module$exports$Blockly$TouchGesture.TouchGesture.prototype.doStart=function(a){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,module$exports$Blockly$Gesture.Gesture.prototype.doStart.call(this,a),!this.isEnding_&&(0,module$exports$Blockly$Touch.isTouchEvent)(a)&&this.handleTouchStart(a)},module$exports$Blockly$TouchGesture.TouchGesture.prototype.bindMouseEvents=function(a){this.onStartWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mouseup",null,this.handleUp.bind(this),!0),a.preventDefault(),a.stopPropagation()},module$exports$Blockly$TouchGesture.TouchGesture.prototype.handleStart=function(a){!this.isDragging()&&(0,module$exports$Blockly$Touch.isTouchEvent)(a)&&(this.handleTouchStart(a),this.isMultiTouch()&&(0,module$exports$Blockly$Touch.longStop)())},module$exports$Blockly$TouchGesture.TouchGesture.prototype.handleMove=function(a){this.isDragging()?(0,module$exports$Blockly$Touch.shouldHandleEvent)(a)&&module$exports$Blockly$Gesture.Gesture.prototype.handleMove.call(this,a):this.isMultiTouch()?((0,module$exports$Blockly$Touch.isTouchEvent)(a)&&this.handleTouchMove(a),(0,module$exports$Blockly$Touch.longStop)()):module$exports$Blockly$Gesture.Gesture.prototype.handleMove.call(this,a)},module$exports$Blockly$TouchGesture.TouchGesture.prototype.handleUp=function(a){(0,module$exports$Blockly$Touch.isTouchEvent)(a)&&!this.isDragging()&&this.handleTouchEnd(a),!this.isMultiTouch()||this.isDragging()?(0,module$exports$Blockly$Touch.shouldHandleEvent)(a)&&module$exports$Blockly$Gesture.Gesture.prototype.handleUp.call(this,a):(a.preventDefault(),a.stopPropagation(),this.dispose())},module$exports$Blockly$TouchGesture.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},module$exports$Blockly$TouchGesture.TouchGesture.prototype.dispose=function(){module$exports$Blockly$Gesture.Gesture.prototype.dispose.call(this),this.onStartWrapper_&&(0,module$exports$Blockly$browserEvents.unbind)(this.onStartWrapper_)},module$exports$Blockly$TouchGesture.TouchGesture.prototype.handleTouchStart=function(a){var b=(0,module$exports$Blockly$Touch.getTouchIdentifierFromEvent)(a);this.cachedPoints_[b]=this.getTouchPoint(a),2===(b=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=module$exports$Blockly$utils$Coordinate.Coordinate.distance(this.cachedPoints_[b[0]],this.cachedPoints_[b[1]]),this.isMultiTouch_=!0,a.preventDefault())},module$exports$Blockly$TouchGesture.TouchGesture.prototype.handleTouchMove=function(a){var b=(0,module$exports$Blockly$Touch.getTouchIdentifierFromEvent)(a);this.cachedPoints_[b]=this.getTouchPoint(a),b=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===b.length?this.handlePinch_(a):module$exports$Blockly$Gesture.Gesture.prototype.handleMove.call(this,a)},module$exports$Blockly$TouchGesture.TouchGesture.prototype.handlePinch_=function(a){var b=Object.keys(this.cachedPoints_);if(b=module$exports$Blockly$utils$Coordinate.Coordinate.distance(this.cachedPoints_[b[0]],this.cachedPoints_[b[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var c=b-this.previousScale_;c=0<c?5*c:6*c;var d=this.startWorkspace_,e=(0,module$exports$Blockly$browserEvents.mouseToSvg)(a,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(e.x,e.y,c)}this.previousScale_=b,a.preventDefault()},module$exports$Blockly$TouchGesture.TouchGesture.prototype.handleTouchEnd=function(a){a=(0,module$exports$Blockly$Touch.getTouchIdentifierFromEvent)(a),this.cachedPoints_[a]&&delete this.cachedPoints_[a],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},module$exports$Blockly$TouchGesture.TouchGesture.prototype.getTouchPoint=function(a){return this.startWorkspace_?new module$exports$Blockly$utils$Coordinate.Coordinate(a.changedTouches?a.changedTouches[0].pageX:a.pageX,a.changedTouches?a.changedTouches[0].pageY:a.pageY):null};var module$exports$Blockly$WorkspaceAudio={WorkspaceAudio:function(a){this.parentWorkspace_=a,this.SOUNDS_=Object.create(null),this.lastSound_=null}};module$exports$Blockly$WorkspaceAudio.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},module$exports$Blockly$WorkspaceAudio.WorkspaceAudio.prototype.load=function(a,b){if(a.length){try{var c=new $.module$exports$Blockly$utils$global.globalThis.Audio}catch(h){return}for(var d,e=0;e<a.length;e++){var f=a[e],g=f.match(/\.(\w+)$/);if(g&&c.canPlayType("audio/"+g[1])){d=new $.module$exports$Blockly$utils$global.globalThis.Audio(f);break}}d&&d.play&&(this.SOUNDS_[b]=d)}},module$exports$Blockly$WorkspaceAudio.WorkspaceAudio.prototype.preload=function(){for(var a in this.SOUNDS_){var b=this.SOUNDS_[a];b.volume=.01;var c=b.play();if(void 0!==c?c.then(b.pause).catch((function(){})):b.pause(),module$exports$Blockly$utils$userAgent.IPAD||module$exports$Blockly$utils$userAgent.IPHONE)break}},module$exports$Blockly$WorkspaceAudio.WorkspaceAudio.prototype.play=function(a,b){var c=this.SOUNDS_[a];c?(a=new Date,null!==this.lastSound_&&a-this.lastSound_<100||(this.lastSound_=a,(c=module$exports$Blockly$utils$userAgent.IPAD||module$exports$Blockly$utils$userAgent.ANDROID?c:c.cloneNode()).volume=void 0===b?1:b,c.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(a,b)};var module$exports$Blockly$Events$ThemeChange={ThemeChange:function(a,b){module$exports$Blockly$Events$UiBase.UiBase.call(this,b),this.themeName=a,this.type=module$exports$Blockly$Events$utils.THEME_CHANGE}};$.$jscomp.inherits(module$exports$Blockly$Events$ThemeChange.ThemeChange,module$exports$Blockly$Events$UiBase.UiBase),module$exports$Blockly$Events$ThemeChange.ThemeChange.prototype.toJson=function(){var a=module$exports$Blockly$Events$UiBase.UiBase.prototype.toJson.call(this);return a.themeName=this.themeName,a},module$exports$Blockly$Events$ThemeChange.ThemeChange.prototype.fromJson=function(a){module$exports$Blockly$Events$UiBase.UiBase.prototype.fromJson.call(this,a),this.themeName=a.themeName},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.THEME_CHANGE,module$exports$Blockly$Events$ThemeChange.ThemeChange);var module$exports$Blockly$Events$ViewportChange={ViewportChange:function(a,b,c,d,e){module$exports$Blockly$Events$UiBase.UiBase.call(this,d),this.viewTop=a,this.viewLeft=b,this.scale=c,this.oldScale=e,this.type=module$exports$Blockly$Events$utils.VIEWPORT_CHANGE}};$.$jscomp.inherits(module$exports$Blockly$Events$ViewportChange.ViewportChange,module$exports$Blockly$Events$UiBase.UiBase),module$exports$Blockly$Events$ViewportChange.ViewportChange.prototype.toJson=function(){var a=module$exports$Blockly$Events$UiBase.UiBase.prototype.toJson.call(this);return a.viewTop=this.viewTop,a.viewLeft=this.viewLeft,a.scale=this.scale,a.oldScale=this.oldScale,a},module$exports$Blockly$Events$ViewportChange.ViewportChange.prototype.fromJson=function(a){module$exports$Blockly$Events$UiBase.UiBase.prototype.fromJson.call(this,a),this.viewTop=a.viewTop,this.viewLeft=a.viewLeft,this.scale=a.scale,this.oldScale=a.oldScale},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.VIEWPORT_CHANGE,module$exports$Blockly$Events$ViewportChange.ViewportChange);var module$exports$Blockly$MetricsManager={MetricsManager:function(a){this.workspace_=a}};module$exports$Blockly$MetricsManager.MetricsManager.prototype.getDimensionsPx_=function(a){var b=0,c=0;return a&&(b=a.getWidth(),c=a.getHeight()),new module$exports$Blockly$utils$Size.Size(b,c)},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getFlyoutMetrics=function(a){return{width:(a=this.getDimensionsPx_(this.workspace_.getFlyout(a))).width,height:a.height,position:this.workspace_.toolboxPosition}},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getToolboxMetrics=function(){var a=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:a.width,height:a.height,position:this.workspace_.toolboxPosition}},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getAbsoluteMetrics=function(){var a=0,b=this.getToolboxMetrics(),c=this.getFlyoutMetrics(!0),d=!!this.workspace_.getToolbox(),e=!!this.workspace_.getFlyout(!0),f=d?b.position:c.position,g=f===module$exports$Blockly$utils$toolbox.Position.LEFT;return f=f===module$exports$Blockly$utils$toolbox.Position.TOP,d&&g?a=b.width:e&&g&&(a=c.width),g=0,d&&f?g=b.height:e&&f&&(g=c.height),{top:g,left:a}},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getViewMetrics=function(a){a=a?this.workspace_.scale:1;var b=this.getSvgMetrics(),c=this.getToolboxMetrics(),d=this.getFlyoutMetrics(!0),e=this.workspace_.getToolbox()?c.position:d.position;return this.workspace_.getToolbox()?e===module$exports$Blockly$utils$toolbox.Position.TOP||e===module$exports$Blockly$utils$toolbox.Position.BOTTOM?b.height-=c.height:e!==module$exports$Blockly$utils$toolbox.Position.LEFT&&e!==module$exports$Blockly$utils$toolbox.Position.RIGHT||(b.width-=c.width):this.workspace_.getFlyout(!0)&&(e===module$exports$Blockly$utils$toolbox.Position.TOP||e===module$exports$Blockly$utils$toolbox.Position.BOTTOM?b.height-=d.height:e!==module$exports$Blockly$utils$toolbox.Position.LEFT&&e!==module$exports$Blockly$utils$toolbox.Position.RIGHT||(b.width-=d.width)),{height:b.height/a,width:b.width/a,top:-this.workspace_.scrollY/a,left:-this.workspace_.scrollX/a}},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getContentMetrics=function(a){a=a?1:this.workspace_.scale;var b=this.workspace_.getBlocksBoundingBox();return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}},module$exports$Blockly$MetricsManager.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getComputedFixedEdges_=function(a){if(!this.hasFixedEdges())return{};var b=this.workspace_.isMovableHorizontally(),c=this.workspace_.isMovableVertically();a=a||this.getViewMetrics(!1);var d={};return c||(d.top=a.top,d.bottom=a.top+a.height),b||(d.left=a.left,d.right=a.left+a.width),d},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getPaddedContent_=function(a,b){var c=b.top+b.height,d=b.left+b.width,e=a.width,f=e/2,g=(a=a.height)/2;return{top:Math.min(b.top-g,c-a),bottom:Math.max(c+g,b.top+a),left:Math.min(b.left-f,d-e),right:Math.max(d+f,b.left+e)}},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getScrollMetrics=function(a,b,c){a=a?this.workspace_.scale:1,b=b||this.getViewMetrics(!1);var d=c||this.getContentMetrics();c=this.getComputedFixedEdges_(b),b=this.getPaddedContent_(b,d),d=void 0!==c.top?c.top:b.top;var e=void 0!==c.left?c.left:b.left;return{top:d/a,left:e/a,width:((void 0!==c.right?c.right:b.right)-e)/a,height:((void 0!==c.bottom?c.bottom:b.bottom)-d)/a}},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},module$exports$Blockly$MetricsManager.MetricsManager.prototype.getMetrics=function(){var a=this.getToolboxMetrics(),b=this.getFlyoutMetrics(!0),c=this.getSvgMetrics(),d=this.getAbsoluteMetrics(),e=this.getViewMetrics(),f=this.getContentMetrics(),g=this.getScrollMetrics(!1,e,f);return{contentHeight:f.height,contentWidth:f.width,contentTop:f.top,contentLeft:f.left,scrollHeight:g.height,scrollWidth:g.width,scrollTop:g.top,scrollLeft:g.left,viewHeight:e.height,viewWidth:e.width,viewTop:e.top,viewLeft:e.left,absoluteTop:d.top,absoluteLeft:d.left,svgHeight:c.height,svgWidth:c.width,toolboxWidth:a.width,toolboxHeight:a.height,toolboxPosition:a.position,flyoutWidth:b.width,flyoutHeight:b.height}},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.METRICS_MANAGER,module$exports$Blockly$registry.DEFAULT,module$exports$Blockly$MetricsManager.MetricsManager);var module$exports$Blockly$WorkspaceSvg={WorkspaceSvg:function(a,b,c){module$exports$Blockly$Workspace.Workspace.call(this,a),this.resizeHandlerWrapper_=null,this.resizesEnabled_=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY_=null,this.oldScale_=this.scale=1,this.oldLeft_=this.oldTop_=0,this.workspaceDragSurface_=this.blockDragSurface_=this.currentGesture_=this.toolbox_=this.flyout_=this.scrollbar=this.trashcan=null,this.isDragSurfaceActive_=this.useWorkspaceDragSurface_=!1,this.inverseScreenCTM_=this.targetWorkspace=this.lastRecordedPageScroll_=this.injectionDiv_=null,this.inverseScreenCTMDirty_=!0,this.metricsManager_=new((0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.METRICS_MANAGER,a,!0))(this),this.getMetrics=a.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=a.setMetrics||module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.componentManager_=new module$exports$Blockly$ComponentManager.ComponentManager,this.connectionDBList=module$exports$Blockly$ConnectionDB.ConnectionDB.init(this.connectionChecker),b&&(this.blockDragSurface_=b),c&&(this.workspaceDragSurface_=c),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&(0,module$exports$Blockly$utils$svgMath.is3dSupported)(),this.highlightedBlocks_=[],this.audioManager_=new module$exports$Blockly$WorkspaceAudio.WorkspaceAudio(a.parentWorkspace),this.grid_=this.options.gridPattern?new module$exports$Blockly$Grid.Grid(this.options.gridPattern,a.gridOptions):null,this.markerManager_=new module$exports$Blockly$MarkerManager.MarkerManager(this),this.toolboxCategoryCallbacks_=Object.create(null),this.flyoutButtonCallbacks_=Object.create(null),(a=$.module$exports$Blockly$Variables)&&a.flyoutCategory&&this.registerToolboxCategoryCallback(a.CATEGORY_NAME,a.flyoutCategory),(a=module$exports$Blockly$VariablesDynamic)&&a.flyoutCategory&&this.registerToolboxCategoryCallback(a.CATEGORY_NAME,a.flyoutCategory),(a=$.module$exports$Blockly$Procedures)&&a.flyoutCategory&&(this.registerToolboxCategoryCallback(a.CATEGORY_NAME,a.flyoutCategory),this.addChangeListener(a.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new module$exports$Blockly$ThemeManager.ThemeManager(this,this.options.theme||module$exports$Blockly$Themes$Classic.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=(0,module$exports$Blockly$blockRendering.init)(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.dragTargetAreas_=[],this.cachedParentSvgSize_=new module$exports$Blockly$utils$Size.Size(0,0)}};$.$jscomp.inherits(module$exports$Blockly$WorkspaceSvg.WorkspaceSvg,module$exports$Blockly$Workspace.Workspace),module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setMetricsManager=function(a){this.metricsManager_=a,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getComponentManager=function(){return this.componentManager_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setCursorSvg=function(a){this.markerManager_.setCursorSvg(a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setMarkerSvg=function(a){this.markerManager_.setMarkerSvg(a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getMarker=function(a){return this.markerManager_?this.markerManager_.getMarker(a):null},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setTheme=function(a){a||(a=module$exports$Blockly$Themes$Classic.Classic),this.themeManager_.setTheme(a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter((function(b){return!!b.getStyleName()}))),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.THEME_CHANGE))(this.getTheme().name,this.id);(0,module$exports$Blockly$Events$utils.fire)(a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.updateBlockStyles_=function(a){for(var c,b=0;c=a[b];b++){var d=c.getStyleName();d&&(c.setStyle(d),c.mutator&&c.mutator.updateBlockStyle())}},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var a=this.getParentSvg().getScreenCTM();a&&(this.inverseScreenCTM_=a.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getSvgXY=function(a){var b=0,c=0,d=1;((0,module$exports$Blockly$utils$dom.containsNode)(this.getCanvas(),a)||(0,module$exports$Blockly$utils$dom.containsNode)(this.getBubbleCanvas(),a))&&(d=this.scale);do{var e=(0,module$exports$Blockly$utils$svgMath.getRelativeXY)(a);a!==this.getCanvas()&&a!==this.getBubbleCanvas()||(d=1),b+=e.x*d,c+=e.y*d,a=a.parentNode}while(a&&a!==this.getParentSvg());return new module$exports$Blockly$utils$Coordinate.Coordinate(b,c)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var a=this.cachedParentSvgSize_;return new module$exports$Blockly$utils$Size.Size(a.width,a.height)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return(0,module$exports$Blockly$utils$svgMath.getInjectionDivXY)(this.getCanvas())},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var a=this.svgGroup_;a;){if(-1!==(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=a;break}a=a.parentNode}return this.injectionDiv_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(a){this.resizeHandlerWrapper_=a},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.createDom=function(a){return this.svgGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyWorkspace"},null),a&&(this.svgBackground_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{height:"100%",width:"100%",class:a},this.svgGroup_),"blocklyMainBackground"===a&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||((0,module$exports$Blockly$browserEvents.conditionalBind)(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),document.body.addEventListener("wheel",(function(){})),(0,module$exports$Blockly$browserEvents.conditionalBind)(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new((0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDragTargets(),(a=(0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new a),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&((0,module$exports$Blockly$utils$dom.removeNode)(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),module$exports$Blockly$Workspace.Workspace.prototype.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var a=this.getParentSvg();a&&a.parentNode&&(0,module$exports$Blockly$utils$dom.removeNode)(a.parentNode)}this.resizeHandlerWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.newBlock=function(a,b){return new module$exports$Blockly$BlockSvg.BlockSvg(this,a,b)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.addTrashcan=function(){var a=module$exports$Blockly$Trashcan.Trashcan;if(!a)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new a(this),a=this.trashcan.createDom(),this.svgGroup_.insertBefore(a,this.svgBlockCanvas_)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.addZoomControls=function(){var a=module$exports$Blockly$ZoomControls.ZoomControls;if(!a)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new a(this),a=this.zoomControls_.createDom(),this.svgGroup_.appendChild(a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.addFlyout=function(a){var b=new module$exports$Blockly$Options.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return b.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new((0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(b):new((0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(b),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getFlyout=function(a){return this.flyout_||a?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDragTargets()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var e,a=this.componentManager_.getComponents(module$exports$Blockly$ComponentManager.ComponentManager.Capability.POSITIONABLE,!0),b=this.getMetricsManager().getUiMetrics(),c=[],d=0;e=a[d];d++)e.position(b,c),(e=e.getBoundingRectangle())&&c.push(e);this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var a=(0,module$exports$Blockly$utils$svgMath.getDocumentScroll)();module$exports$Blockly$utils$Coordinate.Coordinate.equals(this.lastRecordedPageScroll_,a)||(this.lastRecordedPageScroll_=a,this.updateScreenCalculations_())},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setCachedParentSvgSize=function(a,b){var c=this.getParentSvg();null!=a&&(this.cachedParentSvgSize_.width=a,c.cachedWidth_=a),null!=b&&(this.cachedParentSvgSize_.height=b,c.cachedHeight_=b)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var a=this.svgGroup_;a;){if("svg"===a.tagName){this.cachedParentSvg_=a;break}a=a.parentNode}return this.cachedParentSvg_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if((0,module$exports$Blockly$Events$utils.isEnabled)()){var a=this.scale,b=-this.scrollY,c=-this.scrollX;if(!(a===this.oldScale_&&1>Math.abs(b-this.oldTop_)&&1>Math.abs(c-this.oldLeft_))){var d=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.VIEWPORT_CHANGE))(b,c,a,this.id,this.oldScale_);this.oldScale_=a,this.oldTop_=b,this.oldLeft_=c,(0,module$exports$Blockly$Events$utils.fire)(d)}}},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.translate=function(a,b){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",c),this.svgBubbleCanvas_.setAttribute("transform",c)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(a,b,this.scale),this.grid_&&this.grid_.moveTo(a,b),this.maybeFireViewportChangeEvent()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var a=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),a="translate("+a.x+","+a.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",a),this.svgBubbleCanvas_.setAttribute("transform",a)}},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var a=this.svgBlockCanvas_.previousSibling,b=parseInt(this.getParentSvg().getAttribute("width"),10),c=parseInt(this.getParentSvg().getAttribute("height"),10),d=(0,module$exports$Blockly$utils$svgMath.getRelativeXY)(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),a,b,c,this.scale),this.workspaceDragSurface_.translateSurface(d.x,d.y)}},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getWidth=function(){var a=this.getMetrics();return a?a.viewWidth/this.scale:0},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setVisible=function(a){if(this.isVisible_=a,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(a),this.getFlyout()&&this.getFlyout().setContainerVisible(a),this.getParentSvg().style.display=a?"block":"none",this.toolbox_&&this.toolbox_.setVisible(a),a){for(var b=(a=this.getAllBlocks(!1)).length-1;0<=b;b--)a[b].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else this.hideChaff(!0)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.render=function(){for(var a=this.getAllBlocks(!1),b=a.length-1;0<=b;b--)a[b].render(!1);if(this.currentGesture_)for(a=this.currentGesture_.getInsertionMarkers(),b=0;b<a.length;b++)a[b].render(!1);this.markerManager_.updateMarkers()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.highlightBlock=function(a,b){if(void 0===b){for(var d,c=0;d=this.highlightedBlocks_[c];c++)d.setHighlighted(!1);this.highlightedBlocks_.length=0}(a=a?this.getBlockById(a):null)&&((b=void 0===b||b)?-1===this.highlightedBlocks_.indexOf(a)&&this.highlightedBlocks_.push(a):module$exports$Blockly$utils$array_removeElem(this.highlightedBlocks_,a),a.setHighlighted(b))},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.paste=function(a){if(!this.rendered||!a.type&&!a.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();var b=(0,module$exports$Blockly$Events$utils.getGroup)();return b||(0,module$exports$Blockly$Events$utils.setGroup)(!0),a=a.type?this.pasteBlock_(null,a):"comment"===a.tagName.toLowerCase()?this.pasteWorkspaceComment_(a):this.pasteBlock_(a,null),(0,module$exports$Blockly$Events$utils.setGroup)(b),a},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.pasteBlock_=function(a,b){(0,module$exports$Blockly$Events$utils.disable)();try{var c=0,d=0;if(a){var e=(0,$.module$exports$Blockly$Xml.domToBlock)(a,this);c=parseInt(a.getAttribute("x"),10),this.RTL&&(c=-c),d=parseInt(a.getAttribute("y"),10)}else b&&(e=(0,module$exports$Blockly$serialization$blocks.append)(b,this),c=b.x||10,this.RTL&&(c=this.getWidth()-c),d=b.y||10);if(!isNaN(c)&&!isNaN(d)){do{var f=!1,g=this.getAllBlocks(!1);for(a=0,b=void 0;b=g[a];a++){var h=b.getRelativeToSurfaceXY();if(1>=Math.abs(c-h.x)&&1>=Math.abs(d-h.y)){f=!0;break}}if(!f){var k=e.getConnections_(!1);for(a=0,b=void 0;b=k[a];a++)if(b.closest($.module$exports$Blockly$config.config.snapRadius,new module$exports$Blockly$utils$Coordinate.Coordinate(c,d)).connection){f=!0;break}}f&&(c=this.RTL?c-$.module$exports$Blockly$config.config.snapRadius:c+$.module$exports$Blockly$config.config.snapRadius,d+=2*$.module$exports$Blockly$config.config.snapRadius)}while(f);e.moveTo(new module$exports$Blockly$utils$Coordinate.Coordinate(c,d))}}finally{(0,module$exports$Blockly$Events$utils.enable)()}return(0,module$exports$Blockly$Events$utils.isEnabled)()&&!e.isShadow()&&(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CREATE))(e)),e.select(),e},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(a){(0,module$exports$Blockly$Events$utils.disable)();try{var b=module$exports$Blockly$WorkspaceCommentSvg.fromXml(a,this),c=parseInt(a.getAttribute("x"),10),d=parseInt(a.getAttribute("y"),10);isNaN(c)||isNaN(d)||(this.RTL&&(c=-c),b.moveBy(c+50,d+50))}finally{(0,module$exports$Blockly$Events$utils.enable)()}return(0,module$exports$Blockly$Events$utils.isEnabled)()&&module$exports$Blockly$WorkspaceComment.fireCreateEvent(b),b.select(),b},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var a=this.isFlyout?this.targetWorkspace:this;a&&!a.currentGesture_&&a.toolbox_&&a.toolbox_.getFlyout()&&a.toolbox_.refreshSelection()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.renameVariableById=function(a,b){module$exports$Blockly$Workspace.Workspace.prototype.renameVariableById.call(this,a,b),this.refreshToolboxSelection()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.deleteVariableById=function(a){module$exports$Blockly$Workspace.Workspace.prototype.deleteVariableById.call(this,a),this.refreshToolboxSelection()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.createVariable=function(a,b,c){return a=module$exports$Blockly$Workspace.Workspace.prototype.createVariable.call(this,a,b,c),this.refreshToolboxSelection(),a},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.recordDeleteAreas=function(){module$exports$Blockly$utils.deprecation.warn("WorkspaceSvg.prototype.recordDeleteAreas","June 2021","June 2022","WorkspaceSvg.prototype.recordDragTargets"),this.recordDragTargets()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.recordDragTargets=function(){var a=this.componentManager_.getComponents(module$exports$Blockly$ComponentManager.ComponentManager.Capability.DRAG_TARGET,!0);this.dragTargetAreas_=[];for(var c,b=0;c=a[b];b++){var d=c.getClientRect();d&&this.dragTargetAreas_.push({component:c,clientRect:d})}},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getDragTarget=function(a){for(var c,b=0;c=this.dragTargetAreas_[b];b++)if(c.clientRect.contains(a.clientX,a.clientY))return c.component;return null},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.onMouseDown_=function(a){var b=this.getGesture(a);b&&b.handleWsStart(a,this)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.startDrag=function(a,b){(a=(0,module$exports$Blockly$browserEvents.mouseToSvg)(a,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,a.y/=this.scale,this.dragDeltaXY_=module$exports$Blockly$utils$Coordinate.Coordinate.difference(b,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.moveDrag=function(a){return(a=(0,module$exports$Blockly$browserEvents.mouseToSvg)(a,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,a.y/=this.scale,module$exports$Blockly$utils$Coordinate.Coordinate.sum(this.dragDeltaXY_,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.isDragging=function(){return null!==this.currentGesture_&&this.currentGesture_.isDragging()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.isMovableHorizontally=function(){var a=!!this.scrollbar;return this.isMovable()&&(!a||a&&this.scrollbar.canScrollHorizontally())},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.isMovableVertically=function(){var a=!!this.scrollbar;return this.isMovable()&&(!a||a&&this.scrollbar.canScrollVertically())},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.onMouseWheel_=function(a){if(module$exports$Blockly$Gesture.Gesture.inProgress())a.preventDefault(),a.stopPropagation();else{var b=this.options.zoomOptions&&this.options.zoomOptions.wheel,c=this.options.moveOptions&&this.options.moveOptions.wheel;if(b||c){var d=(0,module$exports$Blockly$browserEvents.getScrollDeltaPixels)(a);if(module$exports$Blockly$utils$userAgent.MAC)var e=a.metaKey;b&&(a.ctrlKey||e||!c)?(d=-d.y/50,b=(0,module$exports$Blockly$browserEvents.mouseToSvg)(a,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(b.x,b.y,d)):(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c)),a.preventDefault()}}},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var a=this.getTopBoundedElements();if(!a.length)return new module$exports$Blockly$utils$Rect.Rect(0,0,0,0);for(var b=a[0].getBoundingRectangle(),c=1;c<a.length;c++){var d=a[c];d.isInsertionMarker&&d.isInsertionMarker()||((d=d.getBoundingRectangle()).top<b.top&&(b.top=d.top),d.bottom>b.bottom&&(b.bottom=d.bottom),d.left<b.left&&(b.left=d.left),d.right>b.right&&(b.right=d.right))}return b},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),(0,module$exports$Blockly$Events$utils.setGroup)(!0);for(var d,a=this.getTopBlocks(!0),b=0,c=0;d=a[c];c++)if(d.isMovable()){var e=d.getRelativeToSurfaceXY();d.moveBy(-e.x,b-e.y),d.snapToGrid(),b=d.getRelativeToSurfaceXY().y+d.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}(0,module$exports$Blockly$Events$utils.setGroup)(!1),this.setResizesEnabled(!0)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.showContextMenu=function(a){if(!this.options.readOnly&&!this.isFlyout){var b=module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.getContextMenuOptions(module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(b,a),(0,$.module$exports$Blockly$ContextMenu.show)(a,b,this.RTL)}},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.updateToolbox=function(a){if(a=(0,module$exports$Blockly$utils$toolbox.convertToolboxDefToJson)(a)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if((0,module$exports$Blockly$utils$toolbox.hasCategories)(a)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=a,this.toolbox_.render(a)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=a,this.flyout_.show(a)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():((0,$.module$exports$Blockly$common.setMainWorkspace)(this),this.setBrowserFocus())},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(a){try{this.getParentSvg().parentNode.setActive()}catch(b){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.zoom=function(a,b,c){c=Math.pow(this.options.zoomOptions.scaleSpeed,c);var d=this.scale*c;if(this.scale!==d){d>this.options.zoomOptions.maxScale?c=this.options.zoomOptions.maxScale/this.scale:d<this.options.zoomOptions.minScale&&(c=this.options.zoomOptions.minScale/this.scale);var e=this.getCanvas().getCTM(),f=this.getParentSvg().createSVGPoint();f.x=a,f.y=b,a=(f=f.matrixTransform(e.inverse())).x,b=f.y,e=e.translate(a*(1-c),b*(1-c)).scale(c),this.scrollX=e.e,this.scrollY=e.f,this.setScale(d)}},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.zoomCenter=function(a){var b=this.getMetrics();if(this.flyout_){var c=b.svgWidth?b.svgWidth/2:0;b=b.svgHeight?b.svgHeight/2:0}else c=b.viewWidth/2+b.absoluteLeft,b=b.viewHeight/2+b.absoluteTop;this.zoom(c,b,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var a=this.getMetrics(),b=a.viewWidth;a=a.viewHeight;var c=this.getBlocksBoundingBox(),d=c.right-c.left;if(c=c.bottom-c.top,d){this.flyout_&&(this.horizontalLayout?(a+=this.flyout_.getHeight(),c+=this.flyout_.getHeight()/this.scale):(b+=this.flyout_.getWidth(),d+=this.flyout_.getWidth()/this.scale)),b/=d,a/=c,(0,module$exports$Blockly$Events$utils.disable)();try{this.setScale(Math.min(b,a)),this.scrollCenter()}finally{(0,module$exports$Blockly$Events$utils.enable)()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.beginCanvasTransition=function(){(0,module$exports$Blockly$utils$dom.addClass)(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),(0,module$exports$Blockly$utils$dom.addClass)(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.endCanvasTransition=function(){(0,module$exports$Blockly$utils$dom.removeClass)(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),(0,module$exports$Blockly$utils$dom.removeClass)(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var a=this.getMetrics(),b=(a.scrollWidth-a.viewWidth)/2,c=(a.scrollHeight-a.viewHeight)/2;b=-b-a.scrollLeft,c=-c-a.scrollTop,this.scroll(b,c)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.centerOnBlock=function(a){if(this.isMovable()){if(a=a?this.getBlockById(a):null){var b=a.getRelativeToSurfaceXY(),c=a.getHeightWidth(),d=this.scale;a=(b.x+(this.RTL?-1:1)*c.width/2)*d,b=(b.y+c.height/2)*d,c=this.getMetrics(),this.scroll(-(a-c.viewWidth/2),-(b-c.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setScale=function(a){this.options.zoomOptions.maxScale&&a>this.options.zoomOptions.maxScale?a=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&a<this.options.zoomOptions.minScale&&(a=this.options.zoomOptions.minScale),this.scale=a,this.hideChaff(!1),(a=this.getFlyout(!1))&&a.isVisible()&&(a.reflow(),this.recordDragTargets()),this.grid_&&this.grid_.update(this.scale),a=this.getMetrics(),this.scrollX-=a.absoluteLeft,this.scrollY-=a.absoluteTop,a.viewLeft+=a.absoluteLeft,a.viewTop+=a.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(a):this.scrollbar.resizeContent(a))},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.scroll=function(a,b){this.hideChaff(!0);var c=this.getMetrics();a=Math.min(a,-c.scrollLeft),b=Math.min(b,-c.scrollTop);var d=c.scrollTop+Math.max(0,c.scrollHeight-c.viewHeight);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.viewWidth))),b=Math.max(b,-d),this.scrollX=a,this.scrollY=b,this.scrollbar&&this.scrollbar.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1),a+=c.absoluteLeft,b+=c.absoluteTop,this.translate(a,b)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getBlockById=function(a){return module$exports$Blockly$Workspace.Workspace.prototype.getBlockById.call(this,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getAllBlocks=function(a){return module$exports$Blockly$Workspace.Workspace.prototype.getAllBlocks.call(this,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getTopBlocks=function(a){return module$exports$Blockly$Workspace.Workspace.prototype.getTopBlocks.call(this,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.addTopBlock=function(a){this.addTopBoundedElement(a),module$exports$Blockly$Workspace.Workspace.prototype.addTopBlock.call(this,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.removeTopBlock=function(a){this.removeTopBoundedElement(a),module$exports$Blockly$Workspace.Workspace.prototype.removeTopBlock.call(this,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.addTopComment=function(a){this.addTopBoundedElement(a),module$exports$Blockly$Workspace.Workspace.prototype.addTopComment.call(this,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.removeTopComment=function(a){this.removeTopBoundedElement(a),module$exports$Blockly$Workspace.Workspace.prototype.removeTopComment.call(this,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.addTopBoundedElement=function(a){this.topBoundedElements_.push(a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.removeTopBoundedElement=function(a){module$exports$Blockly$utils$array_removeElem(this.topBoundedElements_,a)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.setResizesEnabled=function(a){var b=!this.resizesEnabled_&&a;this.resizesEnabled_=a,b&&this.resizeContents()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),module$exports$Blockly$Workspace.Workspace.prototype.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.registerButtonCallback=function(a,b){if("function"!=typeof b)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[a]=b},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getButtonCallback=function(a){return(a=this.flyoutButtonCallbacks_[a])?a:null},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.removeButtonCallback=function(a){this.flyoutButtonCallbacks_[a]=null},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(a,b){if("function"!=typeof b)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[a]=b},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(a){return this.toolboxCategoryCallbacks_[a]||null},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(a){this.toolboxCategoryCallbacks_[a]=null},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getGesture=function(a){var b="mousedown"===a.type||"touchstart"===a.type||"pointerdown"===a.type,c=this.currentGesture_;return c?b&&c.hasStarted()?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.currentGesture_=new module$exports$Blockly$TouchGesture.TouchGesture(a,this):null},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.prototype.hideChaff=function(a){(0,module$exports$Blockly$Tooltip.hide)(),(0,module$exports$Blockly$WidgetDiv.hide)(),(0,module$exports$Blockly$dropDownDiv.hideWithoutAnimation)();var b=!!a;this.getComponentManager().getComponents(module$exports$Blockly$ComponentManager.ComponentManager.Capability.AUTOHIDEABLE,!0).forEach((function(c){return c.autoHide(b)}))},module$exports$Blockly$WorkspaceSvg.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(a){var b=this.getMetrics();"number"==typeof a.x&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.viewWidth)*a.x)),"number"==typeof a.y&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.viewHeight)*a.y)),this.translate(this.scrollX+b.absoluteLeft,this.scrollY+b.absoluteTop)},module$exports$Blockly$WorkspaceSvg.resizeSvgContents=function(a){a.resizeContents()};var module$exports$Blockly$inject_inject=function(a,b){if("string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a)),!a||!(0,module$exports$Blockly$utils$dom.containsNode)(document,a))throw Error("Error: container is not in current document.");b=new module$exports$Blockly$Options.Options(b||{});var c=document.createElement("div");c.className="injectionDiv",c.tabIndex=0,(0,module$exports$Blockly$utils$aria.setState)(c,module$exports$Blockly$utils$aria.State.LABEL,$.module$exports$Blockly$Msg.Msg.WORKSPACE_ARIA_LABEL),a.appendChild(c),a=module$contents$Blockly$inject_createDom(c,b);var d=new module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg(c),e=new module$exports$Blockly$WorkspaceDragSurfaceSvg.WorkspaceDragSurfaceSvg(c),f=module$contents$Blockly$inject_createMainWorkspace(a,b,d,e);return module$contents$Blockly$inject_init(f),(0,$.module$exports$Blockly$common.setMainWorkspace)(f),(0,$.module$exports$Blockly$common.svgResize)(f),c.addEventListener("focusin",(function(){(0,$.module$exports$Blockly$common.setMainWorkspace)(f)})),f},module$contents$Blockly$inject_createDom=function(a,b){a.setAttribute("dir","LTR"),(0,module$exports$Blockly$Css.inject)(b.hasCss,b.pathToMedia),a=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.SVG,{xmlns:module$exports$Blockly$utils$dom.SVG_NS,"xmlns:html":module$exports$Blockly$utils$dom.HTML_NS,"xmlns:xlink":module$exports$Blockly$utils$dom.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},a);var c=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.DEFS,{},a),d=String(Math.random()).substring(2);return b.gridPattern=module$exports$Blockly$Grid.Grid.createDom(d,b.gridOptions,c),a},module$contents$Blockly$inject_createMainWorkspace=function(a,b,c,d){return b.parentWorkspace=null,c=(b=new module$exports$Blockly$WorkspaceSvg.WorkspaceSvg(b,c,d)).options,b.scale=c.zoomOptions.startScale,a.appendChild(b.createDom("blocklyMainBackground")),(0,module$exports$Blockly$utils$dom.addClass)(b.getInjectionDiv(),b.getRenderer().getClassName()),(0,module$exports$Blockly$utils$dom.addClass)(b.getInjectionDiv(),b.getTheme().getClassName()),!c.hasCategories&&c.languageTree&&(d=b.addFlyout(module$exports$Blockly$utils$Svg.Svg.SVG),(0,module$exports$Blockly$utils$dom.insertAfter)(d,a)),c.hasTrashcan&&b.addTrashcan(),c.zoomOptions&&c.zoomOptions.controls&&b.addZoomControls(),b.getThemeManager().subscribe(a,"workspaceBackgroundColour","background-color"),b.translate(0,0),b.addChangeListener((0,module$exports$Blockly$bumpObjects.bumpIntoBoundsHandler)(b)),(0,$.module$exports$Blockly$common.svgResize)(b),(0,module$exports$Blockly$WidgetDiv.createDom)(),(0,module$exports$Blockly$dropDownDiv.createDom)(),(0,module$exports$Blockly$Tooltip.createDom)(),b},module$contents$Blockly$inject_init=function(a){var b=a.options,c=a.getParentSvg();if((0,module$exports$Blockly$browserEvents.conditionalBind)(c.parentNode,"contextmenu",null,(function(e){(0,module$exports$Blockly$browserEvents.isTargetInput)(e)||e.preventDefault()})),c=(0,module$exports$Blockly$browserEvents.conditionalBind)(window,"resize",null,(function(){a.hideChaff(!0),(0,$.module$exports$Blockly$common.svgResize)(a),module$exports$Blockly$bumpObjects.bumpTopObjectsIntoBounds(a)})),a.setResizeHandlerWrapper(c),module$contents$Blockly$inject_bindDocumentEvents(),b.languageTree){c=a.getToolbox();var d=a.getFlyout(!0);c?c.init():d&&(d.init(a),d.show(b.languageTree),"function"==typeof d.scrollToStart&&d.scrollToStart())}b.hasTrashcan&&a.trashcan.init(),b.zoomOptions&&b.zoomOptions.controls&&a.zoomControls_.init(),b.moveOptions&&b.moveOptions.scrollbars?(a.scrollbar=new module$exports$Blockly$ScrollbarPair.ScrollbarPair(a,!0===b.moveOptions.scrollbars||!!b.moveOptions.scrollbars.horizontal,!0===b.moveOptions.scrollbars||!!b.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),a.scrollbar.resize()):a.setMetrics({x:.5,y:.5}),b.hasSounds&&module$contents$Blockly$inject_loadSounds(b.pathToMedia,a)},module$contents$Blockly$inject_onKeyDown=function(a){var b=(0,$.module$exports$Blockly$common.getMainWorkspace)();b&&!((0,module$exports$Blockly$browserEvents.isTargetInput)(a)||b.rendered&&!b.isVisible())&&module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.onKeyDown(b,a)},module$contents$Blockly$inject_documentEventsBound=!1,module$contents$Blockly$inject_bindDocumentEvents=function(){module$contents$Blockly$inject_documentEventsBound||((0,module$exports$Blockly$browserEvents.conditionalBind)(document,"scroll",null,(function(){for(var c,a=module$exports$Blockly$Workspace.Workspace.getAll(),b=0;c=a[b];b++)c.updateInverseScreenCTM&&c.updateInverseScreenCTM()})),(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"keydown",null,module$contents$Blockly$inject_onKeyDown),(0,module$exports$Blockly$browserEvents.bind)(document,"touchend",null,module$exports$Blockly$Touch.longStop),(0,module$exports$Blockly$browserEvents.bind)(document,"touchcancel",null,module$exports$Blockly$Touch.longStop),module$exports$Blockly$utils$userAgent.IPAD&&(0,module$exports$Blockly$browserEvents.conditionalBind)(window,"orientationchange",document,(function(){(0,$.module$exports$Blockly$common.svgResize)((0,$.module$exports$Blockly$common.getMainWorkspace)())}))),module$contents$Blockly$inject_documentEventsBound=!0},module$contents$Blockly$inject_loadSounds=function(a,b){var c=b.getAudioManager();c.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click"),c.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect"),c.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var d=[];a=function(){for(;d.length;)(0,module$exports$Blockly$browserEvents.unbind)(d.pop());c.preload()},d.push((0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mousemove",null,a,!0)),d.push((0,module$exports$Blockly$browserEvents.conditionalBind)(document,"touchstart",null,a,!0))},module$exports$Blockly$DragTarget={DragTarget:function(){}};module$exports$Blockly$DragTarget.DragTarget.prototype.onDragEnter=function(a){},module$exports$Blockly$DragTarget.DragTarget.prototype.onDragOver=function(a){},module$exports$Blockly$DragTarget.DragTarget.prototype.onDragExit=function(a){},module$exports$Blockly$DragTarget.DragTarget.prototype.onDrop=function(a){},module$exports$Blockly$DragTarget.DragTarget.prototype.getClientRect=function(){return null},module$exports$Blockly$DragTarget.DragTarget.prototype.shouldPreventMove=function(a){return!1};var module$exports$Blockly$DeleteArea={DeleteArea:function(){module$exports$Blockly$DragTarget.DragTarget.call(this),this.wouldDelete_=!1}};$.$jscomp.inherits(module$exports$Blockly$DeleteArea.DeleteArea,module$exports$Blockly$DragTarget.DragTarget),module$exports$Blockly$DeleteArea.DeleteArea.prototype.wouldDelete=function(a,b){return a instanceof module$exports$Blockly$BlockSvg.BlockSvg?(a=!a.getParent()&&a.isDeletable(),this.updateWouldDelete_(a&&!b)):this.updateWouldDelete_(a.isDeletable()),this.wouldDelete_},module$exports$Blockly$DeleteArea.DeleteArea.prototype.updateWouldDelete_=function(a){this.wouldDelete_=a};var module$exports$Blockly$FlyoutMetricsManager={FlyoutMetricsManager:function(a,b){module$exports$Blockly$MetricsManager.MetricsManager.call(this,a),this.flyout_=b}};$.$jscomp.inherits(module$exports$Blockly$FlyoutMetricsManager.FlyoutMetricsManager,module$exports$Blockly$MetricsManager.MetricsManager),module$exports$Blockly$FlyoutMetricsManager.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var a=this.workspace_.getCanvas().getBBox()}catch(b){a={height:0,y:0,width:0,x:0}}return a},module$exports$Blockly$FlyoutMetricsManager.FlyoutMetricsManager.prototype.getContentMetrics=function(a){var b=this.getBoundingBox_();return a=a?1:this.workspace_.scale,{height:b.height*a,width:b.width*a,top:b.y*a,left:b.x*a}},module$exports$Blockly$FlyoutMetricsManager.FlyoutMetricsManager.prototype.getScrollMetrics=function(a,b,c){return b=c||this.getContentMetrics(),c=this.flyout_.MARGIN*this.workspace_.scale,a=a?this.workspace_.scale:1,{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}};var module$exports$Blockly$Flyout={Flyout:function(a){module$exports$Blockly$DeleteArea.DeleteArea.call(this),a.setMetrics=this.setMetrics_.bind(this),this.workspace_=new module$exports$Blockly$WorkspaceSvg.WorkspaceSvg(a),this.workspace_.setMetricsManager(new module$exports$Blockly$FlyoutMetricsManager.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=(0,module$exports$Blockly$utils$idGenerator.genUid)(),this.RTL=!!a.RTL,this.horizontalLayout=!1,this.toolboxPosition_=a.toolboxPosition,this.eventWrappers_=[],this.filterWrapper_=this.reflowWrapper_=null,this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null,this.recycledBlocks_=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible_=!0,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS=8,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null}};$.$jscomp.inherits(module$exports$Blockly$Flyout.Flyout,module$exports$Blockly$DeleteArea.DeleteArea),module$exports$Blockly$Flyout.Flyout.prototype.createDom=function(a){return this.svgGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(a,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},module$exports$Blockly$Flyout.Flyout.prototype.init=function(a){this.targetWorkspace=a,this.workspace_.targetWorkspace=a,this.workspace_.scrollbar=new module$exports$Blockly$ScrollbarPair.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),Array.prototype.push.apply(this.eventWrappers_,(0,module$exports$Blockly$browserEvents.conditionalBind)(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,(0,module$exports$Blockly$browserEvents.conditionalBind)(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),a.getComponentManager().addComponent({component:this,weight:1,capabilities:[module$exports$Blockly$ComponentManager.ComponentManager.Capability.DELETE_AREA,module$exports$Blockly$ComponentManager.ComponentManager.Capability.DRAG_TARGET]})},module$exports$Blockly$Flyout.Flyout.prototype.dispose=function(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id),(0,module$exports$Blockly$browserEvents.unbind)(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&((0,module$exports$Blockly$utils$dom.removeNode)(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},module$exports$Blockly$Flyout.Flyout.prototype.getWidth=function(){return this.width_},module$exports$Blockly$Flyout.Flyout.prototype.getHeight=function(){return this.height_},module$exports$Blockly$Flyout.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},module$exports$Blockly$Flyout.Flyout.prototype.getWorkspace=function(){return this.workspace_},module$exports$Blockly$Flyout.Flyout.prototype.isVisible=function(){return this.isVisible_},module$exports$Blockly$Flyout.Flyout.prototype.setVisible=function(a){var b=a!==this.isVisible();this.isVisible_=a,b&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())},module$exports$Blockly$Flyout.Flyout.prototype.setContainerVisible=function(a){var b=a!==this.containerVisible_;this.containerVisible_=a,b&&this.updateDisplay_()},module$exports$Blockly$Flyout.Flyout.prototype.updateDisplay_=function(){var a=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=a?"block":"none",this.workspace_.scrollbar.setContainerVisible(a)},module$exports$Blockly$Flyout.Flyout.prototype.positionAt_=function(a,b,c,d){this.svgGroup_.setAttribute("width",a),this.svgGroup_.setAttribute("height",b),this.workspace_.setCachedParentSvgSize(a,b),"svg"===this.svgGroup_.tagName?(0,module$exports$Blockly$utils$dom.setCssTransform)(this.svgGroup_,"translate("+c+"px,"+d+"px)"):this.svgGroup_.setAttribute("transform","translate("+c+","+d+")"),(a=this.workspace_.scrollbar)&&(a.setOrigin(c,d),a.resize(),a.hScroll&&a.hScroll.setPosition(a.hScroll.position.x,a.hScroll.position.y),a.vScroll&&a.vScroll.setPosition(a.vScroll.position.x,a.vScroll.position.y))},module$exports$Blockly$Flyout.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var b,a=0;b=this.listeners_[a];a++)(0,module$exports$Blockly$browserEvents.unbind)(b);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},module$exports$Blockly$Flyout.Flyout.prototype.show=function(a){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof a&&(a=this.getDynamicCategoryContents_(a)),this.setVisible(!0),a=(0,module$exports$Blockly$utils$toolbox.convertFlyoutDefToJsonArray)(a),a=this.createFlyoutInfo_(a),this.layout_(a.contents,a.gaps),this.listeners_.push((0,module$exports$Blockly$browserEvents.conditionalBind)(this.svgBackground_,"mouseover",this,(function(){for(var d,b=this.workspace_.getTopBlocks(!1),c=0;d=b[c];c++)d.removeSelect()}))),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_),this.emptyRecycledBlocks_()},module$exports$Blockly$Flyout.Flyout.prototype.createFlyoutInfo_=function(a){var b=[],c=[];this.permanentlyDisabled_.length=0;for(var f,d=this.horizontalLayout?this.GAP_X:this.GAP_Y,e=0;f=a[e];e++)switch(f.custom&&(f=this.getDynamicCategoryContents_(f.custom),f=(0,module$exports$Blockly$utils$toolbox.convertFlyoutDefToJsonArray)(f),a.splice.apply(a,[e,1].concat(f)),f=a[e]),f.kind.toUpperCase()){case"BLOCK":var g=this.createFlyoutBlock_(f);b.push({type:"block",block:g}),this.addBlockGap_(f,c,d);break;case"SEP":this.addSeparatorGap_(f,c,d);break;case"LABEL":f=this.createButton_(f,!0),b.push({type:"button",button:f}),c.push(d);break;case"BUTTON":f=this.createButton_(f,!1),b.push({type:"button",button:f}),c.push(d)}return{contents:b,gaps:c}},module$exports$Blockly$Flyout.Flyout.prototype.getDynamicCategoryContents_=function(a){if("function"!=typeof(a=this.workspace_.targetWorkspace.getToolboxCategoryCallback(a)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");return a(this.workspace_.targetWorkspace)},module$exports$Blockly$Flyout.Flyout.prototype.createButton_=function(a,b){var c=module$exports$Blockly$FlyoutButton.FlyoutButton;if(!c)throw Error("Missing require for Blockly.FlyoutButton");return new c(this.workspace_,this.targetWorkspace,a,b)},module$exports$Blockly$Flyout.Flyout.prototype.createFlyoutBlock_=function(a){var b;return a.blockxml?(a="string"==typeof a.blockxml?(0,$.module$exports$Blockly$Xml.textToDom)(a.blockxml):a.blockxml,(b=this.getRecycledBlock_(a.getAttribute("type")))||(b=(0,$.module$exports$Blockly$Xml.domToBlock)(a,this.workspace_))):(b=this.getRecycledBlock_(a.type))||(void 0===a.enabled&&(a.enabled="true"!==a.disabled&&!0!==a.disabled),b=(0,module$exports$Blockly$serialization$blocks.append)(a,this.workspace_)),b.isEnabled()||this.permanentlyDisabled_.push(b),b},module$exports$Blockly$Flyout.Flyout.prototype.getRecycledBlock_=function(a){for(var b=-1,c=0;c<this.recycledBlocks_.length;c++)if(this.recycledBlocks_[c].type===a){b=c;break}return-1===b?void 0:this.recycledBlocks_.splice(b,1)[0]},module$exports$Blockly$Flyout.Flyout.prototype.addBlockGap_=function(a,b,c){if(a.gap)var d=parseInt(a.gap,10);else a.blockxml&&(a="string"==typeof a.blockxml?(0,$.module$exports$Blockly$Xml.textToDom)(a.blockxml):a.blockxml,d=parseInt(a.getAttribute("gap"),10));b.push(isNaN(d)?c:d)},module$exports$Blockly$Flyout.Flyout.prototype.addSeparatorGap_=function(a,b,c){a=parseInt(a.gap,10),!isNaN(a)&&0<b.length?b[b.length-1]=a:b.push(c)},module$exports$Blockly$Flyout.Flyout.prototype.clearOldBlocks_=function(){for(var c,a=this.workspace_.getTopBlocks(!1),b=0;c=a[b];b++)this.blockIsRecyclable_(c)?this.recycleBlock_(c):c.dispose(!1,!1);for(a=0;a<this.mats_.length;a++)(b=this.mats_[a])&&((0,module$exports$Blockly$Tooltip.unbindMouseEvents)(b),(0,module$exports$Blockly$utils$dom.removeNode)(b));for(a=this.mats_.length=0;b=this.buttons_[a];a++)b.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},module$exports$Blockly$Flyout.Flyout.prototype.emptyRecycledBlocks_=function(){for(var a=0;a<this.recycledBlocks_.length;a++)this.recycledBlocks_[a].dispose();this.recycledBlocks_=[]},module$exports$Blockly$Flyout.Flyout.prototype.blockIsRecyclable_=function(a){return!1},module$exports$Blockly$Flyout.Flyout.prototype.recycleBlock_=function(a){var b=a.getRelativeToSurfaceXY();a.moveBy(-b.x,-b.y),this.recycledBlocks_.push(a)},module$exports$Blockly$Flyout.Flyout.prototype.addBlockListeners_=function(a,b,c){this.listeners_.push((0,module$exports$Blockly$browserEvents.conditionalBind)(a,"mousedown",null,this.blockMouseDown_(b))),this.listeners_.push((0,module$exports$Blockly$browserEvents.conditionalBind)(c,"mousedown",null,this.blockMouseDown_(b))),this.listeners_.push((0,module$exports$Blockly$browserEvents.bind)(a,"mouseenter",b,b.addSelect)),this.listeners_.push((0,module$exports$Blockly$browserEvents.bind)(a,"mouseleave",b,b.removeSelect)),this.listeners_.push((0,module$exports$Blockly$browserEvents.bind)(c,"mouseenter",b,b.addSelect)),this.listeners_.push((0,module$exports$Blockly$browserEvents.bind)(c,"mouseleave",b,b.removeSelect))},module$exports$Blockly$Flyout.Flyout.prototype.blockMouseDown_=function(a){var b=this;return function(c){var d=b.targetWorkspace.getGesture(c);d&&(d.setStartBlock(a),d.handleFlyoutStart(c,b))}},module$exports$Blockly$Flyout.Flyout.prototype.onMouseDown_=function(a){var b=this.targetWorkspace.getGesture(a);b&&b.handleFlyoutStart(a,this)},module$exports$Blockly$Flyout.Flyout.prototype.isBlockCreatable_=function(a){return a.isEnabled()},module$exports$Blockly$Flyout.Flyout.prototype.createBlock=function(a){var b=null;(0,module$exports$Blockly$Events$utils.disable)();var c=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{b=this.placeNewBlock_(a)}finally{(0,module$exports$Blockly$Events$utils.enable)()}if(this.targetWorkspace.hideChaff(),a=(0,$.module$exports$Blockly$Variables.getAddedVariables)(this.targetWorkspace,c),(0,module$exports$Blockly$Events$utils.isEnabled)()){for((0,module$exports$Blockly$Events$utils.setGroup)(!0),c=0;c<a.length;c++){var d=a[c];(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.VAR_CREATE))(d))}(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CREATE))(b))}return this.autoClose?this.hide():this.filterForCapacity_(),b},module$exports$Blockly$Flyout.Flyout.prototype.initFlyoutButton_=function(a,b,c){var d=a.createDom();a.moveTo(b,c),a.show(),this.listeners_.push((0,module$exports$Blockly$browserEvents.conditionalBind)(d,"mousedown",this,this.onMouseDown_)),this.buttons_.push(a)},module$exports$Blockly$Flyout.Flyout.prototype.createRect_=function(a,b,c,d,e){return(b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{"fill-opacity":0,x:b,y:c,height:d.height,width:d.width},null)).tooltip=a,(0,module$exports$Blockly$Tooltip.bindMouseEvents)(b),this.workspace_.getCanvas().insertBefore(b,a.getSvgRoot()),this.rectMap_.set(a,b),this.mats_[e]=b},module$exports$Blockly$Flyout.Flyout.prototype.moveRectToBlock_=function(a,b){var c=b.getHeightWidth();a.setAttribute("width",c.width),a.setAttribute("height",c.height),b=b.getRelativeToSurfaceXY(),a.setAttribute("y",b.y),a.setAttribute("x",this.RTL?b.x-c.width:b.x)},module$exports$Blockly$Flyout.Flyout.prototype.filterForCapacity_=function(){for(var c,a=this.workspace_.getTopBlocks(!1),b=0;c=a[b];b++)if(-1===this.permanentlyDisabled_.indexOf(c))for(var d=this.targetWorkspace.isCapacityAvailable((0,$.module$exports$Blockly$common.getBlockTypeCounts)(c));c;)c.setEnabled(d),c=c.getNextBlock()},module$exports$Blockly$Flyout.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},module$exports$Blockly$Flyout.Flyout.prototype.isScrollable=function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()},module$exports$Blockly$Flyout.Flyout.prototype.placeNewBlock_=function(a){var b=this.targetWorkspace;if(!a.getSvgRoot())throw Error("oldBlock is not rendered.");var c=(0,module$exports$Blockly$serialization$blocks.save)(a);return b.setResizesEnabled(!1),b=(0,module$exports$Blockly$serialization$blocks.append)(c,b),this.positionNewBlock_(a,b),b},module$exports$Blockly$Flyout.Flyout.prototype.positionNewBlock_=function(a,b){var c=this.targetWorkspace,d=c.getOriginOffsetInPixels(),e=this.workspace_.getOriginOffsetInPixels();(a=a.getRelativeToSurfaceXY()).scale(this.workspace_.scale),e=module$exports$Blockly$utils$Coordinate.Coordinate.sum(e,a),(d=module$exports$Blockly$utils$Coordinate.Coordinate.difference(e,d)).scale(1/c.scale),b.moveTo(new module$exports$Blockly$utils$Coordinate.Coordinate(d.x,d.y))};var module$exports$Blockly$VerticalFlyout={VerticalFlyout:function(a){module$exports$Blockly$Flyout.Flyout.call(this,a)}};$.$jscomp.inherits(module$exports$Blockly$VerticalFlyout.VerticalFlyout,module$exports$Blockly$Flyout.Flyout),module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.setMetrics_=function(a){if(this.isVisible()){var b=this.workspace_.getMetricsManager(),c=b.getScrollMetrics(),d=b.getViewMetrics();b=b.getAbsoluteMetrics(),"number"==typeof a.y&&(this.workspace_.scrollY=-(c.top+(c.height-d.height)*a.y)),this.workspace_.translate(this.workspace_.scrollX+b.left,this.workspace_.scrollY+b.top)}},module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var a=this.targetWorkspace.getMetricsManager(),b=a.getAbsoluteMetrics(),c=a.getViewMetrics();return a=a.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===module$exports$Blockly$utils$toolbox.Position.LEFT?a.width:c.width-this.width_:this.toolboxPosition_===module$exports$Blockly$utils$toolbox.Position.LEFT?0:c.width:this.toolboxPosition_===module$exports$Blockly$utils$toolbox.Position.LEFT?0:c.width+b.left-this.width_},module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.getY=function(){return 0},module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var a=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=a.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,a.height-2*this.CORNER_RADIUS),a=this.getX();var b=this.getY();this.positionAt_(this.width_,this.height_,a,b)}},module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.setBackgroundPath_=function(a,b){var c=this.toolboxPosition_===module$exports$Blockly$utils$toolbox.Position.RIGHT,d=a+this.CORNER_RADIUS;(d=["M "+(c?d:0)+",0"]).push("h",c?-a:a),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",Math.max(0,b)),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",c?a:-a),d.push("z"),this.svgBackground_.setAttribute("d",d.join(" "))},module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.wheel_=function(a){var b=(0,module$exports$Blockly$browserEvents.getScrollDeltaPixels)(a);if(b.y){var c=this.workspace_.getMetricsManager(),d=c.getScrollMetrics();b=c.getViewMetrics().top-d.top+b.y,this.workspace_.scrollbar.setY(b),(0,module$exports$Blockly$WidgetDiv.hide)(),(0,module$exports$Blockly$dropDownDiv.hideWithoutAnimation)()}a.preventDefault(),a.stopPropagation()},module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.layout_=function(a,b){this.workspace_.scale=this.targetWorkspace.scale;for(var f,c=this.MARGIN,d=this.RTL?c:c+this.tabWidth_,e=0;f=a[e];e++)if("block"===f.type){for(var k,g=(f=f.block).getDescendants(!1),h=0;k=g[h];h++)k.isInFlyout=!0;f.render(),g=f.getSvgRoot(),h=f.getHeightWidth(),k=f.outputConnection?d-this.tabWidth_:d,f.moveBy(k,c),k=this.createRect_(f,this.RTL?k-h.width:k,c,h,e),this.addBlockListeners_(g,f,k),c+=h.height+b[e]}else"button"===f.type&&(this.initFlyoutButton_(f.button,d,c),c+=f.button.height+b[e])},module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.isDragTowardWorkspace=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.dragAngleRange_;return a<b&&a>-b||a<-180+b||a>180-b},module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.left;return this.toolboxPosition_===module$exports$Blockly$utils$toolbox.Position.LEFT?new module$exports$Blockly$utils$Rect.Rect(-1e9,1e9,-1e9,b+a.width):new module$exports$Blockly$utils$Rect.Rect(-1e9,1e9,b,1e9)},module$exports$Blockly$VerticalFlyout.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var d,a=0,b=this.workspace_.getTopBlocks(!1),c=0;d=b[c];c++){var e=d.getHeightWidth().width;d.outputConnection&&(e-=this.tabWidth_),a=Math.max(a,e)}for(c=0;d=this.buttons_[c];c++)a=Math.max(a,d.width);if(a+=1.5*this.MARGIN+this.tabWidth_,a*=this.workspace_.scale,a+=module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness,this.width_!==a){for(c=0;d=b[c];c++){if(this.RTL){e=d.getRelativeToSurfaceXY().x;var f=a/this.workspace_.scale-this.MARGIN;d.outputConnection||(f-=this.tabWidth_),d.moveBy(f-e,0)}this.rectMap_.has(d)&&this.moveRectToBlock_(this.rectMap_.get(d),d)}if(this.RTL)for(b=0;c=this.buttons_[b];b++)d=c.getPosition().y,c.moveTo(a/this.workspace_.scale-c.width-this.MARGIN-this.tabWidth_,d);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==module$exports$Blockly$utils$toolbox.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+a,this.targetWorkspace.scrollY),this.width_=a,this.position(),this.targetWorkspace.recordDragTargets()}},module$exports$Blockly$VerticalFlyout.VerticalFlyout.registryName="verticalFlyout",(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.FLYOUTS_VERTICAL_TOOLBOX,module$exports$Blockly$registry.DEFAULT,module$exports$Blockly$VerticalFlyout.VerticalFlyout);var module$exports$Blockly$ToolboxItem={ToolboxItem:function(a,b,c){this.id_=a.toolboxitemid||(0,module$exports$Blockly$utils$idGenerator.getNextUniqueId)(),this.level_=(this.parent_=c||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=a,this.parentToolbox_=b,this.workspace_=this.parentToolbox_.getWorkspace()}};module$exports$Blockly$ToolboxItem.ToolboxItem.prototype.init=function(){},module$exports$Blockly$ToolboxItem.ToolboxItem.prototype.getDiv=function(){return null},module$exports$Blockly$ToolboxItem.ToolboxItem.prototype.getClickTarget=function(){return null},module$exports$Blockly$ToolboxItem.ToolboxItem.prototype.getId=function(){return this.id_},module$exports$Blockly$ToolboxItem.ToolboxItem.prototype.getParent=function(){return null},module$exports$Blockly$ToolboxItem.ToolboxItem.prototype.getLevel=function(){return this.level_},module$exports$Blockly$ToolboxItem.ToolboxItem.prototype.isSelectable=function(){return!1},module$exports$Blockly$ToolboxItem.ToolboxItem.prototype.isCollapsible=function(){return!1},module$exports$Blockly$ToolboxItem.ToolboxItem.prototype.dispose=function(){};var module$exports$Blockly$ToolboxCategory={ToolboxCategory:function(a,b,c){module$exports$Blockly$ToolboxItem.ToolboxItem.call(this,a,b,c),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[]}};$.$jscomp.inherits(module$exports$Blockly$ToolboxCategory.ToolboxCategory,module$exports$Blockly$ToolboxItem.ToolboxItem),module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.init=function(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),"true"===this.toolboxItemDef_.hidden&&this.hide()},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.parseContents_=function(a){var b=a.contents;if(a.custom)this.flyoutItems_=a.custom;else if(b)for(a=0;a<b.length;a++)this.flyoutItems_.push(b[a])},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.parseCategoryDef_=function(a){this.name_=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a.name),this.colour_=this.getColour_(a),(0,$.module$exports$Blockly$utils$object.mixin)(this.cssConfig_,a.cssconfig||a.cssConfig)},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),(0,module$exports$Blockly$utils$aria.setRole)(this.htmlDiv_,module$exports$Blockly$utils$aria.Role.TREEITEM),(0,module$exports$Blockly$utils$aria.setState)(this.htmlDiv_,module$exports$Blockly$utils$aria.State.SELECTED,!1),(0,module$exports$Blockly$utils$aria.setState)(this.htmlDiv_,module$exports$Blockly$utils$aria.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),(0,module$exports$Blockly$utils$aria.setRole)(this.iconDom_,module$exports$Blockly$utils$aria.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),(0,module$exports$Blockly$utils$aria.setState)(this.htmlDiv_,module$exports$Blockly$utils$aria.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.createContainer_=function(){var a=document.createElement("div");return(0,module$exports$Blockly$utils$dom.addClass)(a,this.cssConfig_.container),a},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.createRowContainer_=function(){var a=document.createElement("div");(0,module$exports$Blockly$utils$dom.addClass)(a,this.cssConfig_.row);var b=module$exports$Blockly$ToolboxCategory.ToolboxCategory.nestedPadding*this.getLevel();return b=b.toString()+"px",this.workspace_.RTL?a.style.paddingRight=b:a.style.paddingLeft=b,a},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.createRowContentsContainer_=function(){var a=document.createElement("div");return(0,module$exports$Blockly$utils$dom.addClass)(a,this.cssConfig_.rowcontentcontainer),a},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.createIconDom_=function(){var a=document.createElement("span");return this.parentToolbox_.isHorizontal()||(0,module$exports$Blockly$utils$dom.addClass)(a,this.cssConfig_.icon),a.style.display="inline-block",a},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.createLabelDom_=function(a){var b=document.createElement("span");return b.setAttribute("id",this.getId()+".label"),b.textContent=a,(0,module$exports$Blockly$utils$dom.addClass)(b,this.cssConfig_.label),b},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.addColourBorder_=function(a){a&&(a=module$exports$Blockly$ToolboxCategory.ToolboxCategory.borderWidth+"px solid "+(a||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=a:this.rowDiv_.style.borderLeft=a)},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.getColour_=function(a){var b=a.categorystyle||a.categoryStyle;return(a=a.colour)&&b?(console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour'),""):b?this.getColourfromStyle_(b):this.parseColour_(a)},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.getColourfromStyle_=function(a){var b=this.workspace_.getTheme();if(a&&b){if((b=b.categoryStyles[a])&&b.colour)return this.parseColour_(b.colour);console.warn('Style "'+a+'" must exist and contain a colour value')}return""},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.parseColour_=function(a){if(null==(a=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a))||""===a)return"";var b=Number(a);return isNaN(b)?(b=(0,module$exports$Blockly$utils$colour.parse)(a))?b:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+a),""):(0,module$exports$Blockly$utils$colour.hueToHex)(b)},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.openIcon_=function(a){a&&((0,module$exports$Blockly$utils$dom.removeClasses)(a,this.cssConfig_.closedicon),(0,module$exports$Blockly$utils$dom.addClass)(a,this.cssConfig_.openicon))},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.closeIcon_=function(a){a&&((0,module$exports$Blockly$utils$dom.removeClasses)(a,this.cssConfig_.openicon),(0,module$exports$Blockly$utils$dom.addClass)(a,this.cssConfig_.closedicon))},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.setVisible_=function(a){this.htmlDiv_.style.display=a?"block":"none",this.isHidden_=!a,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var a=this;a.getParent();)if(!(a=a.getParent()).isExpanded())return!1;return!0},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.onClick=function(a){},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.setSelected=function(a){if(a){var b=this.parseColour_(module$exports$Blockly$ToolboxCategory.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||b,(0,module$exports$Blockly$utils$dom.addClass)(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",(0,module$exports$Blockly$utils$dom.removeClass)(this.rowDiv_,this.cssConfig_.selected);(0,module$exports$Blockly$utils$aria.setState)(this.htmlDiv_,module$exports$Blockly$utils$aria.State.SELECTED,a)},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.setDisabled=function(a){this.isDisabled_=a,this.getDiv().setAttribute("disabled",a),a?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.getName=function(){return this.name_},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.getParent=function(){return this.parent_},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.updateFlyoutContents=function(a){this.flyoutItems_=[],"string"==typeof a?this.toolboxItemDef_.custom=a:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=(0,module$exports$Blockly$utils$toolbox.convertFlyoutDefToJsonArray)(a)),this.parseContents_(this.toolboxItemDef_)},module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.dispose=function(){(0,module$exports$Blockly$utils$dom.removeNode)(this.htmlDiv_)},module$exports$Blockly$ToolboxCategory.ToolboxCategory.registrationName="category",module$exports$Blockly$ToolboxCategory.ToolboxCategory.nestedPadding=19,module$exports$Blockly$ToolboxCategory.ToolboxCategory.borderWidth=8,module$exports$Blockly$ToolboxCategory.ToolboxCategory.defaultBackgroundColour="#57e",(0,module$exports$Blockly$Css.register)('\n.blocklyTreeRow:not(.blocklyTreeSelected):hover {\n  background-color: rgba(255, 255, 255, .2);\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {\n  margin: 1px 5px 1px 0;\n}\n\n.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {\n  margin: 1px 0 1px 5px;\n}\n\n.blocklyTreeRow {\n  height: 22px;\n  line-height: 22px;\n  margin-bottom: 3px;\n  padding-right: 8px;\n  white-space: nowrap;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {\n  margin-left: 8px;\n  padding-right: 0;\n}\n\n.blocklyTreeIcon {\n  background-image: url(<<<PATH>>>/sprites.png);\n  height: 16px;\n  vertical-align: middle;\n  visibility: hidden;\n  width: 16px;\n}\n\n.blocklyTreeIconClosed {\n  background-position: -32px -1px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {\n  background-position: 0 -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: -32px -17px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: 0 -17px;\n}\n\n.blocklyTreeIconOpen {\n  background-position: -16px -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconOpen {\n  background-position: -16px -17px;\n}\n\n.blocklyTreeLabel {\n  cursor: default;\n  font: 16px sans-serif;\n  padding: 0 3px;\n  vertical-align: middle;\n}\n\n.blocklyToolboxDelete .blocklyTreeLabel {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyTreeSelected .blocklyTreeLabel {\n  color: #fff;\n}\n'),(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.TOOLBOX_ITEM,module$exports$Blockly$ToolboxCategory.ToolboxCategory.registrationName,module$exports$Blockly$ToolboxCategory.ToolboxCategory);var module$exports$Blockly$ToolboxSeparator={ToolboxSeparator:function(a,b){module$exports$Blockly$ToolboxItem.ToolboxItem.call(this,a,b),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,(0,$.module$exports$Blockly$utils$object.mixin)(this.cssConfig_,a.cssconfig||a.cssConfig)}};$.$jscomp.inherits(module$exports$Blockly$ToolboxSeparator.ToolboxSeparator,module$exports$Blockly$ToolboxItem.ToolboxItem),module$exports$Blockly$ToolboxSeparator.ToolboxSeparator.prototype.init=function(){this.createDom_()},module$exports$Blockly$ToolboxSeparator.ToolboxSeparator.prototype.createDom_=function(){var a=document.createElement("div");return(0,module$exports$Blockly$utils$dom.addClass)(a,this.cssConfig_.container),this.htmlDiv_=a},module$exports$Blockly$ToolboxSeparator.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},module$exports$Blockly$ToolboxSeparator.ToolboxSeparator.prototype.dispose=function(){(0,module$exports$Blockly$utils$dom.removeNode)(this.htmlDiv_)},module$exports$Blockly$ToolboxSeparator.ToolboxSeparator.registrationName="sep",(0,module$exports$Blockly$Css.register)('\n.blocklyTreeSeparator {\n  border-bottom: solid #e5e5e5 1px;\n  height: 0;\n  margin: 5px 0;\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {\n  border-right: solid #e5e5e5 1px;\n  border-bottom: none;\n  height: auto;\n  margin: 0 5px 0 5px;\n  padding: 5px 0;\n  width: 0;\n}\n'),(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.TOOLBOX_ITEM,module$exports$Blockly$ToolboxSeparator.ToolboxSeparator.registrationName,module$exports$Blockly$ToolboxSeparator.ToolboxSeparator);var module$exports$Blockly$CollapsibleToolboxCategory={CollapsibleToolboxCategory:function(a,b,c){module$exports$Blockly$ToolboxCategory.ToolboxCategory.call(this,a,b,c),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}};$.$jscomp.inherits(module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory,module$exports$Blockly$ToolboxCategory.ToolboxCategory),module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var a=module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.makeDefaultCssConfig_.call(this);return a.contents="blocklyToolboxContents",a},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.parseContents_=function(a){var b=a.contents,c=!0;if(a.custom)this.flyoutItems_=a.custom;else if(b)for(a=0;a<b.length;a++){var d=b[a];!(0,module$exports$Blockly$registry.hasItem)(module$exports$Blockly$registry.Type.TOOLBOX_ITEM,d.kind)||d.kind.toLowerCase()===module$exports$Blockly$ToolboxSeparator.ToolboxSeparator.registrationName&&c?(this.flyoutItems_.push(d),c=!0):(this.createToolboxItem_(d),c=!1)}},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(a){var b=a.kind;"CATEGORY"==b.toUpperCase()&&(0,module$exports$Blockly$utils$toolbox.isCategoryCollapsible)(a)&&(b=module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.registrationName),a=new((0,module$exports$Blockly$registry.getClass)(module$exports$Blockly$registry.Type.TOOLBOX_ITEM,b))(a,this.parentToolbox_,this),this.toolboxItems_.push(a)},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.init=function(){module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.init.call(this),this.setExpanded("true"===this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.createDom_=function(){module$exports$Blockly$ToolboxCategory.ToolboxCategory.prototype.createDom_.call(this);var a=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(a),(0,module$exports$Blockly$utils$aria.setRole)(this.subcategoriesDiv_,module$exports$Blockly$utils$aria.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var a=document.createElement("span");return this.parentToolbox_.isHorizontal()||((0,module$exports$Blockly$utils$dom.addClass)(a,this.cssConfig_.icon),a.style.visibility="visible"),a.style.display="inline-block",a},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(a){var b=document.createElement("div");(0,module$exports$Blockly$utils$dom.addClass)(b,this.cssConfig_.contents);for(var c=0;c<a.length;c++){var d=a[c];d.init();var e=d.getDiv();b.appendChild(e),d.getClickTarget&&d.getClickTarget().setAttribute("id",d.getId())}return b},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.setExpanded=function(a){this.expanded_!==a&&((this.expanded_=a)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),(0,module$exports$Blockly$utils$aria.setState)(this.htmlDiv_,module$exports$Blockly$utils$aria.State.EXPANDED,a),this.parentToolbox_.handleToolboxItemResize())},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.setVisible_=function(a){this.htmlDiv_.style.display=a?"block":"none";for(var b=this.getChildToolboxItems(),c=0;c<b.length;c++)b[c].setVisible_(a);this.isHidden_=!a,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.onClick=function(a){this.toggleExpanded()},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.registrationName="collapsibleCategory",(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.TOOLBOX_ITEM,module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.registrationName,module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory);var module$exports$Blockly$Events$ToolboxItemSelect={ToolboxItemSelect:function(a,b,c){module$exports$Blockly$Events$UiBase.UiBase.call(this,c),this.oldItem=a,this.newItem=b,this.type=module$exports$Blockly$Events$utils.TOOLBOX_ITEM_SELECT}};$.$jscomp.inherits(module$exports$Blockly$Events$ToolboxItemSelect.ToolboxItemSelect,module$exports$Blockly$Events$UiBase.UiBase),module$exports$Blockly$Events$ToolboxItemSelect.ToolboxItemSelect.prototype.toJson=function(){var a=module$exports$Blockly$Events$UiBase.UiBase.prototype.toJson.call(this);return a.oldItem=this.oldItem,a.newItem=this.newItem,a},module$exports$Blockly$Events$ToolboxItemSelect.ToolboxItemSelect.prototype.fromJson=function(a){module$exports$Blockly$Events$UiBase.UiBase.prototype.fromJson.call(this,a),this.oldItem=a.oldItem,this.newItem=a.newItem},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.TOOLBOX_ITEM_SELECT,module$exports$Blockly$Events$ToolboxItemSelect.ToolboxItemSelect);var module$exports$Blockly$Toolbox={Toolbox:function(a){module$exports$Blockly$DeleteArea.DeleteArea.call(this),this.workspace_=a,this.id="toolbox",this.toolboxDef_=a.options.languageTree||{contents:[]},this.horizontalLayout_=a.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.RTL=a.options.RTL,this.flyout_=null,this.contentMap_=Object.create(null),this.toolboxPosition=a.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]}};$.$jscomp.inherits(module$exports$Blockly$Toolbox.Toolbox,module$exports$Blockly$DeleteArea.DeleteArea),module$exports$Blockly$Toolbox.Toolbox.prototype.onShortcut=function(a){return!1},module$exports$Blockly$Toolbox.Toolbox.prototype.init=function(){var a=this.workspace_,b=a.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),(0,module$exports$Blockly$utils$dom.insertAfter)(this.flyout_.createDom("svg"),b),this.setVisible(!0),this.flyout_.init(a),this.render(this.toolboxDef_),(a=a.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),a.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[module$exports$Blockly$ComponentManager.ComponentManager.Capability.AUTOHIDEABLE,module$exports$Blockly$ComponentManager.ComponentManager.Capability.DELETE_AREA,module$exports$Blockly$ComponentManager.ComponentManager.Capability.DRAG_TARGET]})},module$exports$Blockly$Toolbox.Toolbox.prototype.createDom_=function(a){a=a.getParentSvg();var b=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,(0,module$exports$Blockly$utils$aria.setRole)(this.contentsDiv_,module$exports$Blockly$utils$aria.Role.TREE),b.appendChild(this.contentsDiv_),a.parentNode.insertBefore(b,a),this.attachEvents_(b,this.contentsDiv_),b},module$exports$Blockly$Toolbox.Toolbox.prototype.createContainer_=function(){var a=document.createElement("div");return a.setAttribute("layout",this.isHorizontal()?"h":"v"),(0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyToolboxDiv"),(0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyNonSelectable"),a.setAttribute("dir",this.RTL?"RTL":"LTR"),a},module$exports$Blockly$Toolbox.Toolbox.prototype.createContentsContainer_=function(){var a=document.createElement("div");return(0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyToolboxContents"),this.isHorizontal()&&(a.style.flexDirection="row"),a},module$exports$Blockly$Toolbox.Toolbox.prototype.attachEvents_=function(a,b){a=(0,module$exports$Blockly$browserEvents.conditionalBind)(a,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(a),b=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(b)},module$exports$Blockly$Toolbox.Toolbox.prototype.onClick_=function(a){if((0,module$exports$Blockly$browserEvents.isRightButton)(a)||a.target===this.HtmlDiv)(0,$.module$exports$Blockly$common.getMainWorkspace)().hideChaff(!1);else{var b=a.target.getAttribute("id");b&&(b=this.getToolboxItemById(b)).isSelectable()&&(this.setSelectedItem(b),b.onClick(a)),(0,$.module$exports$Blockly$common.getMainWorkspace)().hideChaff(!0)}(0,module$exports$Blockly$Touch.clearTouchIdentifier)()},module$exports$Blockly$Toolbox.Toolbox.prototype.onKeyDown_=function(a){var b=!1;switch(a.keyCode){case module$exports$Blockly$utils$KeyCodes_KeyCodes.DOWN:b=this.selectNext_();break;case module$exports$Blockly$utils$KeyCodes_KeyCodes.UP:b=this.selectPrevious_();break;case module$exports$Blockly$utils$KeyCodes_KeyCodes.LEFT:b=this.selectParent_();break;case module$exports$Blockly$utils$KeyCodes_KeyCodes.RIGHT:b=this.selectChild_();break;case module$exports$Blockly$utils$KeyCodes_KeyCodes.ENTER:case module$exports$Blockly$utils$KeyCodes_KeyCodes.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),b=!0);break;default:b=!1}!b&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(b=this.selectedItem_.onKeyDown(a)),b&&a.preventDefault()},module$exports$Blockly$Toolbox.Toolbox.prototype.createFlyout_=function(){var a=this.workspace_,b=new module$exports$Blockly$Options.Options({parentWorkspace:a,rtl:a.RTL,oneBasedIndex:a.options.oneBasedIndex,horizontalLayout:a.horizontalLayout,renderer:a.options.renderer,rendererOverrides:a.options.rendererOverrides,move:{scrollbars:!0}});return b.toolboxPosition=a.options.toolboxPosition,new(a.horizontalLayout?(0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,a.options,!0):(0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.FLYOUTS_VERTICAL_TOOLBOX,a.options,!0))(b)},module$exports$Blockly$Toolbox.Toolbox.prototype.render=function(a){this.toolboxDef_=a;for(var b=0;b<this.contents_.length;b++){var c=this.contents_[b];c&&c.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(a.contents),this.position(),this.handleToolboxItemResize()},module$exports$Blockly$Toolbox.Toolbox.prototype.renderContents_=function(a){for(var b=document.createDocumentFragment(),c=0;c<a.length;c++)this.createToolboxItem_(a[c],b);this.contentsDiv_.appendChild(b)},module$exports$Blockly$Toolbox.Toolbox.prototype.createToolboxItem_=function(a,b){var c=a.kind;"CATEGORY"===c.toUpperCase()&&(0,module$exports$Blockly$utils$toolbox.isCategoryCollapsible)(a)&&(c=module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory.registrationName),(c=(0,module$exports$Blockly$registry.getClass)(module$exports$Blockly$registry.Type.TOOLBOX_ITEM,c.toLowerCase()))&&((a=new c(a,this)).init(),this.addToolboxItem_(a),(c=a.getDiv())&&b.appendChild(c),a.getClickTarget()&&a.getClickTarget().setAttribute("id",a.getId()))},module$exports$Blockly$Toolbox.Toolbox.prototype.addToolboxItem_=function(a){if(this.contents_.push(a),this.contentMap_[a.getId()]=a,a.isCollapsible()){a=a.getChildToolboxItems();for(var b=0;b<a.length;b++)this.addToolboxItem_(a[b])}},module$exports$Blockly$Toolbox.Toolbox.prototype.getToolboxItems=function(){return this.contents_},module$exports$Blockly$Toolbox.Toolbox.prototype.addStyle=function(a){(0,module$exports$Blockly$utils$dom.addClass)(this.HtmlDiv,a)},module$exports$Blockly$Toolbox.Toolbox.prototype.removeStyle=function(a){(0,module$exports$Blockly$utils$dom.removeClass)(this.HtmlDiv,a)},module$exports$Blockly$Toolbox.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv||!this.isVisible_)return null;var a=this.HtmlDiv.getBoundingClientRect(),b=a.top,c=b+a.height,d=a.left;return a=d+a.width,this.toolboxPosition===module$exports$Blockly$utils$toolbox.Position.TOP?new module$exports$Blockly$utils$Rect.Rect(-1e7,c,-1e7,1e7):this.toolboxPosition===module$exports$Blockly$utils$toolbox.Position.BOTTOM?new module$exports$Blockly$utils$Rect.Rect(b,1e7,-1e7,1e7):this.toolboxPosition===module$exports$Blockly$utils$toolbox.Position.LEFT?new module$exports$Blockly$utils$Rect.Rect(-1e7,1e7,-1e7,a):new module$exports$Blockly$utils$Rect.Rect(-1e7,1e7,d,1e7)},module$exports$Blockly$Toolbox.Toolbox.prototype.wouldDelete=function(a,b){return a instanceof module$exports$Blockly$BlockSvg.BlockSvg?this.updateWouldDelete_(!a.getParent()&&a.isDeletable()):this.updateWouldDelete_(a.isDeletable()),this.wouldDelete_},module$exports$Blockly$Toolbox.Toolbox.prototype.onDragEnter=function(a){this.updateCursorDeleteStyle_(!0)},module$exports$Blockly$Toolbox.Toolbox.prototype.onDragExit=function(a){this.updateCursorDeleteStyle_(!1)},module$exports$Blockly$Toolbox.Toolbox.prototype.onDrop=function(a){this.updateCursorDeleteStyle_(!1)},module$exports$Blockly$Toolbox.Toolbox.prototype.updateWouldDelete_=function(a){a!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=a,this.updateCursorDeleteStyle_(!0))},module$exports$Blockly$Toolbox.Toolbox.prototype.updateCursorDeleteStyle_=function(a){var b=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";a?this.addStyle(b):this.removeStyle(b)},module$exports$Blockly$Toolbox.Toolbox.prototype.getToolboxItemById=function(a){return this.contentMap_[a]||null},module$exports$Blockly$Toolbox.Toolbox.prototype.getWidth=function(){return this.width_},module$exports$Blockly$Toolbox.Toolbox.prototype.getHeight=function(){return this.height_},module$exports$Blockly$Toolbox.Toolbox.prototype.getFlyout=function(){return this.flyout_},module$exports$Blockly$Toolbox.Toolbox.prototype.getWorkspace=function(){return this.workspace_},module$exports$Blockly$Toolbox.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},module$exports$Blockly$Toolbox.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},module$exports$Blockly$Toolbox.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},module$exports$Blockly$Toolbox.Toolbox.prototype.position=function(){var a=this.workspace_.getMetrics(),b=this.HtmlDiv;b&&(this.horizontalLayout_?(b.style.left="0",b.style.height="auto",b.style.width="100%",this.height_=b.offsetHeight,this.width_=a.viewWidth,this.toolboxPosition===module$exports$Blockly$utils$toolbox.Position.TOP?b.style.top="0":b.style.bottom="0"):(this.toolboxPosition===module$exports$Blockly$utils$toolbox.Position.RIGHT?b.style.right="0":b.style.left="0",b.style.height="100%",this.width_=b.offsetWidth,this.height_=a.viewHeight),this.flyout_.position())},module$exports$Blockly$Toolbox.Toolbox.prototype.handleToolboxItemResize=function(){var a=this.workspace_,b=this.HtmlDiv.getBoundingClientRect();a.translate(this.toolboxPosition===module$exports$Blockly$utils$toolbox.Position.LEFT?a.scrollX+b.width:a.scrollX,this.toolboxPosition===module$exports$Blockly$utils$toolbox.Position.TOP?a.scrollY+b.height:a.scrollY),(0,$.module$exports$Blockly$common.svgResize)(a)},module$exports$Blockly$Toolbox.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},module$exports$Blockly$Toolbox.Toolbox.prototype.refreshTheme=function(){for(var a=0;a<this.contents_.length;a++){var b=this.contents_[a];b.refreshTheme&&b.refreshTheme()}},module$exports$Blockly$Toolbox.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},module$exports$Blockly$Toolbox.Toolbox.prototype.setVisible=function(a){this.isVisible_!==a&&(this.HtmlDiv.style.display=a?"block":"none",this.isVisible_=a,this.workspace_.recordDragTargets())},module$exports$Blockly$Toolbox.Toolbox.prototype.autoHide=function(a){!a&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()},module$exports$Blockly$Toolbox.Toolbox.prototype.setSelectedItem=function(a){var b=this.selectedItem_;!a&&!b||a&&!a.isSelectable()||(this.shouldDeselectItem_(b,a)&&null!==b&&this.deselectItem_(b),this.shouldSelectItem_(b,a)&&null!==a&&this.selectItem_(b,a),this.updateFlyout_(b,a),this.fireSelectEvent_(b,a))},module$exports$Blockly$Toolbox.Toolbox.prototype.shouldDeselectItem_=function(a,b){return null!==a&&(!a.isCollapsible()||a!==b)},module$exports$Blockly$Toolbox.Toolbox.prototype.shouldSelectItem_=function(a,b){return null!==b&&b!==a},module$exports$Blockly$Toolbox.Toolbox.prototype.deselectItem_=function(a){this.selectedItem_=null,this.previouslySelectedItem_=a,a.setSelected(!1),(0,module$exports$Blockly$utils$aria.setState)(this.contentsDiv_,module$exports$Blockly$utils$aria.State.ACTIVEDESCENDANT,"")},module$exports$Blockly$Toolbox.Toolbox.prototype.selectItem_=function(a,b){this.selectedItem_=b,this.previouslySelectedItem_=a,b.setSelected(!0),(0,module$exports$Blockly$utils$aria.setState)(this.contentsDiv_,module$exports$Blockly$utils$aria.State.ACTIVEDESCENDANT,b.getId())},module$exports$Blockly$Toolbox.Toolbox.prototype.selectItemByPosition=function(a){-1<a&&a<this.contents_.length&&(a=this.contents_[a]).isSelectable()&&this.setSelectedItem(a)},module$exports$Blockly$Toolbox.Toolbox.prototype.updateFlyout_=function(a,b){b&&(a!==b||b.isCollapsible())&&b.getContents().length?(this.flyout_.show(b.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},module$exports$Blockly$Toolbox.Toolbox.prototype.fireSelectEvent_=function(a,b){var c=a&&a.getName(),d=b&&b.getName();a===b&&(d=null),a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.TOOLBOX_ITEM_SELECT))(c,d,this.workspace_.id),(0,module$exports$Blockly$Events$utils.fire)(a)},module$exports$Blockly$Toolbox.Toolbox.prototype.selectParent_=function(){return!(!this.selectedItem_||(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),0):!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable()||(this.setSelectedItem(this.selectedItem_.getParent()),0)))},module$exports$Blockly$Toolbox.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var a=this.selectedItem_;return a.isExpanded()?this.selectNext_():a.setExpanded(!0),!0},module$exports$Blockly$Toolbox.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var a=this.contents_.indexOf(this.selectedItem_)+1;if(-1<a&&a<this.contents_.length){for(var b=this.contents_[a];b&&!b.isSelectable();)b=this.contents_[++a];if(b&&b.isSelectable())return this.setSelectedItem(b),!0}return!1},module$exports$Blockly$Toolbox.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var a=this.contents_.indexOf(this.selectedItem_)-1;if(-1<a&&a<this.contents_.length){for(var b=this.contents_[a];b&&!b.isSelectable();)b=this.contents_[--a];if(b&&b.isSelectable())return this.setSelectedItem(b),!0}return!1},module$exports$Blockly$Toolbox.Toolbox.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var a=0;a<this.contents_.length;a++)this.contents_[a].dispose();for(a=0;a<this.boundEvents_.length;a++)(0,module$exports$Blockly$browserEvents.unbind)(this.boundEvents_[a]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),(0,module$exports$Blockly$utils$dom.removeNode)(this.HtmlDiv)},(0,module$exports$Blockly$Css.register)('\n.blocklyToolboxDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyToolboxGrab {\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Category tree in Toolbox. */\n.blocklyToolboxDiv {\n  background-color: #ddd;\n  overflow-x: visible;\n  overflow-y: auto;\n  padding: 4px 0 4px 0;\n  position: absolute;\n  z-index: 70;  /* so blocks go under toolbox when dragging */\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\n}\n\n.blocklyToolboxContents {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n}\n\n.blocklyToolboxContents:focus {\n  outline: none;\n}\n'),(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.TOOLBOX,module$exports$Blockly$registry.DEFAULT,module$exports$Blockly$Toolbox.Toolbox);var module$exports$Blockly$HorizontalFlyout={HorizontalFlyout:function(a){module$exports$Blockly$Flyout.Flyout.call(this,a),this.horizontalLayout=!0}};$.$jscomp.inherits(module$exports$Blockly$HorizontalFlyout.HorizontalFlyout,module$exports$Blockly$Flyout.Flyout),module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.setMetrics_=function(a){if(this.isVisible()){var b=this.workspace_.getMetricsManager(),c=b.getScrollMetrics(),d=b.getViewMetrics();b=b.getAbsoluteMetrics(),"number"==typeof a.x&&(this.workspace_.scrollX=-(c.left+(c.width-d.width)*a.x)),this.workspace_.translate(this.workspace_.scrollX+b.left,this.workspace_.scrollY+b.top)}},module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.getX=function(){return 0},module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var a=this.targetWorkspace.getMetricsManager(),b=a.getAbsoluteMetrics(),c=a.getViewMetrics();a=a.getToolboxMetrics();var d=this.toolboxPosition_===module$exports$Blockly$utils$toolbox.Position.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?d?a.height:c.height-this.height_:d?0:c.height:d?0:c.height+b.top-this.height_},module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var a=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=a.width,this.setBackgroundPath_(a.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),a=this.getX();var b=this.getY();this.positionAt_(this.width_,this.height_,a,b)}},module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.setBackgroundPath_=function(a,b){var c=this.toolboxPosition_===module$exports$Blockly$utils$toolbox.Position.TOP,d=["M 0,"+(c?0:this.CORNER_RADIUS)];c?(d.push("h",a+2*this.CORNER_RADIUS),d.push("v",b),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",-a),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),d.push("h",a),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",b),d.push("h",-a-2*this.CORNER_RADIUS)),d.push("z"),this.svgBackground_.setAttribute("d",d.join(" "))},module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.wheel_=function(a){var b=(0,module$exports$Blockly$browserEvents.getScrollDeltaPixels)(a);if(b=b.x||b.y){var c=this.workspace_.getMetricsManager(),d=c.getScrollMetrics();b=c.getViewMetrics().left-d.left+b,this.workspace_.scrollbar.setX(b),(0,module$exports$Blockly$WidgetDiv.hide)(),(0,module$exports$Blockly$dropDownDiv.hideWithoutAnimation)()}a.preventDefault(),a.stopPropagation()},module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.layout_=function(a,b){this.workspace_.scale=this.targetWorkspace.scale;var c=this.MARGIN,d=c+this.tabWidth_;this.RTL&&(a=a.reverse());for(var f,e=0;f=a[e];e++)if("block"===f.type){for(var k,g=(f=f.block).getDescendants(!1),h=0;k=g[h];h++)k.isInFlyout=!0;f.render(),g=f.getSvgRoot(),h=f.getHeightWidth(),k=f.outputConnection?this.tabWidth_:0,k=this.RTL?d+h.width:d-k,f.moveBy(k,c),k=this.createRect_(f,k,c,h,e),d+=h.width+b[e],this.addBlockListeners_(g,f,k)}else"button"===f.type&&(this.initFlyoutButton_(f.button,d,c),d+=f.button.width+b[e])},module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.isDragTowardWorkspace=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.dragAngleRange_;return a<90+b&&a>90-b||a>-90-b&&a<-90+b},module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.top;return this.toolboxPosition_===module$exports$Blockly$utils$toolbox.Position.TOP?new module$exports$Blockly$utils$Rect.Rect(-1e9,b+a.height,-1e9,1e9):new module$exports$Blockly$utils$Rect.Rect(b,1e9,-1e9,1e9)},module$exports$Blockly$HorizontalFlyout.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var d,a=0,b=this.workspace_.getTopBlocks(!1),c=0;d=b[c];c++)a=Math.max(a,d.getHeightWidth().height);c=this.buttons_,d=0;for(var e;e=c[d];d++)a=Math.max(a,e.height);if(a+=1.5*this.MARGIN,a*=this.workspace_.scale,a+=module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness,this.height_!==a){for(c=0;d=b[c];c++)this.rectMap_.has(d)&&this.moveRectToBlock_(this.rectMap_.get(d),d);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==module$exports$Blockly$utils$toolbox.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+a),this.height_=a,this.position(),this.targetWorkspace.recordDragTargets()}},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,module$exports$Blockly$registry.DEFAULT,module$exports$Blockly$HorizontalFlyout.HorizontalFlyout),$.module$exports$Blockly$Generator={Generator:function(a){this.name_=a,this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g"),this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.nameDB_=this.functionNames_=this.definitions_=void 0}},$.module$exports$Blockly$Generator.Generator.prototype.workspaceToCode=function(a){a||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),a=(0,$.module$exports$Blockly$common.getMainWorkspace)());var b=[];this.init(a),a=a.getTopBlocks(!0);for(var d,c=0;d=a[c];c++){var e=this.blockToCode(d);Array.isArray(e)&&(e=e[0]),e&&(d.outputConnection&&(e=this.scrubNakedValue(e),this.STATEMENT_PREFIX&&!d.suppressPrefixSuffix&&(e=this.injectId(this.STATEMENT_PREFIX,d)+e),this.STATEMENT_SUFFIX&&!d.suppressPrefixSuffix&&(e+=this.injectId(this.STATEMENT_SUFFIX,d))),b.push(e))}return b=b.join("\n"),(b=(b=(b=this.finish(b)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},$.module$exports$Blockly$Generator.Generator.prototype.prefixLines=function(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)},$.module$exports$Blockly$Generator.Generator.prototype.allNestedComments=function(a){var b=[];a=a.getDescendants(!0);for(var c=0;c<a.length;c++){var d=a[c].getCommentText();d&&b.push(d)}return b.length&&b.push(""),b.join("\n")},$.module$exports$Blockly$Generator.Generator.prototype.blockToCode=function(a,b){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!a)return"";if(!a.isEnabled())return b?"":this.blockToCode(a.getNextBlock());if(a.isInsertionMarker())return b?"":this.blockToCode(a.getChildren(!1)[0]);var c=this[a.type];if("function"!=typeof c)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+a.type+'".');if(c=c.call(a,a),Array.isArray(c)){if(!a.outputConnection)throw TypeError("Expecting string from statement block: "+a.type);return[this.scrub_(a,c[0],b),c[1]]}if("string"==typeof c)return this.STATEMENT_PREFIX&&!a.suppressPrefixSuffix&&(c=this.injectId(this.STATEMENT_PREFIX,a)+c),this.STATEMENT_SUFFIX&&!a.suppressPrefixSuffix&&(c+=this.injectId(this.STATEMENT_SUFFIX,a)),this.scrub_(a,c,b);if(null===c)return"";throw SyntaxError("Invalid code generated: "+c)},$.module$exports$Blockly$Generator.Generator.prototype.valueToCode=function(a,b,c){if(isNaN(c))throw TypeError("Expecting valid order from block: "+a.type);var d=a.getInputTargetBlock(b);if(!d)return"";if(""===(b=this.blockToCode(d)))return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+d.type);if(a=b[0],b=b[1],isNaN(b))throw TypeError("Expecting valid order from value block: "+d.type);if(!a)return"";d=!1;var e=Math.floor(c),f=Math.floor(b);if(e<=f&&(e!==f||0!==e&&99!==e))for(d=!0,e=0;e<this.ORDER_OVERRIDES.length;e++)if(this.ORDER_OVERRIDES[e][0]===c&&this.ORDER_OVERRIDES[e][1]===b){d=!1;break}return d&&(a="("+a+")"),a},$.module$exports$Blockly$Generator.Generator.prototype.statementToCode=function(a,b){if(a=a.getInputTargetBlock(b),"string"!=typeof(b=this.blockToCode(a)))throw TypeError("Expecting code from statement block: "+(a&&a.type));return b&&(b=this.prefixLines(b,this.INDENT)),b},$.module$exports$Blockly$Generator.Generator.prototype.addLoopTrap=function(a,b){return this.INFINITE_LOOP_TRAP&&(a=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,b),this.INDENT)+a),this.STATEMENT_SUFFIX&&!b.suppressPrefixSuffix&&(a=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,b),this.INDENT)+a),this.STATEMENT_PREFIX&&!b.suppressPrefixSuffix&&(a+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,b),this.INDENT)),a},$.module$exports$Blockly$Generator.Generator.prototype.injectId=function(a,b){return b=b.id.replace(/\$/g,"$$$$"),a.replace(/%1/g,"'"+b+"'")},$.module$exports$Blockly$Generator.Generator.prototype.addReservedWords=function(a){this.RESERVED_WORDS_+=a+","},$.module$exports$Blockly$Generator.Generator.prototype.provideFunction_=function(a,b){if(!this.definitions_[a]){var d,c=this.nameDB_.getDistinctName(a,$.module$exports$Blockly$Names.NameType.PROCEDURE);for(this.functionNames_[a]=c,Array.isArray(b)&&(b=b.join("\n")),b=b.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,c);d!==b;)d=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\0");b=b.replace(/\0/g,this.INDENT),this.definitions_[a]=b}return this.functionNames_[a]},$.module$exports$Blockly$Generator.Generator.prototype.init=function(a){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)},$.module$exports$Blockly$Generator.Generator.prototype.scrub_=function(a,b,c){return b},$.module$exports$Blockly$Generator.Generator.prototype.finish=function(a){return delete this.definitions_,delete this.functionNames_,a},$.module$exports$Blockly$Generator.Generator.prototype.scrubNakedValue=function(a){return a},Object.defineProperties($.module$exports$Blockly$Generator.Generator.prototype,{variableDB_:{get:function(){return(0,module$exports$Blockly$utils$deprecation.warn)("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_},set:function(a){(0,module$exports$Blockly$utils$deprecation.warn)("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_=a}}});var module$exports$Blockly$FieldVariable={FieldVariable:function(a,b,c,d,e){$.module$exports$Blockly$FieldDropdown.FieldDropdown.call(this,module$exports$Blockly$Field.Field.SKIP_SETUP),this.menuGenerator_=module$exports$Blockly$FieldVariable.FieldVariable.dropdownCreate,this.defaultVariableName="string"==typeof a?a:"",this.defaultType_="",this.variableTypes=[],this.size_=new module$exports$Blockly$utils$Size.Size(0,0),this.variable_=null,this.SERIALIZABLE=!0,a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(e?this.configure_(e):this.setTypes_(c,d),b&&this.setValidator(b))}};$.$jscomp.inherits(module$exports$Blockly$FieldVariable.FieldVariable,$.module$exports$Blockly$FieldDropdown.FieldDropdown),module$exports$Blockly$FieldVariable.FieldVariable.prototype.configure_=function(a){$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.configure_.call(this,a),this.setTypes_(a.variableTypes,a.defaultType)},module$exports$Blockly$FieldVariable.FieldVariable.prototype.initModel=function(){if(!this.variable_){var a=(0,$.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(a.getId())}},module$exports$Blockly$FieldVariable.FieldVariable.prototype.shouldAddBorderRect_=function(){return $.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!==this.sourceBlock_.type)},module$exports$Blockly$FieldVariable.FieldVariable.prototype.fromXml=function(a){var b=a.getAttribute("id"),c=a.textContent,d=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";if(b=(0,$.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.sourceBlock_.workspace,b,c,d),null!==d&&d!==b.type)throw Error("Serialized variable type with id '"+b.getId()+"' had type "+b.type+", and does not match variable field that references it: "+(0,$.module$exports$Blockly$Xml.domToText)(a)+".");this.setValue(b.getId())},module$exports$Blockly$FieldVariable.FieldVariable.prototype.toXml=function(a){return this.initModel(),a.id=this.variable_.getId(),a.textContent=this.variable_.name,this.variable_.type&&a.setAttribute("variabletype",this.variable_.type),a},module$exports$Blockly$FieldVariable.FieldVariable.prototype.saveState=function(a){var b=this.saveLegacyState(module$exports$Blockly$FieldVariable.FieldVariable);return null!==b||(this.initModel(),b={id:this.variable_.getId()},a&&(b.name=this.variable_.name,b.type=this.variable_.type)),b},module$exports$Blockly$FieldVariable.FieldVariable.prototype.loadState=function(a){this.loadLegacyState(module$exports$Blockly$FieldVariable.FieldVariable,a)||(a=(0,$.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.sourceBlock_.workspace,a.id||null,a.name,a.type||""),this.setValue(a.getId()))},module$exports$Blockly$FieldVariable.FieldVariable.prototype.setSourceBlock=function(a){if(a.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.setSourceBlock.call(this,a)},module$exports$Blockly$FieldVariable.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},module$exports$Blockly$FieldVariable.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},module$exports$Blockly$FieldVariable.FieldVariable.prototype.getVariable=function(){return this.variable_},module$exports$Blockly$FieldVariable.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},module$exports$Blockly$FieldVariable.FieldVariable.prototype.doClassValidation_=function(a){if(null===a)return null;var b=(0,$.module$exports$Blockly$Variables.getVariable)(this.sourceBlock_.workspace,a);return b?(b=b.type,this.typeIsAllowed_(b)?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+a),null)},module$exports$Blockly$FieldVariable.FieldVariable.prototype.doValueUpdate_=function(a){this.variable_=(0,$.module$exports$Blockly$Variables.getVariable)(this.sourceBlock_.workspace,a),$.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.doValueUpdate_.call(this,a)},module$exports$Blockly$FieldVariable.FieldVariable.prototype.typeIsAllowed_=function(a){var b=this.getVariableTypes_();if(!b)return!0;for(var c=0;c<b.length;c++)if(a===b[c])return!0;return!1},module$exports$Blockly$FieldVariable.FieldVariable.prototype.getVariableTypes_=function(){var a=this.variableTypes;if(null===a&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0===(a=a||[""]).length)throw a=this.getText(),Error("'variableTypes' of field variable "+a+" was an empty list");return a},module$exports$Blockly$FieldVariable.FieldVariable.prototype.setTypes_=function(a,b){if(b=b||"",null==a)a=null;else{if(!Array.isArray(a))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");for(var c=!1,d=0;d<a.length;d++)a[d]===b&&(c=!0);if(!c)throw Error("Invalid default type '"+b+"' in the definition of a FieldVariable")}this.defaultType_=b,this.variableTypes=a},module$exports$Blockly$FieldVariable.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},module$exports$Blockly$FieldVariable.FieldVariable.prototype.onItemSelected_=function(a,b){if(a=b.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(a===module$exports$Blockly$internalConstants.RENAME_VARIABLE_ID)return void(0,$.module$exports$Blockly$Variables.renameVariable)(this.sourceBlock_.workspace,this.variable_);if(a===module$exports$Blockly$internalConstants.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(a)},module$exports$Blockly$FieldVariable.FieldVariable.prototype.referencesVariables=function(){return!0},module$exports$Blockly$FieldVariable.FieldVariable.fromJson=function(a){return new this((0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a.variable),void 0,void 0,void 0,a)},module$exports$Blockly$FieldVariable.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.getText(),b=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var c=this.getVariableTypes_(),d=0;d<c.length;d++){var e=this.sourceBlock_.workspace.getVariablesOfType(c[d]);b=b.concat(e)}for(b.sort(module$exports$Blockly$VariableModel.VariableModel.compareByName),c=[],d=0;d<b.length;d++)c[d]=[b[d].name,b[d].getId()];return c.push([$.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE,module$exports$Blockly$internalConstants.RENAME_VARIABLE_ID]),$.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE&&c.push([$.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE.replace("%1",a),module$exports$Blockly$internalConstants.DELETE_VARIABLE_ID]),c},(0,module$exports$Blockly$fieldRegistry.register)("field_variable",module$exports$Blockly$FieldVariable.FieldVariable),$.module$exports$Blockly$FieldTextInput={FieldTextInput:function(a,b,c){module$exports$Blockly$Field.Field.call(this,module$exports$Blockly$Field.Field.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}},$.$jscomp.inherits($.module$exports$Blockly$FieldTextInput.FieldTextInput,module$exports$Blockly$Field.Field),$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.configure_=function(a){module$exports$Blockly$Field.Field.prototype.configure_.call(this,a),"boolean"==typeof a.spellcheck&&(this.spellcheck_=a.spellcheck)},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var d,a=0,b=0,c=0;d=this.sourceBlock_.inputList[c];c++){for(var e=0;d.fieldRow[e];e++)a++;d.connection&&b++}this.fullBlockClickTarget_=1>=a&&this.sourceBlock_.outputConnection&&!b}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doClassValidation_=function(a){return null==a?null:String(a)},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doValueInvalid_=function(a){this.isBeingEdited_&&(this.isTextValid_=!1,a=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&(0,module$exports$Blockly$Events$utils.isEnabled)()&&(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CHANGE))(this.sourceBlock_,"field",this.name||null,a,this.value_)))},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doValueUpdate_=function(a){this.isTextValid_=!0,this.value_=a,this.isBeingEdited_||(this.isDirty_=!0)},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.render_=function(){if(module$exports$Blockly$Field.Field.prototype.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var a=this.htmlInput_;this.isTextValid_?((0,module$exports$Blockly$utils$dom.removeClass)(a,"blocklyInvalidInput"),(0,module$exports$Blockly$utils$aria.setState)(a,module$exports$Blockly$utils$aria.State.INVALID,!1)):((0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyInvalidInput"),(0,module$exports$Blockly$utils$aria.setState)(a,module$exports$Blockly$utils$aria.State.INVALID,!0))}},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.setSpellcheck=function(a){a!==this.spellcheck_&&(this.spellcheck_=a,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showEditor_=function(a,b){this.workspace_=this.sourceBlock_.workspace,!(a=b||!1)&&(module$exports$Blockly$utils$userAgent.MOBILE||module$exports$Blockly$utils$userAgent.ANDROID||module$exports$Blockly$utils$userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(a)},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showPromptEditor_=function(){(0,module$exports$Blockly$dialog.prompt)($.module$exports$Blockly$Msg.Msg.CHANGE_VALUE_TITLE,this.getText(),function(a){null!==a&&this.setValue(this.getValueFromEditorText_(a))}.bind(this))},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showInlineEditor_=function(a){(0,module$exports$Blockly$WidgetDiv.show)(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,a||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.widgetCreate_=function(){(0,module$exports$Blockly$Events$utils.setGroup)(!0);var a=(0,module$exports$Blockly$WidgetDiv.getDiv)();(0,module$exports$Blockly$utils$dom.addClass)(this.getClickTarget_(),"editing");var b=document.createElement("input");b.className="blocklyHtmlInput",b.setAttribute("spellcheck",this.spellcheck_);var c=this.workspace_.getScale(),d=this.getConstants().FIELD_TEXT_FONTSIZE*c+"pt";if(a.style.fontSize=d,b.style.fontSize=d,d=$.module$exports$Blockly$FieldTextInput.FieldTextInput.BORDERRADIUS*c+"px",this.fullBlockClickTarget_){d=((d=this.getScaledBBox()).bottom-d.top)/2+"px";var e=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;b.style.border=1*c+"px solid "+e,a.style.borderRadius=d,a.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(a.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*c+"px")}return b.style.borderRadius=d,a.appendChild(b),b.value=b.defaultValue=this.getEditorText_(this.value_),b.untypedDefaultValue_=this.value_,b.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(b),b},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),(0,module$exports$Blockly$Events$utils.setGroup)(!1),this.unbindInputEvents_();var a=(0,module$exports$Blockly$WidgetDiv.getDiv)().style;a.width="auto",a.height="auto",a.fontSize="",a.transition="",a.boxShadow="",this.htmlInput_=null,(0,module$exports$Blockly$utils$dom.removeClass)(this.getClickTarget_(),"editing")},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onFinishEditing_=function(a){},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.bindInputEvents_=function(a){this.onKeyDownWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(a,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(a,"input",this,this.onHtmlInputChange_)},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onHtmlInputKeyDown_=function(a){a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.ENTER?((0,module$exports$Blockly$WidgetDiv.hide)(),(0,module$exports$Blockly$dropDownDiv.hideWithoutAnimation)()):a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.ESC?(this.setValue(this.htmlInput_.untypedDefaultValue_),(0,module$exports$Blockly$WidgetDiv.hide)(),(0,module$exports$Blockly$dropDownDiv.hideWithoutAnimation)()):a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.TAB&&((0,module$exports$Blockly$WidgetDiv.hide)(),(0,module$exports$Blockly$dropDownDiv.hideWithoutAnimation)(),this.sourceBlock_.tab(this,!a.shiftKey),a.preventDefault())},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onHtmlInputChange_=function(a){(a=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=a,a=this.getValueFromEditorText_(a),this.setValue(a),this.forceRerender(),this.resizeEditor_())},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.setEditorValue_=function(a){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(a)),this.setValue(a)},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.resizeEditor_=function(){var a=(0,module$exports$Blockly$WidgetDiv.getDiv)(),b=this.getScaledBBox();a.style.width=b.right-b.left+"px",a.style.height=b.bottom-b.top+"px",b=new module$exports$Blockly$utils$Coordinate.Coordinate(this.sourceBlock_.RTL?b.right-a.offsetWidth:b.left,b.top),a.style.left=b.x+"px",a.style.top=b.y+"px"},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.isTabNavigable=function(){return!0},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.getEditorText_=function(a){return String(a)},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.getValueFromEditorText_=function(a){return a},$.module$exports$Blockly$FieldTextInput.FieldTextInput.fromJson=function(a){return new this((0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a.text),void 0,a)},$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.DEFAULT_VALUE="",$.module$exports$Blockly$FieldTextInput.FieldTextInput.BORDERRADIUS=4,(0,module$exports$Blockly$fieldRegistry.register)("field_input",$.module$exports$Blockly$FieldTextInput.FieldTextInput);var module$exports$Blockly$FieldNumber={FieldNumber:function(a,b,c,d,e,f){$.module$exports$Blockly$FieldTextInput.FieldTextInput.call(this,module$exports$Blockly$Field.Field.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,this.SERIALIZABLE=!0,a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(f?this.configure_(f):this.setConstraints(b,c,d),this.setValue(a),e&&this.setValidator(e))}};$.$jscomp.inherits(module$exports$Blockly$FieldNumber.FieldNumber,$.module$exports$Blockly$FieldTextInput.FieldTextInput),module$exports$Blockly$FieldNumber.FieldNumber.prototype.configure_=function(a){$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.configure_.call(this,a),this.setMinInternal_(a.min),this.setMaxInternal_(a.max),this.setPrecisionInternal_(a.precision)},module$exports$Blockly$FieldNumber.FieldNumber.prototype.setConstraints=function(a,b,c){this.setMinInternal_(a),this.setMaxInternal_(b),this.setPrecisionInternal_(c),this.setValue(this.getValue())},module$exports$Blockly$FieldNumber.FieldNumber.prototype.setMin=function(a){this.setMinInternal_(a),this.setValue(this.getValue())},module$exports$Blockly$FieldNumber.FieldNumber.prototype.setMinInternal_=function(a){null==a?this.min_=-1/0:(a=Number(a),isNaN(a)||(this.min_=a))},module$exports$Blockly$FieldNumber.FieldNumber.prototype.getMin=function(){return this.min_},module$exports$Blockly$FieldNumber.FieldNumber.prototype.setMax=function(a){this.setMaxInternal_(a),this.setValue(this.getValue())},module$exports$Blockly$FieldNumber.FieldNumber.prototype.setMaxInternal_=function(a){null==a?this.max_=1/0:(a=Number(a),isNaN(a)||(this.max_=a))},module$exports$Blockly$FieldNumber.FieldNumber.prototype.getMax=function(){return this.max_},module$exports$Blockly$FieldNumber.FieldNumber.prototype.setPrecision=function(a){this.setPrecisionInternal_(a),this.setValue(this.getValue())},module$exports$Blockly$FieldNumber.FieldNumber.prototype.setPrecisionInternal_=function(a){this.precision_=Number(a)||0;var b=String(this.precision_);-1!==b.indexOf("e")&&(b=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));var c=b.indexOf(".");this.decimalPlaces_=-1===c?a?0:null:b.length-c-1},module$exports$Blockly$FieldNumber.FieldNumber.prototype.getPrecision=function(){return this.precision_},module$exports$Blockly$FieldNumber.FieldNumber.prototype.doClassValidation_=function(a){return null===a?null:(a=(a=(a=(a=String(a)).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),a=Number(a||0),isNaN(a)?null:(a=Math.min(Math.max(a,this.min_),this.max_),this.precision_&&isFinite(a)&&(a=Math.round(a/this.precision_)*this.precision_),null!==this.decimalPlaces_&&(a=Number(a.toFixed(this.decimalPlaces_))),a))},module$exports$Blockly$FieldNumber.FieldNumber.prototype.widgetCreate_=function(){var a=$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.widgetCreate_.call(this);return-1/0<this.min_&&(0,module$exports$Blockly$utils$aria.setState)(a,module$exports$Blockly$utils$aria.State.VALUEMIN,this.min_),1/0>this.max_&&(0,module$exports$Blockly$utils$aria.setState)(a,module$exports$Blockly$utils$aria.State.VALUEMAX,this.max_),a},module$exports$Blockly$FieldNumber.FieldNumber.fromJson=function(a){return new this(a.value,void 0,void 0,void 0,void 0,a)},module$exports$Blockly$FieldNumber.FieldNumber.prototype.DEFAULT_VALUE=0,(0,module$exports$Blockly$fieldRegistry.register)("field_number",module$exports$Blockly$FieldNumber.FieldNumber);var module$exports$Blockly$FieldMultilineInput={FieldMultilineInput:function(a,b,c){$.module$exports$Blockly$FieldTextInput.FieldTextInput.call(this,module$exports$Blockly$Field.Field.SKIP_SETUP),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1,a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}};$.$jscomp.inherits(module$exports$Blockly$FieldMultilineInput.FieldMultilineInput,$.module$exports$Blockly$FieldTextInput.FieldTextInput),module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.configure_=function(a){$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.configure_.call(this,a),a.maxLines&&this.setMaxLines(a.maxLines)},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.toXml=function(a){return a.textContent=this.getValue().replace(/\n/g,"&#10;"),a},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.fromXml=function(a){this.setValue(a.textContent.replace(/&#10;/g,"\n"))},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.saveState=function(){var a=this.saveLegacyState(module$exports$Blockly$FieldMultilineInput.FieldMultilineInput);return null!==a?a:this.getValue()},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.loadState=function(a){this.loadLegacyState(module$exports$Blockly$Field.Field,a)||this.setValue(a)},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.getDisplayText_=function(){var a=this.getText();if(!a)return module$exports$Blockly$Field.Field.NBSP;var b=a.split("\n");a="";for(var c=this.isOverflowedY_?this.maxLines_:b.length,d=0;d<c;d++){var e=b[d];e.length>this.maxDisplayLength?e=e.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&d===c-1&&(e=e.substring(0,e.length-3)+"..."),a+=e=e.replace(/\s/g,module$exports$Blockly$Field.Field.NBSP),d!==c-1&&(a+="\n")}return this.sourceBlock_.RTL&&(a+=""),a},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.doValueUpdate_=function(a){$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doValueUpdate_.call(this,a),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.render_=function(){for(var a;a=this.textGroup_.firstChild;)this.textGroup_.removeChild(a);a=this.getDisplayText_().split("\n");for(var b=0,c=0;c<a.length;c++){var d=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:b+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(a[c])),b+=d}this.isBeingEdited_&&(a=this.htmlInput_,this.isOverflowedY_?(0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyHtmlTextAreaInputOverflowedY"):(0,module$exports$Blockly$utils$dom.removeClass)(a,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),a=this.htmlInput_,this.isTextValid_?((0,module$exports$Blockly$utils$dom.removeClass)(a,"blocklyInvalidInput"),(0,module$exports$Blockly$utils$aria.setState)(a,module$exports$Blockly$utils$aria.State.INVALID,!1)):((0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyInvalidInput"),(0,module$exports$Blockly$utils$aria.setState)(a,module$exports$Blockly$utils$aria.State.INVALID,!0)))},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.updateSize_=function(){for(var a=this.textGroup_.childNodes,b=0,c=0,d=0;d<a.length;d++){var e=(0,module$exports$Blockly$utils$dom.getTextWidth)(a[d]);e>b&&(b=e),c+=this.getConstants().FIELD_TEXT_HEIGHT+(0<d?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){a=this.value_.split("\n"),d=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.TEXT,{class:"blocklyText blocklyMultilineText"}),e=this.getConstants().FIELD_TEXT_FONTSIZE;for(var f=this.getConstants().FIELD_TEXT_FONTWEIGHT,g=this.getConstants().FIELD_TEXT_FONTFAMILY,h=0;h<a.length;h++){a[h].length>this.maxDisplayLength&&(a[h]=a[h].substring(0,this.maxDisplayLength)),d.textContent=a[h];var k=(0,module$exports$Blockly$utils$dom.getFastTextWidth)(d,e,f,g);k>b&&(b=k)}b+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(c+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,b+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",b),this.borderRect_.setAttribute("height",c)),this.size_.width=b,this.size_.height=c,this.positionBorderRect_()},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.showEditor_=function(a,b){$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showEditor_.call(this,a,b),this.forceRerender()},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.widgetCreate_=function(){var a=(0,module$exports$Blockly$WidgetDiv.getDiv)(),b=this.workspace_.getScale(),c=document.createElement("textarea");c.className="blocklyHtmlInput blocklyHtmlTextAreaInput",c.setAttribute("spellcheck",this.spellcheck_);var d=this.getConstants().FIELD_TEXT_FONTSIZE*b+"pt";a.style.fontSize=d,c.style.fontSize=d,c.style.borderRadius=$.module$exports$Blockly$FieldTextInput.FieldTextInput.BORDERRADIUS*b+"px",d=this.getConstants().FIELD_BORDER_RECT_X_PADDING*b;var e=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*b/2;return c.style.padding=e+"px "+d+"px "+e+"px "+d+"px",d=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,c.style.lineHeight=d*b+"px",a.appendChild(c),c.value=c.defaultValue=this.getEditorText_(this.value_),c.untypedDefaultValue_=this.value_,c.oldValue_=null,module$exports$Blockly$utils$userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(c),c},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.setMaxLines=function(a){"number"==typeof a&&0<a&&a!==this.maxLines_&&(this.maxLines_=a,this.forceRerender())},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(a){a.keyCode!==module$exports$Blockly$utils$KeyCodes_KeyCodes.ENTER&&$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onHtmlInputKeyDown_.call(this,a)},module$exports$Blockly$FieldMultilineInput.FieldMultilineInput.fromJson=function(a){return new this((0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a.text),void 0,a)},(0,module$exports$Blockly$Css.register)("\n.blocklyHtmlTextAreaInput {\n  font-family: monospace;\n  resize: none;\n  overflow: hidden;\n  height: 100%;\n  text-align: left;\n}\n\n.blocklyHtmlTextAreaInputOverflowedY {\n  overflow-y: scroll;\n}\n"),(0,module$exports$Blockly$fieldRegistry.register)("field_multilinetext",module$exports$Blockly$FieldMultilineInput.FieldMultilineInput);var module$exports$Blockly$FieldLabelSerializable={FieldLabelSerializable:function(a,b,c){$.module$exports$Blockly$FieldLabel.FieldLabel.call(this,String(null!=a?a:""),b,c),this.EDITABLE=!1,this.SERIALIZABLE=!0}};$.$jscomp.inherits(module$exports$Blockly$FieldLabelSerializable.FieldLabelSerializable,$.module$exports$Blockly$FieldLabel.FieldLabel),module$exports$Blockly$FieldLabelSerializable.FieldLabelSerializable.fromJson=function(a){return new this((0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a.text),void 0,a)},(0,module$exports$Blockly$fieldRegistry.register)("field_label_serializable",module$exports$Blockly$FieldLabelSerializable.FieldLabelSerializable);var module$exports$Blockly$FieldColour={FieldColour:function(a,b,c){module$exports$Blockly$Field.Field.call(this,module$exports$Blockly$Field.Field.SKIP_SETUP),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.isDirty_=!1,this.titles_=this.colours_=null,this.columns_=0,a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}};$.$jscomp.inherits(module$exports$Blockly$FieldColour.FieldColour,module$exports$Blockly$Field.Field),module$exports$Blockly$FieldColour.FieldColour.prototype.configure_=function(a){module$exports$Blockly$Field.Field.prototype.configure_.call(this,a),a.colourOptions&&(this.colours_=a.colourOptions,this.titles_=a.colourTitles),a.columns&&(this.columns_=a.columns)},module$exports$Blockly$FieldColour.FieldColour.prototype.initView=function(){this.size_=new module$exports$Blockly$utils$Size.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},module$exports$Blockly$FieldColour.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},module$exports$Blockly$FieldColour.FieldColour.prototype.doClassValidation_=function(a){return"string"!=typeof a?null:(0,module$exports$Blockly$utils$colour.parse)(a)},module$exports$Blockly$FieldColour.FieldColour.prototype.doValueUpdate_=function(a){this.value_=a,this.borderRect_?this.borderRect_.style.fill=a:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",a),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},module$exports$Blockly$FieldColour.FieldColour.prototype.getText=function(){var a=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]),a},module$exports$Blockly$FieldColour.FieldColour.prototype.setColours=function(a,b){return this.colours_=a,b&&(this.titles_=b),this},module$exports$Blockly$FieldColour.FieldColour.prototype.setColumns=function(a){return this.columns_=a,this},module$exports$Blockly$FieldColour.FieldColour.prototype.showEditor_=function(){this.dropdownCreate_(),(0,module$exports$Blockly$dropDownDiv.getContentDiv)().appendChild(this.picker_),(0,module$exports$Blockly$dropDownDiv.showPositionedByField)(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},module$exports$Blockly$FieldColour.FieldColour.prototype.onClick_=function(a){null!==(a=(a=a.target)&&a.label)&&(this.setValue(a),(0,module$exports$Blockly$dropDownDiv.hideIfOwner)(this))},module$exports$Blockly$FieldColour.FieldColour.prototype.onKeyDown_=function(a){var b=!1;a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.UP?(this.moveHighlightBy_(0,-1),b=!0):a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.DOWN?(this.moveHighlightBy_(0,1),b=!0):a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),b=!0):a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),b=!0):a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.ENTER&&((b=this.getHighlighted_())&&null!==(b=b&&b.label)&&this.setValue(b),(0,module$exports$Blockly$dropDownDiv.hideWithoutAnimation)(),b=!0),b&&a.stopPropagation()},module$exports$Blockly$FieldColour.FieldColour.prototype.moveHighlightBy_=function(a,b){var c=this.colours_||module$exports$Blockly$FieldColour.FieldColour.COLOURS,d=this.columns_||module$exports$Blockly$FieldColour.FieldColour.COLUMNS,e=this.highlightedIndex_%d,f=Math.floor(this.highlightedIndex_/d);e+=a,f+=b,0>a?0>e&&0<f?(e=d-1,f--):0>e&&(e=0):0<a?e>d-1&&f<Math.floor(c.length/d)-1?(e=0,f++):e>d-1&&e--:0>b?0>f&&(f=0):0<b&&f>Math.floor(c.length/d)-1&&(f=Math.floor(c.length/d)-1),this.setHighlightedCell_(this.picker_.childNodes[f].childNodes[e],f*d+e)},module$exports$Blockly$FieldColour.FieldColour.prototype.onMouseMove_=function(a){var b=(a=a.target)&&Number(a.getAttribute("data-index"));null!==b&&b!==this.highlightedIndex_&&this.setHighlightedCell_(a,b)},module$exports$Blockly$FieldColour.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},module$exports$Blockly$FieldColour.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var a=this.getHighlighted_();a&&(0,module$exports$Blockly$utils$dom.removeClass)(a,"blocklyColourHighlighted")},module$exports$Blockly$FieldColour.FieldColour.prototype.getHighlighted_=function(){var a=this.columns_||module$exports$Blockly$FieldColour.FieldColour.COLUMNS,b=this.picker_.childNodes[Math.floor(this.highlightedIndex_/a)];return b?b.childNodes[this.highlightedIndex_%a]:null},module$exports$Blockly$FieldColour.FieldColour.prototype.setHighlightedCell_=function(a,b){var c=this.getHighlighted_();c&&(0,module$exports$Blockly$utils$dom.removeClass)(c,"blocklyColourHighlighted"),(0,module$exports$Blockly$utils$dom.addClass)(a,"blocklyColourHighlighted"),this.highlightedIndex_=b,(0,module$exports$Blockly$utils$aria.setState)(this.picker_,module$exports$Blockly$utils$aria.State.ACTIVEDESCENDANT,a.getAttribute("id"))},module$exports$Blockly$FieldColour.FieldColour.prototype.dropdownCreate_=function(){var a=this.columns_||module$exports$Blockly$FieldColour.FieldColour.COLUMNS,b=this.colours_||module$exports$Blockly$FieldColour.FieldColour.COLOURS,c=this.titles_||module$exports$Blockly$FieldColour.FieldColour.TITLES,d=this.getValue(),e=document.createElement("table");e.className="blocklyColourTable",e.tabIndex=0,e.dir="ltr",(0,module$exports$Blockly$utils$aria.setRole)(e,module$exports$Blockly$utils$aria.Role.GRID),(0,module$exports$Blockly$utils$aria.setState)(e,module$exports$Blockly$utils$aria.State.EXPANDED,!0),(0,module$exports$Blockly$utils$aria.setState)(e,module$exports$Blockly$utils$aria.State.ROWCOUNT,Math.floor(b.length/a)),(0,module$exports$Blockly$utils$aria.setState)(e,module$exports$Blockly$utils$aria.State.COLCOUNT,a);for(var f,g=0;g<b.length;g++){0==g%a&&(f=document.createElement("tr"),(0,module$exports$Blockly$utils$aria.setRole)(f,module$exports$Blockly$utils$aria.Role.ROW),e.appendChild(f));var h=document.createElement("td");f.appendChild(h),h.label=b[g],h.title=c[g]||b[g],h.id=(0,module$exports$Blockly$utils$idGenerator.getNextUniqueId)(),h.setAttribute("data-index",g),(0,module$exports$Blockly$utils$aria.setRole)(h,module$exports$Blockly$utils$aria.Role.GRIDCELL),(0,module$exports$Blockly$utils$aria.setState)(h,module$exports$Blockly$utils$aria.State.LABEL,b[g]),(0,module$exports$Blockly$utils$aria.setState)(h,module$exports$Blockly$utils$aria.State.SELECTED,b[g]===d),h.style.backgroundColor=b[g],b[g]===d&&(h.className="blocklyColourSelected",this.highlightedIndex_=g)}this.onClickWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(e,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(e,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(e,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(e,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(e,"keydown",this,this.onKeyDown_),this.picker_=e},module$exports$Blockly$FieldColour.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},module$exports$Blockly$FieldColour.FieldColour.fromJson=function(a){return new this(a.colour,void 0,a)},module$exports$Blockly$FieldColour.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),module$exports$Blockly$FieldColour.FieldColour.prototype.DEFAULT_VALUE=module$exports$Blockly$FieldColour.FieldColour.COLOURS[0],module$exports$Blockly$FieldColour.FieldColour.TITLES=[],module$exports$Blockly$FieldColour.FieldColour.COLUMNS=7,(0,module$exports$Blockly$Css.register)("\n.blocklyColourTable {\n  border-collapse: collapse;\n  display: block;\n  outline: none;\n  padding: 1px;\n}\n\n.blocklyColourTable>tr>td {\n  border: .5px solid #888;\n  box-sizing: border-box;\n  cursor: pointer;\n  display: inline-block;\n  height: 20px;\n  padding: 0;\n  width: 20px;\n}\n\n.blocklyColourTable>tr>td.blocklyColourHighlighted {\n  border-color: #eee;\n  box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);\n  position: relative;\n}\n\n.blocklyColourSelected, .blocklyColourSelected:hover {\n  border-color: #eee !important;\n  outline: 1px solid #333;\n  position: relative;\n}\n"),(0,module$exports$Blockly$fieldRegistry.register)("field_colour",module$exports$Blockly$FieldColour.FieldColour),$.module$exports$Blockly$FieldCheckbox={FieldCheckbox:function(a,b,c){module$exports$Blockly$Field.Field.call(this,module$exports$Blockly$Field.Field.SKIP_SETUP),this.checkChar_=$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.CHECK_CHAR,this.SERIALIZABLE=!0,this.CURSOR="default",a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}},$.$jscomp.inherits($.module$exports$Blockly$FieldCheckbox.FieldCheckbox,module$exports$Blockly$Field.Field),$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.configure_=function(a){module$exports$Blockly$Field.Field.prototype.configure_.call(this,a),a.checkCharacter&&(this.checkChar_=a.checkCharacter)},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.saveState=function(){var a=this.saveLegacyState($.module$exports$Blockly$FieldCheckbox.FieldCheckbox);return null!==a?a:this.getValueBoolean()},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.initView=function(){module$exports$Blockly$Field.Field.prototype.initView.call(this),(0,module$exports$Blockly$utils$dom.addClass)(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.setCheckCharacter=function(a){this.checkChar_=a||$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.CHECK_CHAR,this.forceRerender()},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.doClassValidation_=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.doValueUpdate_=function(a){this.value_=this.convertValueToBool_(a),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.convertValueToBool_=function(a){return"string"==typeof a?"TRUE"===a:!!a},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.fromJson=function(a){return new this(a.checked,void 0,a)},$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.DEFAULT_VALUE=!1,$.module$exports$Blockly$FieldCheckbox.FieldCheckbox.CHECK_CHAR="",(0,module$exports$Blockly$fieldRegistry.register)("field_checkbox",$.module$exports$Blockly$FieldCheckbox.FieldCheckbox);var module$exports$Blockly$FieldAngle={FieldAngle:function(a,b,c){$.module$exports$Blockly$FieldTextInput.FieldTextInput.call(this,module$exports$Blockly$Field.Field.SKIP_SETUP),this.clockwise_=module$exports$Blockly$FieldAngle.FieldAngle.CLOCKWISE,this.offset_=module$exports$Blockly$FieldAngle.FieldAngle.OFFSET,this.wrap_=module$exports$Blockly$FieldAngle.FieldAngle.WRAP,this.round_=module$exports$Blockly$FieldAngle.FieldAngle.ROUND,this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.symbol_=this.line_=this.gauge_=this.editor_=null,this.SERIALIZABLE=!0,a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}};$.$jscomp.inherits(module$exports$Blockly$FieldAngle.FieldAngle,$.module$exports$Blockly$FieldTextInput.FieldTextInput),module$exports$Blockly$FieldAngle.FieldAngle.prototype.configure_=function(a){switch($.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.configure_.call(this,a),a.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var b=a.clockwise;"boolean"==typeof b&&(this.clockwise_=b),null!==(b=a.offset)&&(b=Number(b),isNaN(b)||(this.offset_=b)),null!==(b=a.wrap)&&(b=Number(b),isNaN(b)||(this.wrap_=b)),null!==(a=a.round)&&(a=Number(a),isNaN(a)||(this.round_=a))},module$exports$Blockly$FieldAngle.FieldAngle.prototype.initView=function(){$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.initView.call(this),this.symbol_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("")),this.textElement_.appendChild(this.symbol_)},module$exports$Blockly$FieldAngle.FieldAngle.prototype.render_=function(){$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.render_.call(this),this.updateGraph_()},module$exports$Blockly$FieldAngle.FieldAngle.prototype.showEditor_=function(a){$.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showEditor_.call(this,a,module$exports$Blockly$utils$userAgent.MOBILE||module$exports$Blockly$utils$userAgent.ANDROID||module$exports$Blockly$utils$userAgent.IPAD),this.dropdownCreate_(),(0,module$exports$Blockly$dropDownDiv.getContentDiv)().appendChild(this.editor_),(0,module$exports$Blockly$dropDownDiv.setColour)(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),(0,module$exports$Blockly$dropDownDiv.showPositionedByField)(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},module$exports$Blockly$FieldAngle.FieldAngle.prototype.dropdownCreate_=function(){var a=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.SVG,{xmlns:module$exports$Blockly$utils$dom.SVG_NS,"xmlns:html":module$exports$Blockly$utils$dom.HTML_NS,"xmlns:xlink":module$exports$Blockly$utils$dom.XLINK_NS,version:"1.1",height:2*module$exports$Blockly$FieldAngle.FieldAngle.HALF+"px",width:2*module$exports$Blockly$FieldAngle.FieldAngle.HALF+"px",style:"touch-action: none"},null),b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CIRCLE,{cx:module$exports$Blockly$FieldAngle.FieldAngle.HALF,cy:module$exports$Blockly$FieldAngle.FieldAngle.HALF,r:module$exports$Blockly$FieldAngle.FieldAngle.RADIUS,class:"blocklyAngleCircle"},a);this.gauge_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyAngleGauge"},a),this.line_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{x1:module$exports$Blockly$FieldAngle.FieldAngle.HALF,y1:module$exports$Blockly$FieldAngle.FieldAngle.HALF,class:"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{x1:module$exports$Blockly$FieldAngle.FieldAngle.HALF+module$exports$Blockly$FieldAngle.FieldAngle.RADIUS,y1:module$exports$Blockly$FieldAngle.FieldAngle.HALF,x2:module$exports$Blockly$FieldAngle.FieldAngle.HALF+module$exports$Blockly$FieldAngle.FieldAngle.RADIUS-(0==c%45?10:5),y2:module$exports$Blockly$FieldAngle.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+c+","+module$exports$Blockly$FieldAngle.FieldAngle.HALF+","+module$exports$Blockly$FieldAngle.FieldAngle.HALF+")"},a);this.clickWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(a,"click",this,this.hide_),this.clickSurfaceWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"mousemove",this,this.onMouseMove_,!0,!0),this.editor_=a},module$exports$Blockly$FieldAngle.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},module$exports$Blockly$FieldAngle.FieldAngle.prototype.hide_=function(){(0,module$exports$Blockly$dropDownDiv.hideIfOwner)(this),(0,module$exports$Blockly$WidgetDiv.hide)()},module$exports$Blockly$FieldAngle.FieldAngle.prototype.onMouseMove_=function(a){var b=this.gauge_.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-module$exports$Blockly$FieldAngle.FieldAngle.HALF;a=a.clientY-b.top-module$exports$Blockly$FieldAngle.FieldAngle.HALF,b=Math.atan(-a/c),isNaN(b)||(b=(0,module$exports$Blockly$utils$math.toDegrees)(b),0>c?b+=180:0<a&&(b+=360),b=this.clockwise_?this.offset_+360-b:360-(this.offset_-b),this.displayMouseOrKeyboardValue_(b))},module$exports$Blockly$FieldAngle.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(a){this.round_&&(a=Math.round(a/this.round_)*this.round_),(a=this.wrapValue_(a))!==this.value_&&this.setEditorValue_(a)},module$exports$Blockly$FieldAngle.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var a=Number(this.getText())+this.offset_,b=(0,module$exports$Blockly$utils$math.toRadians)(a%360);a=["M ",module$exports$Blockly$FieldAngle.FieldAngle.HALF,",",module$exports$Blockly$FieldAngle.FieldAngle.HALF];var c=module$exports$Blockly$FieldAngle.FieldAngle.HALF,d=module$exports$Blockly$FieldAngle.FieldAngle.HALF;if(!isNaN(b)){var e=Number(this.clockwise_),f=(0,module$exports$Blockly$utils$math.toRadians)(this.offset_),g=Math.cos(f)*module$exports$Blockly$FieldAngle.FieldAngle.RADIUS,h=Math.sin(f)*-module$exports$Blockly$FieldAngle.FieldAngle.RADIUS;e&&(b=2*f-b),c+=Math.cos(b)*module$exports$Blockly$FieldAngle.FieldAngle.RADIUS,d-=Math.sin(b)*module$exports$Blockly$FieldAngle.FieldAngle.RADIUS,b=Math.abs(Math.floor((b-f)/Math.PI)%2),e&&(b=1-b),a.push(" l ",g,",",h," A ",module$exports$Blockly$FieldAngle.FieldAngle.RADIUS,",",module$exports$Blockly$FieldAngle.FieldAngle.RADIUS," 0 ",b," ",e," ",c,",",d," z")}this.gauge_.setAttribute("d",a.join("")),this.line_.setAttribute("x2",c),this.line_.setAttribute("y2",d)}},module$exports$Blockly$FieldAngle.FieldAngle.prototype.onHtmlInputKeyDown_=function(a){var b;if($.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onHtmlInputKeyDown_.call(this,a),a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.LEFT?b=this.sourceBlock_.RTL?1:-1:a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.RIGHT?b=this.sourceBlock_.RTL?-1:1:a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.DOWN?b=-1:a.keyCode===module$exports$Blockly$utils$KeyCodes_KeyCodes.UP&&(b=1),b){var c=this.getValue();this.displayMouseOrKeyboardValue_(c+b*this.round_),a.preventDefault(),a.stopPropagation()}},module$exports$Blockly$FieldAngle.FieldAngle.prototype.doClassValidation_=function(a){return a=Number(a),isNaN(a)||!isFinite(a)?null:this.wrapValue_(a)},module$exports$Blockly$FieldAngle.FieldAngle.prototype.wrapValue_=function(a){return 0>(a%=360)&&(a+=360),a>this.wrap_&&(a-=360),a},module$exports$Blockly$FieldAngle.FieldAngle.fromJson=function(a){return new this(a.angle,void 0,a)},module$exports$Blockly$FieldAngle.FieldAngle.prototype.DEFAULT_VALUE=0,module$exports$Blockly$FieldAngle.FieldAngle.ROUND=15,module$exports$Blockly$FieldAngle.FieldAngle.HALF=50,module$exports$Blockly$FieldAngle.FieldAngle.CLOCKWISE=!1,module$exports$Blockly$FieldAngle.FieldAngle.OFFSET=0,module$exports$Blockly$FieldAngle.FieldAngle.WRAP=360,module$exports$Blockly$FieldAngle.FieldAngle.RADIUS=module$exports$Blockly$FieldAngle.FieldAngle.HALF-1,(0,module$exports$Blockly$Css.register)("\n.blocklyAngleCircle {\n  stroke: #444;\n  stroke-width: 1;\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyAngleMarks {\n  stroke: #444;\n  stroke-width: 1;\n}\n\n.blocklyAngleGauge {\n  fill: #f88;\n  fill-opacity: .8;\n  pointer-events: none;\n}\n\n.blocklyAngleLine {\n  stroke: #f00;\n  stroke-width: 2;\n  stroke-linecap: round;\n  pointer-events: none;\n}\n"),(0,module$exports$Blockly$fieldRegistry.register)("field_angle",module$exports$Blockly$FieldAngle.FieldAngle);var module$exports$Blockly$zelos$BottomRow={BottomRow:function(a){module$exports$Blockly$blockRendering$BottomRow.BottomRow.call(this,a)}};$.$jscomp.inherits(module$exports$Blockly$zelos$BottomRow.BottomRow,module$exports$Blockly$blockRendering$BottomRow.BottomRow),module$exports$Blockly$zelos$BottomRow.BottomRow.prototype.endsWithElemSpacer=function(){return!1},module$exports$Blockly$zelos$BottomRow.BottomRow.prototype.hasLeftSquareCorner=function(a){return!!a.outputConnection},module$exports$Blockly$zelos$BottomRow.BottomRow.prototype.hasRightSquareCorner=function(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection};var module$exports$Blockly$zelos$ConstantProvider={ConstantProvider:function(){module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter_=null}};$.$jscomp.inherits(module$exports$Blockly$zelos$ConstantProvider.ConstantProvider,module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider),module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.setFontConstants_=function(a){module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.setFontConstants_.call(this,a),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.init=function(){module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.setDynamicProperties_=function(a){module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.setDynamicProperties_.call(this,a),this.SELECTED_GLOW_COLOUR=a.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var b=Number(a.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=b&&!isNaN(b)?b:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=a.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(a=Number(a.getComponentStyle("replacementGlowSize")))&&!isNaN(a)?a:this.REPLACEMENT_GLOW_SIZE},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.dispose=function(){module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.dispose.call(this),this.selectedGlowFilter_&&(0,module$exports$Blockly$utils$dom.removeNode)(this.selectedGlowFilter_),this.replacementGlowFilter_&&(0,module$exports$Blockly$utils$dom.removeNode)(this.replacementGlowFilter_)},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.makeStartHat=function(){var a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH;return{height:a,width:b,path:(0,module$exports$Blockly$utils$svgPaths.curve)("c",[(0,module$exports$Blockly$utils$svgPaths.point)(25,-a),(0,module$exports$Blockly$utils$svgPaths.point)(71,-a),(0,module$exports$Blockly$utils$svgPaths.point)(b,0)])}},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.makeHexagonal=function(){function a(c,d,e){var f=c/2;return(0,module$exports$Blockly$utils$svgPaths.lineTo)(-(e=e?-1:1)*(f=f>b?b:f),c=(d?-1:1)*c/2)+(0,module$exports$Blockly$utils$svgPaths.lineTo)(e*f,c)}var b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(c){return(c/=2)>b?b:c},height:function(c){return c},connectionOffsetY:function(c){return c/2},connectionOffsetX:function(c){return-c},pathDown:function(c){return a(c,!1,!1)},pathUp:function(c){return a(c,!0,!1)},pathRightDown:function(c){return a(c,!1,!0)},pathRightUp:function(c){return a(c,!1,!0)}}},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.makeRounded=function(){function a(d,e,f){var g=d>c?d-c:0;return(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",d=(d>c?c:d)/2,(0,module$exports$Blockly$utils$svgPaths.point)((e?-1:1)*d,(e?-1:1)*d))+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",(f?1:-1)*g)+(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",d,(0,module$exports$Blockly$utils$svgPaths.point)((e?1:-1)*d,(e?-1:1)*d))}var b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=2*b;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(d){return(d/=2)>b?b:d},height:function(d){return d},connectionOffsetY:function(d){return d/2},connectionOffsetX:function(d){return-d},pathDown:function(d){return a(d,!1,!1)},pathUp:function(d){return a(d,!0,!1)},pathRightDown:function(d){return a(d,!1,!0)},pathRightUp:function(d){return a(d,!1,!0)}}},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.makeSquared=function(){function a(c,d,e){return c-=2*b,(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",b,(0,module$exports$Blockly$utils$svgPaths.point)((d?-1:1)*b,(d?-1:1)*b))+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",(e?1:-1)*c)+(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",b,(0,module$exports$Blockly$utils$svgPaths.point)((d?1:-1)*b,(d?-1:1)*b))}var b=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(c){return b},height:function(c){return c},connectionOffsetY:function(c){return c/2},connectionOffsetX:function(c){return-c},pathDown:function(c){return a(c,!1,!1)},pathUp:function(c){return a(c,!0,!1)},pathRightDown:function(c){return a(c,!1,!0)},pathRightUp:function(c){return a(c,!1,!0)}}},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.shapeFor=function(a){var b=a.getCheck();switch(!b&&a.targetConnection&&(b=a.targetConnection.getCheck()),a.type){case $.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE:case $.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE:if(null!==(a=a.getSourceBlock().getOutputShape()))switch(a){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return b&&-1!==b.indexOf("Boolean")?this.HEXAGONAL:(b&&-1!==b.indexOf("Number")||b&&b.indexOf("String"),this.ROUNDED);case $.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT:case $.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.makeNotch=function(){function a(l){return(0,module$exports$Blockly$utils$svgPaths.curve)("c",[(0,module$exports$Blockly$utils$svgPaths.point)(l*e/2,0),(0,module$exports$Blockly$utils$svgPaths.point)(l*e*3/4,g/2),(0,module$exports$Blockly$utils$svgPaths.point)(l*e,g)])+(0,module$exports$Blockly$utils$svgPaths.line)([(0,module$exports$Blockly$utils$svgPaths.point)(l*e,f)])+(0,module$exports$Blockly$utils$svgPaths.curve)("c",[(0,module$exports$Blockly$utils$svgPaths.point)(l*e/4,g/2),(0,module$exports$Blockly$utils$svgPaths.point)(l*e/2,g),(0,module$exports$Blockly$utils$svgPaths.point)(l*e,g)])+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",l*d)+(0,module$exports$Blockly$utils$svgPaths.curve)("c",[(0,module$exports$Blockly$utils$svgPaths.point)(l*e/2,0),(0,module$exports$Blockly$utils$svgPaths.point)(l*e*3/4,-g/2),(0,module$exports$Blockly$utils$svgPaths.point)(l*e,-g)])+(0,module$exports$Blockly$utils$svgPaths.line)([(0,module$exports$Blockly$utils$svgPaths.point)(l*e,-f)])+(0,module$exports$Blockly$utils$svgPaths.curve)("c",[(0,module$exports$Blockly$utils$svgPaths.point)(l*e/4,-g/2),(0,module$exports$Blockly$utils$svgPaths.point)(l*e/2,-g),(0,module$exports$Blockly$utils$svgPaths.point)(l*e,-g)])}var b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=b/3,e=d/3,f=c/2,g=f/2,h=a(1),k=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:h,pathRight:k}},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.makeInsideCorners=function(){var a=this.CORNER_RADIUS,b=(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,0",a,(0,module$exports$Blockly$utils$svgPaths.point)(-a,a)),c=(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",a,(0,module$exports$Blockly$utils$svgPaths.point)(-a,a));return{width:a,height:a,pathTop:b,pathBottom:(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,0",a,(0,module$exports$Blockly$utils$svgPaths.point)(a,a)),rightWidth:a,rightHeight:a,pathTopRight:c,pathBottomRight:(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",a,(0,module$exports$Blockly$utils$svgPaths.point)(a,a))}},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.generateSecondaryColour_=function(a){return(0,module$exports$Blockly$utils$colour.blend)("#000",a,.15)||a},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.generateTertiaryColour_=function(a){return(0,module$exports$Blockly$utils$colour.blend)("#000",a,.25)||a},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.createDom=function(a,b,c){module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.createDom.call(this,a,b,c),a=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.DEFS,{},a),b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},b),c=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},b),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},b),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},b),this.selectedGlowFilterId=b.id,this.selectedGlowFilter_=b,a=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},a),b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},b),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},a),this.replacementGlowFilterId=a.id,this.replacementGlowFilter_=a},module$exports$Blockly$zelos$ConstantProvider.ConstantProvider.prototype.getCSS_=function(a){return[a+" .blocklyText,",a+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",a+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text,",a+" .blocklyNonEditableText>g>text,",a+" .blocklyEditableText>g>text {","fill: #575E75;","}",a+" .blocklyFlyoutLabelText {","fill: #575E75;","}",a+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",a+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",a+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",a+" .blocklyDropdownText {","fill: #fff !important;","}",a+".blocklyWidgetDiv .goog-menuitem,",a+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",a+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",a+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",a+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]};var module$exports$Blockly$zelos$Drawer={Drawer:function(a,b){module$exports$Blockly$blockRendering$Drawer.Drawer.call(this,a,b)}};$.$jscomp.inherits(module$exports$Blockly$zelos$Drawer.Drawer,module$exports$Blockly$blockRendering$Drawer.Drawer),module$exports$Blockly$zelos$Drawer.Drawer.prototype.draw=function(){var a=this.block_.pathObject;a.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),a.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&a.flipRTL(),(0,module$exports$Blockly$blockRendering$debug.isDebuggerEnabled)()&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(a.outputShapeType=this.info_.outputConnection.shape.type),a.endDrawing()},module$exports$Blockly$zelos$Drawer.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawOutline_.call(this)},module$exports$Blockly$zelos$Drawer.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawLeft_.call(this)},module$exports$Blockly$zelos$Drawer.Drawer.prototype.drawRightSideRow_=function(a){if(!(0>=a.height))if(module$exports$Blockly$blockRendering$Types.Types.isSpacer(a)&&(a.precedesStatement||a.followsStatement)){var b=this.constants_.INSIDE_CORNERS.rightHeight;b=a.height-(a.precedesStatement?b:0),this.outlinePath_+=(a.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<b?(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",a.yPos+b):"")+(a.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",a.yPos+a.height)},module$exports$Blockly$zelos$Drawer.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},module$exports$Blockly$zelos$Drawer.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},module$exports$Blockly$zelos$Drawer.Drawer.prototype.drawFlatTop_=function(){var a=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.moveBy)(a.xPos,this.info_.startY),this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",a.width)},module$exports$Blockly$zelos$Drawer.Drawer.prototype.drawFlatBottom_=function(){var a=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",a.baseline),this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",-a.width)},module$exports$Blockly$zelos$Drawer.Drawer.prototype.drawInlineInput_=function(a){this.positionInlineInputConnection_(a);var b=a.input.name;if(!a.connectedBlock&&!this.info_.isInsertionMarker){var c=a.width-2*a.connectionWidth;a=(0,module$exports$Blockly$utils$svgPaths.moveTo)(a.xPos+a.connectionWidth,a.centerline-a.height/2)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",c)+a.shape.pathRightDown(a.height)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",-c)+a.shape.pathUp(a.height)+"z",this.block_.pathObject.setOutlinePath(b,a)}},module$exports$Blockly$zelos$Drawer.Drawer.prototype.drawStatementInput_=function(a){var b=a.getLastInput(),c=b.xPos+b.notchOffset+b.shape.width,d=b.shape.pathRight+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",-(b.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,e=a.height-2*this.constants_.INSIDE_CORNERS.height;b=this.constants_.INSIDE_CORNERS.pathBottom+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",b.notchOffset-this.constants_.INSIDE_CORNERS.width)+(b.connectedBottomNextConnection?"":b.shape.pathLeft),this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",c)+d+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",e)+b+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",a.xPos+a.width),this.positionStatementInputConnection_(a)};var module$exports$Blockly$zelos$MarkerSvg={MarkerSvg:function(a,b,c){module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.call(this,a,b,c),this.markerCircle_=null}};$.$jscomp.inherits(module$exports$Blockly$zelos$MarkerSvg.MarkerSvg,module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg),module$exports$Blockly$zelos$MarkerSvg.MarkerSvg.prototype.showWithInputOutput_=function(a){var b=a.getSourceBlock();a=a.getLocation().getOffsetInBlock(),this.positionCircle_(a.x,a.y),this.setParent_(b),this.showCurrent_()},module$exports$Blockly$zelos$MarkerSvg.MarkerSvg.prototype.showWithOutput_=function(a){this.showWithInputOutput_(a)},module$exports$Blockly$zelos$MarkerSvg.MarkerSvg.prototype.showWithInput_=function(a){this.showWithInputOutput_(a)},module$exports$Blockly$zelos$MarkerSvg.MarkerSvg.prototype.showWithBlock_=function(a){var b=(a=a.getLocation()).getHeightWidth();this.positionRect_(0,0,b.width,b.height),this.setParent_(a),this.showCurrent_()},module$exports$Blockly$zelos$MarkerSvg.MarkerSvg.prototype.positionCircle_=function(a,b){this.markerCircle_.setAttribute("cx",a),this.markerCircle_.setAttribute("cy",b),this.currentMarkerSvg=this.markerCircle_},module$exports$Blockly$zelos$MarkerSvg.MarkerSvg.prototype.hide=function(){module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.hide.call(this),this.markerCircle_.style.display="none"},module$exports$Blockly$zelos$MarkerSvg.MarkerSvg.prototype.createDomInternal_=function(){if(module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.createDomInternal_.call(this),this.markerCircle_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var a=this.getBlinkProperties_();(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.ANIMATE,a,this.markerCircle_)}return this.markerSvg_},module$exports$Blockly$zelos$MarkerSvg.MarkerSvg.prototype.applyColour_=function(a){module$exports$Blockly$blockRendering$MarkerSvg.MarkerSvg.prototype.applyColour_.call(this,a),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")};var module$exports$Blockly$zelos$PathObject={PathObject:function(a,b,c){module$exports$Blockly$blockRendering$PathObject.PathObject.call(this,a,b,c),this.constants=c,this.svgPathSelected_=null,this.outlines_=Object.create(null),this.outputShapeType=this.remainingOutlines_=null}};$.$jscomp.inherits(module$exports$Blockly$zelos$PathObject.PathObject,module$exports$Blockly$blockRendering$PathObject.PathObject),module$exports$Blockly$zelos$PathObject.PathObject.prototype.setPath=function(a){module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.setPath.call(this,a),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",a)},module$exports$Blockly$zelos$PathObject.PathObject.prototype.applyColour=function(a){for(var b in module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.applyColour.call(this,a),a.isShadow()&&a.getParent()&&this.svgPath.setAttribute("stroke",a.getParent().style.colourTertiary),this.outlines_)this.outlines_[b].setAttribute("fill",this.style.colourTertiary)},module$exports$Blockly$zelos$PathObject.PathObject.prototype.flipRTL=function(){for(var a in module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.flipRTL.call(this),this.outlines_)this.outlines_[a].setAttribute("transform","scale(-1 1)")},module$exports$Blockly$zelos$PathObject.PathObject.prototype.updateSelected=function(a){this.setClass_("blocklySelected",a),a?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},module$exports$Blockly$zelos$PathObject.PathObject.prototype.updateReplacementFade=function(a){this.setClass_("blocklyReplaceable",a),a?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},module$exports$Blockly$zelos$PathObject.PathObject.prototype.updateShapeForInputHighlight=function(a,b){a=a.getParentInput().name,(a=this.getOutlinePath_(a))&&(b?a.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):a.removeAttribute("filter"))},module$exports$Blockly$zelos$PathObject.PathObject.prototype.beginDrawing=function(){for(var a in this.remainingOutlines_=Object.create(null),this.outlines_)this.remainingOutlines_[a]=1},module$exports$Blockly$zelos$PathObject.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var a in this.remainingOutlines_)this.removeOutlinePath_(a);this.remainingOutlines_=null},module$exports$Blockly$zelos$PathObject.PathObject.prototype.setOutlinePath=function(a,b){(a=this.getOutlinePath_(a)).setAttribute("d",b),a.setAttribute("fill",this.style.colourTertiary)},module$exports$Blockly$zelos$PathObject.PathObject.prototype.getOutlinePath_=function(a){return this.outlines_[a]||(this.outlines_[a]=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[a],this.outlines_[a]},module$exports$Blockly$zelos$PathObject.PathObject.prototype.removeOutlinePath_=function(a){this.outlines_[a].parentNode.removeChild(this.outlines_[a]),delete this.outlines_[a]},$.module$exports$Blockly$FieldImage={FieldImage:function(a,b,c,d,e,f,g){if(module$exports$Blockly$Field.Field.call(this,module$exports$Blockly$Field.Field.SKIP_SETUP),!a)throw Error("Src value of an image field is required");if(c=Number((0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(c)),b=Number((0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(b)),isNaN(c)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");if(0>=c||0>=b)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new module$exports$Blockly$utils$Size.Size(b,c+$.module$exports$Blockly$FieldImage.FieldImage.Y_PADDING),this.imageHeight_=c,this.clickHandler_=null,"function"==typeof e&&(this.clickHandler_=e),this.imageElement_=null,this.flipRtl_=this.isDirty_=this.EDITABLE=!1,this.altText_="",a!==module$exports$Blockly$Field.Field.SKIP_SETUP&&(g?this.configure_(g):(this.flipRtl_=!!f,this.altText_=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(d)||""),this.setValue((0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a)))}},$.$jscomp.inherits($.module$exports$Blockly$FieldImage.FieldImage,module$exports$Blockly$Field.Field),$.module$exports$Blockly$FieldImage.FieldImage.prototype.configure_=function(a){module$exports$Blockly$Field.Field.prototype.configure_.call(this,a),this.flipRtl_=!!a.flipRtl,this.altText_=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(a.alt)||""},$.module$exports$Blockly$FieldImage.FieldImage.prototype.initView=function(){this.imageElement_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(module$exports$Blockly$utils$dom.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},$.module$exports$Blockly$FieldImage.FieldImage.prototype.updateSize_=function(){},$.module$exports$Blockly$FieldImage.FieldImage.prototype.doClassValidation_=function(a){return"string"!=typeof a?null:a},$.module$exports$Blockly$FieldImage.FieldImage.prototype.doValueUpdate_=function(a){this.value_=a,this.imageElement_&&this.imageElement_.setAttributeNS(module$exports$Blockly$utils$dom.XLINK_NS,"xlink:href",String(this.value_))},$.module$exports$Blockly$FieldImage.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},$.module$exports$Blockly$FieldImage.FieldImage.prototype.setAlt=function(a){a!==this.altText_&&(this.altText_=a||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},$.module$exports$Blockly$FieldImage.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},$.module$exports$Blockly$FieldImage.FieldImage.prototype.setOnClickHandler=function(a){this.clickHandler_=a},$.module$exports$Blockly$FieldImage.FieldImage.prototype.getText_=function(){return this.altText_},$.module$exports$Blockly$FieldImage.FieldImage.fromJson=function(a){return new this(a.src,a.width,a.height,void 0,void 0,void 0,a)},$.module$exports$Blockly$FieldImage.FieldImage.prototype.DEFAULT_VALUE="",$.module$exports$Blockly$FieldImage.FieldImage.Y_PADDING=1,(0,module$exports$Blockly$fieldRegistry.register)("field_image",$.module$exports$Blockly$FieldImage.FieldImage);var module$exports$Blockly$zelos$RightConnectionShape_RightConnectionShape=function(a){module$exports$Blockly$blockRendering$Measurable.Measurable.call(this,a),this.type|=module$exports$Blockly$blockRendering$Types.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0};$.$jscomp.inherits(module$exports$Blockly$zelos$RightConnectionShape_RightConnectionShape,module$exports$Blockly$blockRendering$Measurable.Measurable);var module$exports$Blockly$zelos$StatementInput_StatementInput=function(a,b){if(module$exports$Blockly$blockRendering$StatementInput.StatementInput.call(this,a,b),this.connectedBlock){for(a=this.connectedBlock;b=a.getNextBlock();)a=b;a.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}};$.$jscomp.inherits(module$exports$Blockly$zelos$StatementInput_StatementInput,module$exports$Blockly$blockRendering$StatementInput.StatementInput);var module$exports$Blockly$zelos$TopRow={TopRow:function(a){module$exports$Blockly$blockRendering$TopRow.TopRow.call(this,a)}};$.$jscomp.inherits(module$exports$Blockly$zelos$TopRow.TopRow,module$exports$Blockly$blockRendering$TopRow.TopRow),module$exports$Blockly$zelos$TopRow.TopRow.prototype.endsWithElemSpacer=function(){return!1},module$exports$Blockly$zelos$TopRow.TopRow.prototype.hasLeftSquareCorner=function(a){var b=(a.hat?"cap"===a.hat:this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection;return!!a.outputConnection||b},module$exports$Blockly$zelos$TopRow.TopRow.prototype.hasRightSquareCorner=function(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection};var module$exports$Blockly$zelos$RenderInfo={RenderInfo:function(a,b){module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.call(this,a,b),this.topRow=new module$exports$Blockly$zelos$TopRow.TopRow(this.constants_),this.bottomRow=new module$exports$Blockly$zelos$BottomRow.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!b.getInputsInline()||b.isCollapsed(),this.hasStatementInput=0<b.statementInputCount,this.rightSide=this.outputConnection?new module$exports$Blockly$zelos$RightConnectionShape_RightConnectionShape(this.constants_):null,this.rightAlignedDummyInputs_=new WeakMap}};$.$jscomp.inherits(module$exports$Blockly$zelos$RenderInfo.RenderInfo,module$exports$Blockly$blockRendering$RenderInfo.RenderInfo),module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.getRenderer=function(){return this.renderer_},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.shouldStartNewRow_=function(a,b){return!!b&&(a.type===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||b.type===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||(a.type===$.module$exports$Blockly$inputTypes.inputTypes.VALUE||a.type===$.module$exports$Blockly$inputTypes.inputTypes.DUMMY)&&(!this.isInline||this.isMultiRow))},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.getDesiredRowWidth_=function(a){return a.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.getDesiredRowWidth_.call(this,a)},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.getInRowSpacing_=function(a,b){return a&&b||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!a&&b&&module$exports$Blockly$blockRendering$Types.Types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:a&&module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(a)&&b&&(module$exports$Blockly$blockRendering$Types.Types.isPreviousConnection(b)||module$exports$Blockly$blockRendering$Types.Types.isNextConnection(b))?b.notchOffset-this.constants_.CORNER_RADIUS:a&&module$exports$Blockly$blockRendering$Types.Types.isLeftSquareCorner(a)&&b&&module$exports$Blockly$blockRendering$Types.Types.isHat(b)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.getSpacerRowHeight_=function(a,b){if(module$exports$Blockly$blockRendering$Types.Types.isTopRow(a)&&module$exports$Blockly$blockRendering$Types.Types.isBottomRow(b))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var c=module$exports$Blockly$blockRendering$Types.Types.isInputRow(a)&&a.hasStatement,d=module$exports$Blockly$blockRendering$Types.Types.isInputRow(b)&&b.hasStatement;return d||c?(a=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),d&&c?Math.max(a,this.constants_.DUMMY_INPUT_MIN_HEIGHT):a):module$exports$Blockly$blockRendering$Types.Types.isTopRow(a)?a.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):module$exports$Blockly$blockRendering$Types.Types.isBottomRow(b)?this.outputConnection?!b.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.getSpacerRowWidth_=function(a,b){var c=this.width-this.startX;return module$exports$Blockly$blockRendering$Types.Types.isInputRow(a)&&a.hasStatement||module$exports$Blockly$blockRendering$Types.Types.isInputRow(b)&&b.hasStatement?Math.max(c,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):c},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.getElemCenterline_=function(a,b){if(a.hasStatement&&!module$exports$Blockly$blockRendering$Types.Types.isSpacer(b)&&!module$exports$Blockly$blockRendering$Types.Types.isStatementInput(b))return a.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(b)&&b instanceof module$exports$Blockly$blockRendering$InputConnection.InputConnection){var c=b.connectedBlock;if(c&&c.outputConnection&&c.nextConnection)return a.yPos+c.height/2}return module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.getElemCenterline_.call(this,a,b)},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.addInput_=function(a,b){if(a.type===$.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&b.hasDummyInput&&b.align===$.module$exports$Blockly$Input.Align.LEFT&&a.align===$.module$exports$Blockly$Input.Align.RIGHT)this.rightAlignedDummyInputs_.set(b,a);else if(a.type===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT)return b.elements.push(new module$exports$Blockly$zelos$StatementInput_StatementInput(this.constants_,a)),b.hasStatement=!0,void(null===b.align&&(b.align=a.align));module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.addInput_.call(this,a,b)},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.addAlignmentPadding_=function(a,b){if(this.rightAlignedDummyInputs_.get(a)){for(var c,d=0;d<a.elements.length;d++){var e=a.elements[d];if(module$exports$Blockly$blockRendering$Types.Types.isSpacer(e)&&(c=e),module$exports$Blockly$blockRendering$Types.Types.isField(e)&&e instanceof module$exports$Blockly$blockRendering$Field_Field&&e.parentInput===this.rightAlignedDummyInputs_.get(a))break}if(c)return c.width+=b,void(a.width+=b)}module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.addAlignmentPadding_.call(this,a,b)},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.adjustXPosition_=function(){for(var a=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,b=a,c=2;c<this.rows.length-1;c+=2){var d=this.rows[c-1],e=this.rows[c],f=this.rows[c+1];if(d=2===c?!!this.topRow.hasPreviousConnection:!!d.followsStatement,f=c+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!f.precedesStatement,module$exports$Blockly$blockRendering$Types.Types.isInputRow(e)&&e.hasStatement)e.measure(),b=e.width-e.getLastInput().width+a;else if(d&&(2===c||f)&&module$exports$Blockly$blockRendering$Types.Types.isInputRow(e)&&!e.hasStatement){f=e.xPos,d=null;for(var g=0;g<e.elements.length;g++){var h=e.elements[g];module$exports$Blockly$blockRendering$Types.Types.isSpacer(h)&&(d=h),d&&(module$exports$Blockly$blockRendering$Types.Types.isField(h)||module$exports$Blockly$blockRendering$Types.Types.isInput(h))&&f<b&&!(module$exports$Blockly$blockRendering$Types.Types.isField(h)&&h instanceof module$exports$Blockly$blockRendering$Field_Field&&(h.field instanceof $.module$exports$Blockly$FieldLabel.FieldLabel||h.field instanceof $.module$exports$Blockly$FieldImage.FieldImage))&&(d.width+=b-f),f+=h.width}}}},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var a=0,b=0;b<this.rows.length;b++){var c=this.rows[b];c.yPos=a,a+=c.height}this.height=a,b=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,a=this.outputConnection.shape.height(b),b=this.outputConnection.shape.width(b),this.outputConnection.height=a,this.outputConnection.width=b,this.outputConnection.startX=b,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(a),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(b),c=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(c=b,this.rightSide.height=a,this.rightSide.width=c,this.rightSide.centerline=a/2,this.rightSide.xPos=this.width+c),this.startX=b,this.width+=b+c,this.widthWithChildren+=b+c}},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var a=0,b=0;b<this.rows.length;b++){var c=this.rows[b];if(module$exports$Blockly$blockRendering$Types.Types.isInputRow(c)){a=c.elements[c.elements.length-2];var d=this.getNegativeSpacing_(c.elements[1]),e=this.getNegativeSpacing_(a);a=d+e;var f=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-a<f&&(d=(a=this.width-f)/2,e=a/2),c.elements.unshift(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,-d)),c.elements.push(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,-e))}}if(a)for(this.width-=a,this.widthWithChildren-=a,this.rightSide.xPos-=a,b=0;b<this.rows.length;b++)c=this.rows[b],module$exports$Blockly$blockRendering$Types.Types.isTopOrBottomRow(c)&&(c.elements[1].width-=a),c.width-=a,c.widthWithConnectedBlocks-=a}},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.getNegativeSpacing_=function(a){if(!a)return 0;var b=this.outputConnection.width,c=this.outputConnection.shape.type,d=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)return c===d.SHAPES.ROUND?(c=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,b-(c=this.height/2>c?c:this.height/2)*(1-Math.sin(Math.acos((c-this.constants_.SMALL_PADDING)/c)))):0;if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(a)&&a instanceof module$exports$Blockly$blockRendering$InputConnection.InputConnection){var e=a.connectedBlock;return a=e?e.pathObject.outputShapeType:a.shape.type,e&&e.outputConnection&&(e.statementInputCount||e.nextConnection)||c===d.SHAPES.HEXAGONAL&&c!==a?0:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][a]}return module$exports$Blockly$blockRendering$Types.Types.isField(a)&&a instanceof module$exports$Blockly$blockRendering$Field_Field?c===d.SHAPES.ROUND&&a.field instanceof $.module$exports$Blockly$FieldTextInput.FieldTextInput?b-2.75*d.GRID_UNIT:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][0]:module$exports$Blockly$blockRendering$Types.Types.isIcon(a)?this.constants_.SMALL_PADDING:0},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var a=2;a<this.rows.length-1;a+=2){var b=this.rows[a-1],c=this.rows[a],d=this.rows[a+1],e=2===a,f=a+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!d.precedesStatement;if(e?this.topRow.hasPreviousConnection:b.followsStatement){var g=c.elements[1];if(g=3===c.elements.length&&g instanceof module$exports$Blockly$blockRendering$Field_Field&&(g.field instanceof $.module$exports$Blockly$FieldLabel.FieldLabel||g.field instanceof $.module$exports$Blockly$FieldImage.FieldImage),!e&&g)b.height-=this.constants_.SMALL_PADDING,d.height-=this.constants_.SMALL_PADDING,c.height-=this.constants_.MEDIUM_PADDING;else if(e||f){if(f){for(e=!1,f=0;f<c.elements.length;f++)if((g=c.elements[f])instanceof module$exports$Blockly$blockRendering$InputConnection.InputConnection&&module$exports$Blockly$blockRendering$Types.Types.isInlineInput(g)&&g.connectedBlock&&!g.connectedBlock.isShadow()&&40<=g.connectedBlock.getHeightWidth().height){e=!0;break}e&&(b.height-=this.constants_.SMALL_PADDING,d.height-=this.constants_.SMALL_PADDING)}}else b.height+=this.constants_.SMALL_PADDING}}},module$exports$Blockly$zelos$RenderInfo.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)};var module$exports$Blockly$zelos$Renderer={Renderer:function(a){module$exports$Blockly$blockRendering$Renderer.Renderer.call(this,a)}};$.$jscomp.inherits(module$exports$Blockly$zelos$Renderer.Renderer,module$exports$Blockly$blockRendering$Renderer.Renderer),module$exports$Blockly$zelos$Renderer.Renderer.prototype.makeConstants_=function(){return new module$exports$Blockly$zelos$ConstantProvider.ConstantProvider},module$exports$Blockly$zelos$Renderer.Renderer.prototype.makeRenderInfo_=function(a){return new module$exports$Blockly$zelos$RenderInfo.RenderInfo(this,a)},module$exports$Blockly$zelos$Renderer.Renderer.prototype.makeDrawer_=function(a,b){return new module$exports$Blockly$zelos$Drawer.Drawer(a,b)},module$exports$Blockly$zelos$Renderer.Renderer.prototype.makeMarkerDrawer=function(a,b){return new module$exports$Blockly$zelos$MarkerSvg.MarkerSvg(a,this.getConstants(),b)},module$exports$Blockly$zelos$Renderer.Renderer.prototype.makePathObject=function(a,b){return new module$exports$Blockly$zelos$PathObject.PathObject(a,b,this.getConstants())},module$exports$Blockly$zelos$Renderer.Renderer.prototype.shouldHighlightConnection=function(a){return a.type!==$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&a.type!==$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE},module$exports$Blockly$zelos$Renderer.Renderer.prototype.getConnectionPreviewMethod=function(a,b,c){return b.type===$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?a.isConnected()?module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.getConnectionPreviewMethod.call(this,a,b,c)},(0,module$exports$Blockly$blockRendering.register)("zelos",module$exports$Blockly$zelos$Renderer.Renderer);var module$exports$Blockly$zelos={};module$exports$Blockly$zelos.BottomRow=module$exports$Blockly$zelos$BottomRow.BottomRow,module$exports$Blockly$zelos.ConstantProvider=module$exports$Blockly$zelos$ConstantProvider.ConstantProvider,module$exports$Blockly$zelos.Drawer=module$exports$Blockly$zelos$Drawer.Drawer,module$exports$Blockly$zelos.MarkerSvg=module$exports$Blockly$zelos$MarkerSvg.MarkerSvg,module$exports$Blockly$zelos.PathObject=module$exports$Blockly$zelos$PathObject.PathObject,module$exports$Blockly$zelos.RenderInfo=module$exports$Blockly$zelos$RenderInfo.RenderInfo,module$exports$Blockly$zelos.Renderer=module$exports$Blockly$zelos$Renderer.Renderer,module$exports$Blockly$zelos.RightConnectionShape=module$exports$Blockly$zelos$RightConnectionShape_RightConnectionShape,module$exports$Blockly$zelos.StatementInput=module$exports$Blockly$zelos$StatementInput_StatementInput,module$exports$Blockly$zelos.TopRow=module$exports$Blockly$zelos$TopRow.TopRow;var module$exports$Blockly$thrasos$RenderInfo={RenderInfo:function(a,b){module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.call(this,a,b)}};$.$jscomp.inherits(module$exports$Blockly$thrasos$RenderInfo.RenderInfo,module$exports$Blockly$blockRendering$RenderInfo.RenderInfo),module$exports$Blockly$thrasos$RenderInfo.RenderInfo.prototype.getRenderer=function(){return this.renderer_},module$exports$Blockly$thrasos$RenderInfo.RenderInfo.prototype.addElemSpacing_=function(){for(var a=!1,b=0;b<this.rows.length;b++)if(this.rows[b].hasExternalInput){a=!0;break}for(b=0;b<this.rows.length;b++){var c=this.rows[b],d=c.elements;c.elements=[],c.startsWithElemSpacer()&&c.elements.push(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,this.getInRowSpacing_(null,d[0])));for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.getInRowSpacing_(d[e],d[e+1]);c.elements.push(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,f))}c.elements.push(d[d.length-1]),c.endsWithElemSpacer()&&(d=this.getInRowSpacing_(d[d.length-1],null),a&&c.hasDummyInput&&(d+=this.constants_.TAB_WIDTH),c.elements.push(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,d)))}},module$exports$Blockly$thrasos$RenderInfo.RenderInfo.prototype.getInRowSpacing_=function(a,b){if(!a)return b&&module$exports$Blockly$blockRendering$Types.Types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&module$exports$Blockly$blockRendering$Types.Types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&module$exports$Blockly$blockRendering$Types.Types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!module$exports$Blockly$blockRendering$Types.Types.isInput(a)&&!b)return module$exports$Blockly$blockRendering$Types.Types.isField(a)&&a.isEditable?this.constants_.MEDIUM_PADDING:module$exports$Blockly$blockRendering$Types.Types.isIcon(a)?2*this.constants_.LARGE_PADDING+1:module$exports$Blockly$blockRendering$Types.Types.isHat(a)?this.constants_.NO_PADDING:module$exports$Blockly$blockRendering$Types.Types.isPreviousOrNextConnection(a)?this.constants_.LARGE_PADDING:module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:module$exports$Blockly$blockRendering$Types.Types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isInput(a)&&!b){if(module$exports$Blockly$blockRendering$Types.Types.isExternalInput(a))return this.constants_.NO_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isStatementInput(a))return this.constants_.NO_PADDING}if(!module$exports$Blockly$blockRendering$Types.Types.isInput(a)&&b&&module$exports$Blockly$blockRendering$Types.Types.isInput(b)){if(module$exports$Blockly$blockRendering$Types.Types.isField(a)&&a.isEditable){if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(b)||module$exports$Blockly$blockRendering$Types.Types.isExternalInput(b))return this.constants_.SMALL_PADDING}else{if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(b)||module$exports$Blockly$blockRendering$Types.Types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isStatementInput(b))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(module$exports$Blockly$blockRendering$Types.Types.isIcon(a)&&b&&!module$exports$Blockly$blockRendering$Types.Types.isInput(b))return this.constants_.LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(a)&&b&&module$exports$Blockly$blockRendering$Types.Types.isField(b))return b.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isLeftSquareCorner(a)&&b){if(module$exports$Blockly$blockRendering$Types.Types.isHat(b))return this.constants_.NO_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isPreviousConnection(b)||module$exports$Blockly$blockRendering$Types.Types.isNextConnection(b))return b.notchOffset}return module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(a)&&b?b.notchOffset-this.constants_.CORNER_RADIUS:module$exports$Blockly$blockRendering$Types.Types.isField(a)&&b&&module$exports$Blockly$blockRendering$Types.Types.isField(b)&&a.isEditable===b.isEditable||b&&module$exports$Blockly$blockRendering$Types.Types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},module$exports$Blockly$thrasos$RenderInfo.RenderInfo.prototype.getSpacerRowHeight_=function(a,b){return module$exports$Blockly$blockRendering$Types.Types.isTopRow(a)&&module$exports$Blockly$blockRendering$Types.Types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:module$exports$Blockly$blockRendering$Types.Types.isTopRow(a)||module$exports$Blockly$blockRendering$Types.Types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||a.hasDummyInput||b.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},module$exports$Blockly$thrasos$RenderInfo.RenderInfo.prototype.getElemCenterline_=function(a,b){if(module$exports$Blockly$blockRendering$Types.Types.isSpacer(b))return a.yPos+b.height/2;if(module$exports$Blockly$blockRendering$Types.Types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,module$exports$Blockly$blockRendering$Types.Types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(module$exports$Blockly$blockRendering$Types.Types.isTopRow(a))return module$exports$Blockly$blockRendering$Types.Types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2;var c=a.yPos;return module$exports$Blockly$blockRendering$Types.Types.isField(b)&&a.hasStatement?c+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+b.height/2):c+a.height/2},module$exports$Blockly$thrasos$RenderInfo.RenderInfo.prototype.finalize_=function(){for(var a=0,b=0,c=0;c<this.rows.length;c++){var d=this.rows[c];d.yPos=b,d.xPos=this.startX,b+=d.height,a=Math.max(a,d.widthWithConnectedBlocks);var e=b-this.topRow.ascenderHeight;d===this.bottomRow&&e<this.constants_.MIN_BLOCK_HEIGHT&&(e=this.constants_.MIN_BLOCK_HEIGHT-e,this.bottomRow.height+=e,b+=e),this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(a=Math.max(a,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=b-this.bottomRow.descenderHeight,this.widthWithChildren=a+this.startX,this.height=b,this.startY=this.topRow.capline};var module$exports$Blockly$thrasos$Renderer={Renderer:function(a){module$exports$Blockly$blockRendering$Renderer.Renderer.call(this,a)}};$.$jscomp.inherits(module$exports$Blockly$thrasos$Renderer.Renderer,module$exports$Blockly$blockRendering$Renderer.Renderer),module$exports$Blockly$thrasos$Renderer.Renderer.prototype.makeRenderInfo_=function(a){return new module$exports$Blockly$thrasos$RenderInfo.RenderInfo(this,a)},(0,module$exports$Blockly$blockRendering.register)("thrasos",module$exports$Blockly$thrasos$Renderer.Renderer);var module$exports$Blockly$thrasos={};module$exports$Blockly$thrasos.RenderInfo=module$exports$Blockly$thrasos$RenderInfo.RenderInfo,module$exports$Blockly$thrasos.Renderer=module$exports$Blockly$thrasos$Renderer.Renderer;var module$exports$Blockly$serialization$workspaces={save:function(a){var d,b=Object.create(null),c=(0,module$exports$Blockly$registry.getAllItems)(module$exports$Blockly$registry.Type.SERIALIZER,!0);for(d in c){var e=c[d].save(a);e&&(b[d]=e)}return b},load:function(a,b,c){var d=void 0!==(c=void 0===c?{}:c).recordUndo&&c.recordUndo;if(c=(0,module$exports$Blockly$registry.getAllItems)(module$exports$Blockly$registry.Type.SERIALIZER,!0)){var e=Object.entries(c).sort((function(h,k){return k[1].priority-h[1].priority}));c=(0,module$exports$Blockly$Events$utils.getRecordUndo)(),(0,module$exports$Blockly$Events$utils.setRecordUndo)(d),(d=(0,module$exports$Blockly$Events$utils.getGroup)())||(0,module$exports$Blockly$Events$utils.setGroup)(!0),(0,module$exports$Blockly$utils$dom.startTextWidthCache)(),b instanceof module$exports$Blockly$WorkspaceSvg.WorkspaceSvg&&b.setResizesEnabled(!1);for(var f=$.$jscomp.makeIterator(e.reverse()),g=f.next();!g.done;g=f.next())(g=$.$jscomp.makeIterator(g.value)).next(),g.next().value.clear(b);for(f=(e=$.$jscomp.makeIterator(e.reverse())).next();!f.done;f=e.next())f=(g=$.$jscomp.makeIterator(f.value)).next().value,g=g.next().value,a[f]&&g.load(a[f],b);b instanceof module$exports$Blockly$WorkspaceSvg.WorkspaceSvg&&b.setResizesEnabled(!0),(0,module$exports$Blockly$utils$dom.stopTextWidthCache)(),(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.FINISHED_LOADING))(b)),(0,module$exports$Blockly$Events$utils.setGroup)(d),(0,module$exports$Blockly$Events$utils.setRecordUndo)(c)}}},module$contents$Blockly$serialization$variables_VariableSerializer=function(){this.priority=module$exports$Blockly$serialization$priorities.VARIABLES};module$contents$Blockly$serialization$variables_VariableSerializer.prototype.save=function(a){for(var b=[],c=(a=$.$jscomp.makeIterator(a.getAllVariables())).next();!c.done;c=a.next()){var d={name:(c=c.value).name,id:c.getId()};c.type&&(d.type=c.type),b.push(d)}return b.length?b:null},module$contents$Blockly$serialization$variables_VariableSerializer.prototype.load=function(a,b){for(var c=(a=$.$jscomp.makeIterator(a)).next();!c.done;c=a.next())c=c.value,b.createVariable(c.name,c.type,c.id)},module$contents$Blockly$serialization$variables_VariableSerializer.prototype.clear=function(a){a.getVariableMap().clear()},(0,module$exports$Blockly$serialization$registry.register)("variables",new module$contents$Blockly$serialization$variables_VariableSerializer);var module$exports$Blockly$minimalist$ConstantProvider_ConstantProvider=function(){module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.call(this)};$.$jscomp.inherits(module$exports$Blockly$minimalist$ConstantProvider_ConstantProvider,module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider);var module$exports$Blockly$minimalist$Drawer_Drawer=function(a,b){module$exports$Blockly$blockRendering$Drawer.Drawer.call(this,a,b)};$.$jscomp.inherits(module$exports$Blockly$minimalist$Drawer_Drawer,module$exports$Blockly$blockRendering$Drawer.Drawer);var module$exports$Blockly$minimalist$RenderInfo={RenderInfo:function(a,b){module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.call(this,a,b)}};$.$jscomp.inherits(module$exports$Blockly$minimalist$RenderInfo.RenderInfo,module$exports$Blockly$blockRendering$RenderInfo.RenderInfo),module$exports$Blockly$minimalist$RenderInfo.RenderInfo.prototype.getRenderer=function(){return this.renderer_};var module$exports$Blockly$minimalist$Renderer={Renderer:function(a){module$exports$Blockly$blockRendering$Renderer.Renderer.call(this,a)}};$.$jscomp.inherits(module$exports$Blockly$minimalist$Renderer.Renderer,module$exports$Blockly$blockRendering$Renderer.Renderer),module$exports$Blockly$minimalist$Renderer.Renderer.prototype.makeConstants_=function(){return new module$exports$Blockly$minimalist$ConstantProvider_ConstantProvider},module$exports$Blockly$minimalist$Renderer.Renderer.prototype.makeRenderInfo_=function(a){return new module$exports$Blockly$minimalist$RenderInfo.RenderInfo(this,a)},module$exports$Blockly$minimalist$Renderer.Renderer.prototype.makeDrawer_=function(a,b){return new module$exports$Blockly$minimalist$Drawer_Drawer(a,b)},(0,module$exports$Blockly$blockRendering.register)("minimalist",module$exports$Blockly$minimalist$Renderer.Renderer);var module$exports$Blockly$minimalist={};module$exports$Blockly$minimalist.ConstantProvider=module$exports$Blockly$minimalist$ConstantProvider_ConstantProvider,module$exports$Blockly$minimalist.Drawer=module$exports$Blockly$minimalist$Drawer_Drawer,module$exports$Blockly$minimalist.RenderInfo=module$exports$Blockly$minimalist$RenderInfo.RenderInfo,module$exports$Blockly$minimalist.Renderer=module$exports$Blockly$minimalist$Renderer.Renderer;var module$exports$Blockly$geras$StatementInput_StatementInput=function(a,b){module$exports$Blockly$blockRendering$StatementInput.StatementInput.call(this,a,b),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)};$.$jscomp.inherits(module$exports$Blockly$geras$StatementInput_StatementInput,module$exports$Blockly$blockRendering$StatementInput.StatementInput);var module$exports$Blockly$geras$PathObject={PathObject:function(a,b,c){module$exports$Blockly$blockRendering$PathObject.PathObject.call(this,a,b,c),this.constants=c,this.svgPathDark=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000"}};$.$jscomp.inherits(module$exports$Blockly$geras$PathObject.PathObject,module$exports$Blockly$blockRendering$PathObject.PathObject),module$exports$Blockly$geras$PathObject.PathObject.prototype.setPath=function(a){this.svgPath.setAttribute("d",a),this.svgPathDark.setAttribute("d",a)},module$exports$Blockly$geras$PathObject.PathObject.prototype.setHighlightPath=function(a){this.svgPathLight.setAttribute("d",a)},module$exports$Blockly$geras$PathObject.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},module$exports$Blockly$geras$PathObject.PathObject.prototype.applyColour=function(a){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.applyColour.call(this,a),this.svgPath.setAttribute("stroke","none")},module$exports$Blockly$geras$PathObject.PathObject.prototype.setStyle=function(a){this.style=a,this.colourDark=(0,module$exports$Blockly$utils$colour.blend)("#000",this.style.colourPrimary,.2)||this.colourDark},module$exports$Blockly$geras$PathObject.PathObject.prototype.updateHighlighted=function(a){a?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},module$exports$Blockly$geras$PathObject.PathObject.prototype.updateShadow_=function(a){a&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},module$exports$Blockly$geras$PathObject.PathObject.prototype.updateDisabled_=function(a){module$exports$Blockly$blockRendering$PathObject.PathObject.prototype.updateDisabled_.call(this,a),a&&this.svgPath.setAttribute("stroke","none")};var module$exports$Blockly$geras$ConstantProvider={ConstantProvider:function(){module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}};$.$jscomp.inherits(module$exports$Blockly$geras$ConstantProvider.ConstantProvider,module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider),module$exports$Blockly$geras$ConstantProvider.ConstantProvider.prototype.getCSS_=function(a){return module$exports$Blockly$blockRendering$ConstantProvider.ConstantProvider.prototype.getCSS_.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])};var module$exports$Blockly$geras$InlineInput_InlineInput=function(a,b){module$exports$Blockly$blockRendering$InlineInput.InlineInput.call(this,a,b),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)};$.$jscomp.inherits(module$exports$Blockly$geras$InlineInput_InlineInput,module$exports$Blockly$blockRendering$InlineInput.InlineInput);var module$exports$Blockly$geras$Highlighter={Highlighter:function(a){this.info_=a,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,a=a.getRenderer(),this.constants_=a.getConstants(),this.highlightConstants_=a.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}};module$exports$Blockly$geras$Highlighter.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},module$exports$Blockly$geras$Highlighter.Highlighter.prototype.drawTopCorner=function(a){this.steps_+=(0,module$exports$Blockly$utils$svgPaths.moveBy)(a.xPos,this.info_.startY);for(var c,b=0;c=a.elements[b];b++)module$exports$Blockly$blockRendering$Types.Types.isLeftSquareCorner(c)?this.steps_+=this.highlightConstants_.START_POINT:module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(c)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):module$exports$Blockly$blockRendering$Types.Types.isPreviousConnection(c)?this.steps_+=this.notchPaths_.pathLeft:module$exports$Blockly$blockRendering$Types.Types.isHat(c)?this.steps_+=this.startPaths_.path(this.RTL_):module$exports$Blockly$blockRendering$Types.Types.isSpacer(c)&&0!==c.width&&(this.steps_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",c.xPos+c.width-this.highlightOffset_));this.steps_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",a.xPos+a.width-this.highlightOffset_)},module$exports$Blockly$geras$Highlighter.Highlighter.prototype.drawJaggedEdge_=function(a){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",a.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},module$exports$Blockly$geras$Highlighter.Highlighter.prototype.drawValueInput=function(a){var b=a.getLastInput();if(this.RTL_){var c=a.height-b.connectionHeight;this.steps_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(b.xPos+b.width-this.highlightOffset_,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",c)}else this.steps_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(b.xPos+b.width,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},module$exports$Blockly$geras$Highlighter.Highlighter.prototype.drawStatementInput=function(a){var b=a.getLastInput();if(this.RTL_){var c=a.height-2*this.insideCornerPaths_.height;this.steps_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(b.xPos,a.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",c)+this.insideCornerPaths_.pathBottom(this.RTL_)+(0,module$exports$Blockly$utils$svgPaths.lineTo)(a.width-b.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(b.xPos,a.yPos+a.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+(0,module$exports$Blockly$utils$svgPaths.lineTo)(a.width-b.xPos-this.insideCornerPaths_.width,0)},module$exports$Blockly$geras$Highlighter.Highlighter.prototype.drawRightSideRow=function(a){var b=a.xPos+a.width-this.highlightOffset_;a instanceof module$exports$Blockly$blockRendering$SpacerRow.SpacerRow&&a.followsStatement&&(this.steps_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",b)),this.RTL_&&(this.steps_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",b),a.height>this.highlightOffset_&&(this.steps_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",a.yPos+a.height-this.highlightOffset_)))},module$exports$Blockly$geras$Highlighter.Highlighter.prototype.drawBottomRow=function(a){if(this.RTL_)this.steps_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",a.baseline-this.highlightOffset_);else{var b=this.info_.bottomRow.elements[0];module$exports$Blockly$blockRendering$Types.Types.isLeftSquareCorner(b)?this.steps_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(a.xPos+this.highlightOffset_,a.baseline-this.highlightOffset_):module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(b)&&(this.steps_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(a.xPos,a.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},module$exports$Blockly$geras$Highlighter.Highlighter.prototype.drawLeft=function(){var a=this.info_.outputConnection;a&&(a=a.connectionOffsetY+a.height,this.RTL_?this.steps_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(this.info_.startX,a):(this.steps_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",a)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(a=this.info_.topRow,module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(a.elements[0])?this.steps_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",this.outsideCornerPaths_.height):this.steps_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",a.capline+this.highlightOffset_))},module$exports$Blockly$geras$Highlighter.Highlighter.prototype.drawInlineInput=function(a){var b=this.highlightOffset_,c=a.xPos+a.connectionWidth,d=a.centerline-a.height/2,e=a.width-a.connectionWidth,f=d+b;this.RTL_?(d=a.connectionOffsetY-b,a=a.height-(a.connectionOffsetY+a.connectionHeight)+b,this.inlineSteps_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(c-b,f)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",d)+this.puzzleTabPaths_.pathDown(this.RTL_)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",a)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",e)):this.inlineSteps_+=(0,module$exports$Blockly$utils$svgPaths.moveTo)(a.xPos+a.width+b,f)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",a.height)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",-e)+(0,module$exports$Blockly$utils$svgPaths.moveTo)(c,d+a.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)};var module$exports$Blockly$geras$Drawer={Drawer:function(a,b){module$exports$Blockly$blockRendering$Drawer.Drawer.call(this,a,b),this.highlighter_=new module$exports$Blockly$geras$Highlighter.Highlighter(b)}};$.$jscomp.inherits(module$exports$Blockly$geras$Drawer.Drawer,module$exports$Blockly$blockRendering$Drawer.Drawer),module$exports$Blockly$geras$Drawer.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var a=this.block_.pathObject;a.setPath(this.outlinePath_+"\n"+this.inlinePath_),a.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&a.flipRTL(),(0,module$exports$Blockly$blockRendering$debug.isDebuggerEnabled)()&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},module$exports$Blockly$geras$Drawer.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawTop_.call(this)},module$exports$Blockly$geras$Drawer.Drawer.prototype.drawJaggedEdge_=function(a){this.highlighter_.drawJaggedEdge_(a),module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawJaggedEdge_.call(this,a)},module$exports$Blockly$geras$Drawer.Drawer.prototype.drawValueInput_=function(a){this.highlighter_.drawValueInput(a),module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawValueInput_.call(this,a)},module$exports$Blockly$geras$Drawer.Drawer.prototype.drawStatementInput_=function(a){this.highlighter_.drawStatementInput(a),module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawStatementInput_.call(this,a)},module$exports$Blockly$geras$Drawer.Drawer.prototype.drawRightSideRow_=function(a){this.highlighter_.drawRightSideRow(a),this.outlinePath_+=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("H",a.xPos+a.width)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("V",a.yPos+a.height)},module$exports$Blockly$geras$Drawer.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawBottom_.call(this)},module$exports$Blockly$geras$Drawer.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawLeft_.call(this)},module$exports$Blockly$geras$Drawer.Drawer.prototype.drawInlineInput_=function(a){this.highlighter_.drawInlineInput(a),module$exports$Blockly$blockRendering$Drawer.Drawer.prototype.drawInlineInput_.call(this,a)},module$exports$Blockly$geras$Drawer.Drawer.prototype.positionInlineInputConnection_=function(a){var b=a.centerline-a.height/2;if(a.connectionModel){var c=a.xPos+a.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1),a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},module$exports$Blockly$geras$Drawer.Drawer.prototype.positionStatementInputConnection_=function(a){var b=a.getLastInput();if(b.connectionModel){var c=a.xPos+a.statementEdge+b.notchOffset;c=this.info_.RTL?-1*c:c+this.constants_.DARK_PATH_OFFSET,b.connectionModel.setOffsetInBlock(c,a.yPos+this.constants_.DARK_PATH_OFFSET)}},module$exports$Blockly$geras$Drawer.Drawer.prototype.positionExternalValueConnection_=function(a){var b=a.getLastInput();if(b.connectionModel){var c=a.xPos+a.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1),b.connectionModel.setOffsetInBlock(c,a.yPos)}},module$exports$Blockly$geras$Drawer.Drawer.prototype.positionNextConnection_=function(){var a=this.info_.bottomRow;if(a.connection){var b=a.connection,c=b.xPos;b.connectionModel.setOffsetInBlock((this.info_.RTL?-c:c)+this.constants_.DARK_PATH_OFFSET/2,a.baseline+this.constants_.DARK_PATH_OFFSET)}};var module$exports$Blockly$geras$HighlightConstantProvider={HighlightConstantProvider:function(a){this.constantProvider=a,this.OFFSET=.5,this.START_POINT=(0,module$exports$Blockly$utils$svgPaths.moveBy)(this.OFFSET,this.OFFSET)}};module$exports$Blockly$geras$HighlightConstantProvider.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},module$exports$Blockly$geras$HighlightConstantProvider.HighlightConstantProvider.prototype.makeInsideCorner=function(){var a=this.constantProvider.CORNER_RADIUS,b=this.OFFSET,c=(1-Math.SQRT1_2)*(a+b)-b,d=(0,module$exports$Blockly$utils$svgPaths.moveBy)(c,c)+(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,0",a,(0,module$exports$Blockly$utils$svgPaths.point)(-c-b,a-c)),e=(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,0",a+b,(0,module$exports$Blockly$utils$svgPaths.point)(a+b,a+b)),f=(0,module$exports$Blockly$utils$svgPaths.moveBy)(c,-c)+(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,0",a+b,(0,module$exports$Blockly$utils$svgPaths.point)(a-c,c+b));return{width:a+b,height:a,pathTop:function(g){return g?d:""},pathBottom:function(g){return g?e:f}}},module$exports$Blockly$geras$HighlightConstantProvider.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var a=this.constantProvider.CORNER_RADIUS,b=this.OFFSET,c=(1-Math.SQRT1_2)*(a-b)+b,d=(0,module$exports$Blockly$utils$svgPaths.moveBy)(c,c)+(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",a-b,(0,module$exports$Blockly$utils$svgPaths.point)(a-c,-c+b)),e=(0,module$exports$Blockly$utils$svgPaths.moveBy)(b,a)+(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",a-b,(0,module$exports$Blockly$utils$svgPaths.point)(a,-a+b)),f=-c,g=(0,module$exports$Blockly$utils$svgPaths.moveBy)(c,f)+(0,module$exports$Blockly$utils$svgPaths.arc)("a","0 0,1",a-b,(0,module$exports$Blockly$utils$svgPaths.point)(-c+b,-f-a));return{height:a,topLeft:function(h){return h?d:e},bottomLeft:function(){return g}}},module$exports$Blockly$geras$HighlightConstantProvider.HighlightConstantProvider.prototype.makePuzzleTab=function(){var a=this.constantProvider.TAB_WIDTH,b=this.constantProvider.TAB_HEIGHT,c=(0,module$exports$Blockly$utils$svgPaths.moveBy)(-2,3.4-b)+(0,module$exports$Blockly$utils$svgPaths.lineTo)(-.45*a,-2.1),d=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",2.5)+(0,module$exports$Blockly$utils$svgPaths.moveBy)(.97*-a,2.5)+(0,module$exports$Blockly$utils$svgPaths.curve)("q",[(0,module$exports$Blockly$utils$svgPaths.point)(.05*-a,10),(0,module$exports$Blockly$utils$svgPaths.point)(.3*a,9.5)])+(0,module$exports$Blockly$utils$svgPaths.moveBy)(.67*a,-1.9)+(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",2.5),e=(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("v",-1.5)+(0,module$exports$Blockly$utils$svgPaths.moveBy)(-.92*a,-.5)+(0,module$exports$Blockly$utils$svgPaths.curve)("q",[(0,module$exports$Blockly$utils$svgPaths.point)(-.19*a,-5.5),(0,module$exports$Blockly$utils$svgPaths.point)(0,-11)])+(0,module$exports$Blockly$utils$svgPaths.moveBy)(.92*a,1),f=(0,module$exports$Blockly$utils$svgPaths.moveBy)(-5,b-.7)+(0,module$exports$Blockly$utils$svgPaths.lineTo)(.46*a,-2.1);return{width:a,height:b,pathUp:function(g){return g?c:e},pathDown:function(g){return g?d:f}}},module$exports$Blockly$geras$HighlightConstantProvider.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:(0,module$exports$Blockly$utils$svgPaths.lineOnAxis)("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},module$exports$Blockly$geras$HighlightConstantProvider.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:(0,module$exports$Blockly$utils$svgPaths.lineTo)(5.1,2.6)+(0,module$exports$Blockly$utils$svgPaths.moveBy)(-10.2,6.8)+(0,module$exports$Blockly$utils$svgPaths.lineTo)(5.1,2.6),height:12,width:10.2}},module$exports$Blockly$geras$HighlightConstantProvider.HighlightConstantProvider.prototype.makeStartHat=function(){var a=this.constantProvider.START_HAT.height,b=(0,module$exports$Blockly$utils$svgPaths.moveBy)(25,-8.7)+(0,module$exports$Blockly$utils$svgPaths.curve)("c",[(0,module$exports$Blockly$utils$svgPaths.point)(29.7,-6.2),(0,module$exports$Blockly$utils$svgPaths.point)(57.2,-.5),(0,module$exports$Blockly$utils$svgPaths.point)(75,8.7)]),c=(0,module$exports$Blockly$utils$svgPaths.curve)("c",[(0,module$exports$Blockly$utils$svgPaths.point)(17.8,-9.2),(0,module$exports$Blockly$utils$svgPaths.point)(45.3,-14.9),(0,module$exports$Blockly$utils$svgPaths.point)(75,-8.7)])+(0,module$exports$Blockly$utils$svgPaths.moveTo)(100.5,a+.5);return{path:function(d){return d?b:c}}};var module$exports$Blockly$geras$RenderInfo={RenderInfo:function(a,b){module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.call(this,a,b)}};$.$jscomp.inherits(module$exports$Blockly$geras$RenderInfo.RenderInfo,module$exports$Blockly$blockRendering$RenderInfo.RenderInfo),module$exports$Blockly$geras$RenderInfo.RenderInfo.prototype.getRenderer=function(){return this.renderer_},module$exports$Blockly$geras$RenderInfo.RenderInfo.prototype.populateBottomRow_=function(){module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},module$exports$Blockly$geras$RenderInfo.RenderInfo.prototype.addInput_=function(a,b){this.isInline&&a.type===$.module$exports$Blockly$inputTypes.inputTypes.VALUE?(b.elements.push(new module$exports$Blockly$geras$InlineInput_InlineInput(this.constants_,a)),b.hasInlineInput=!0):a.type===$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?(b.elements.push(new module$exports$Blockly$geras$StatementInput_StatementInput(this.constants_,a)),b.hasStatement=!0):a.type===$.module$exports$Blockly$inputTypes.inputTypes.VALUE?(b.elements.push(new module$exports$Blockly$blockRendering$ExternalValueInput_ExternalValueInput(this.constants_,a)),b.hasExternalInput=!0):a.type===$.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&(b.minHeight=Math.max(b.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0),this.isInline||null!==b.align||(b.align=a.align)},module$exports$Blockly$geras$RenderInfo.RenderInfo.prototype.addElemSpacing_=function(){for(var c,a=!1,b=0;c=this.rows[b];b++)c.hasExternalInput&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;if(c.elements=[],c.startsWithElemSpacer()&&c.elements.push(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,this.getInRowSpacing_(null,d[0]))),d.length){for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.getInRowSpacing_(d[e],d[e+1]);c.elements.push(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,f))}c.elements.push(d[d.length-1]),c.endsWithElemSpacer()&&(d=this.getInRowSpacing_(d[d.length-1],null),a&&c.hasDummyInput&&(d+=this.constants_.TAB_WIDTH),c.elements.push(new module$exports$Blockly$blockRendering$InRowSpacer_InRowSpacer(this.constants_,d)))}}},module$exports$Blockly$geras$RenderInfo.RenderInfo.prototype.getInRowSpacing_=function(a,b){if(!a)return b&&module$exports$Blockly$blockRendering$Types.Types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&module$exports$Blockly$blockRendering$Types.Types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&module$exports$Blockly$blockRendering$Types.Types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!module$exports$Blockly$blockRendering$Types.Types.isInput(a)&&(!b||module$exports$Blockly$blockRendering$Types.Types.isStatementInput(b)))return module$exports$Blockly$blockRendering$Types.Types.isField(a)&&a.isEditable?this.constants_.MEDIUM_PADDING:module$exports$Blockly$blockRendering$Types.Types.isIcon(a)?2*this.constants_.LARGE_PADDING+1:module$exports$Blockly$blockRendering$Types.Types.isHat(a)?this.constants_.NO_PADDING:module$exports$Blockly$blockRendering$Types.Types.isPreviousOrNextConnection(a)?this.constants_.LARGE_PADDING:module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:module$exports$Blockly$blockRendering$Types.Types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isInput(a)&&!b){if(module$exports$Blockly$blockRendering$Types.Types.isExternalInput(a))return this.constants_.NO_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isStatementInput(a))return this.constants_.NO_PADDING}if(!module$exports$Blockly$blockRendering$Types.Types.isInput(a)&&b&&module$exports$Blockly$blockRendering$Types.Types.isInput(b)){if(module$exports$Blockly$blockRendering$Types.Types.isField(a)&&a.isEditable){if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(b)||module$exports$Blockly$blockRendering$Types.Types.isExternalInput(b))return this.constants_.SMALL_PADDING}else{if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(b)||module$exports$Blockly$blockRendering$Types.Types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isStatementInput(b))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(module$exports$Blockly$blockRendering$Types.Types.isIcon(a)&&b&&!module$exports$Blockly$blockRendering$Types.Types.isInput(b))return this.constants_.LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isInlineInput(a)&&b&&module$exports$Blockly$blockRendering$Types.Types.isField(b))return b.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isLeftSquareCorner(a)&&b){if(module$exports$Blockly$blockRendering$Types.Types.isHat(b))return this.constants_.NO_PADDING;if(module$exports$Blockly$blockRendering$Types.Types.isPreviousConnection(b))return b.notchOffset;if(module$exports$Blockly$blockRendering$Types.Types.isNextConnection(b))return b.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(module$exports$Blockly$blockRendering$Types.Types.isLeftRoundedCorner(a)&&b){if(module$exports$Blockly$blockRendering$Types.Types.isPreviousConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS;if(module$exports$Blockly$blockRendering$Types.Types.isNextConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return module$exports$Blockly$blockRendering$Types.Types.isField(a)&&b&&module$exports$Blockly$blockRendering$Types.Types.isField(b)&&a.isEditable===b.isEditable||b&&module$exports$Blockly$blockRendering$Types.Types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},module$exports$Blockly$geras$RenderInfo.RenderInfo.prototype.getSpacerRowHeight_=function(a,b){return module$exports$Blockly$blockRendering$Types.Types.isTopRow(a)&&module$exports$Blockly$blockRendering$Types.Types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:module$exports$Blockly$blockRendering$Types.Types.isTopRow(a)||module$exports$Blockly$blockRendering$Types.Types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||!a.hasStatement&&b.hasDummyInput||a.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},module$exports$Blockly$geras$RenderInfo.RenderInfo.prototype.getElemCenterline_=function(a,b){if(module$exports$Blockly$blockRendering$Types.Types.isSpacer(b))return a.yPos+b.height/2;if(module$exports$Blockly$blockRendering$Types.Types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,module$exports$Blockly$blockRendering$Types.Types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(module$exports$Blockly$blockRendering$Types.Types.isTopRow(a))return module$exports$Blockly$blockRendering$Types.Types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2;var c=a.yPos;return module$exports$Blockly$blockRendering$Types.Types.isField(b)||module$exports$Blockly$blockRendering$Types.Types.isIcon(b)?(c+=b.height/2,(a.hasInlineInput||a.hasStatement)&&b.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=a.height&&(c+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):c=module$exports$Blockly$blockRendering$Types.Types.isInlineInput(b)?c+b.height/2:c+a.height/2,c},module$exports$Blockly$geras$RenderInfo.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var e,a=0,b=new WeakMap,c=null,d=this.rows.length-1;e=this.rows[d];d--)b.set(e,a),module$exports$Blockly$blockRendering$Types.Types.isInputRow(e)&&(e.hasStatement&&this.alignStatementRow_(e),c&&c.hasStatement&&e.width<c.width?b.set(e,c.width):a=e.width,c=e);for(a=d=0;c=this.rows[a];a++)c.hasStatement?d=this.getDesiredRowWidth_(c):module$exports$Blockly$blockRendering$Types.Types.isSpacer(c)?c.width=Math.max(d,b.get(c)):(e=c.width,0<(d=Math.max(d,b.get(c))-e)&&this.addAlignmentPadding_(c,d),d=c.width)}else module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.alignRowElements_.call(this)},module$exports$Blockly$geras$RenderInfo.RenderInfo.prototype.getDesiredRowWidth_=function(a){return this.isInline&&a.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:module$exports$Blockly$blockRendering$RenderInfo.RenderInfo.prototype.getDesiredRowWidth_.call(this,a)},module$exports$Blockly$geras$RenderInfo.RenderInfo.prototype.finalize_=function(){for(var d,a=0,b=0,c=0;d=this.rows[c];c++){d.yPos=b,d.xPos=this.startX,b+=d.height,a=Math.max(a,d.widthWithConnectedBlocks);var e=b-this.topRow.ascenderHeight;d===this.bottomRow&&e<this.constants_.MIN_BLOCK_HEIGHT&&(e=this.constants_.MIN_BLOCK_HEIGHT-e,this.bottomRow.height+=e,b+=e),this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(a=Math.max(a,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=b-this.bottomRow.descenderHeight,this.widthWithChildren=a+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=b+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline};var module$exports$Blockly$geras$Renderer={Renderer:function(a){module$exports$Blockly$blockRendering$Renderer.Renderer.call(this,a),this.highlightConstants_=null}};$.$jscomp.inherits(module$exports$Blockly$geras$Renderer.Renderer,module$exports$Blockly$blockRendering$Renderer.Renderer),module$exports$Blockly$geras$Renderer.Renderer.prototype.init=function(a,b){module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.init.call(this,a,b),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},module$exports$Blockly$geras$Renderer.Renderer.prototype.refreshDom=function(a,b){module$exports$Blockly$blockRendering$Renderer.Renderer.prototype.refreshDom.call(this,a,b),this.getHighlightConstants().init()},module$exports$Blockly$geras$Renderer.Renderer.prototype.makeConstants_=function(){return new module$exports$Blockly$geras$ConstantProvider.ConstantProvider},module$exports$Blockly$geras$Renderer.Renderer.prototype.makeRenderInfo_=function(a){return new module$exports$Blockly$geras$RenderInfo.RenderInfo(this,a)},module$exports$Blockly$geras$Renderer.Renderer.prototype.makeDrawer_=function(a,b){return new module$exports$Blockly$geras$Drawer.Drawer(a,b)},module$exports$Blockly$geras$Renderer.Renderer.prototype.makePathObject=function(a,b){return new module$exports$Blockly$geras$PathObject.PathObject(a,b,this.getConstants())},module$exports$Blockly$geras$Renderer.Renderer.prototype.makeHighlightConstants_=function(){return new module$exports$Blockly$geras$HighlightConstantProvider.HighlightConstantProvider(this.getConstants())},module$exports$Blockly$geras$Renderer.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},(0,module$exports$Blockly$blockRendering.register)("geras",module$exports$Blockly$geras$Renderer.Renderer);var module$exports$Blockly$geras={};module$exports$Blockly$geras.ConstantProvider=module$exports$Blockly$geras$ConstantProvider.ConstantProvider,module$exports$Blockly$geras.Drawer=module$exports$Blockly$geras$Drawer.Drawer,module$exports$Blockly$geras.HighlightConstantProvider=module$exports$Blockly$geras$HighlightConstantProvider.HighlightConstantProvider,module$exports$Blockly$geras.Highlighter=module$exports$Blockly$geras$Highlighter.Highlighter,module$exports$Blockly$geras.InlineInput=module$exports$Blockly$geras$InlineInput_InlineInput,module$exports$Blockly$geras.PathObject=module$exports$Blockly$geras$PathObject.PathObject,module$exports$Blockly$geras.RenderInfo=module$exports$Blockly$geras$RenderInfo.RenderInfo,module$exports$Blockly$geras.Renderer=module$exports$Blockly$geras$Renderer.Renderer,module$exports$Blockly$geras.StatementInput=module$exports$Blockly$geras$StatementInput_StatementInput;var module$exports$Blockly$Themes$Zelos={};module$exports$Blockly$Themes$Zelos.Zelos=new module$exports$Blockly$Theme.Theme("zelos",{colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},{colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}});var module$exports$Blockly$Themes={};module$exports$Blockly$Themes.Classic=module$exports$Blockly$Themes$Classic.Classic,module$exports$Blockly$Themes.Zelos=module$exports$Blockly$Themes$Zelos.Zelos;var module$exports$Blockly$ShortcutItems={names:{ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},registerEscape:function(){var a={name:module$exports$Blockly$ShortcutItems.names.ESCAPE,preconditionFn:function(b){return!b.options.readOnly},callback:function(b){return b.hideChaff(),!0}};module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.register(a),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(module$exports$Blockly$utils$KeyCodes_KeyCodes.ESC,a.name)},registerDelete:function(){var a={name:module$exports$Blockly$ShortcutItems.names.DELETE,preconditionFn:function(b){var c=(0,$.module$exports$Blockly$common.getSelected)();return!b.options.readOnly&&c&&c.isDeletable()},callback:function(b,c){return c.preventDefault(),!module$exports$Blockly$Gesture.Gesture.inProgress()&&((0,$.module$exports$Blockly$common.getSelected)().checkAndDelete(),!0)}};module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.register(a),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(module$exports$Blockly$utils$KeyCodes_KeyCodes.DELETE,a.name),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(module$exports$Blockly$utils$KeyCodes_KeyCodes.BACKSPACE,a.name)},registerCopy:function(){var a={name:module$exports$Blockly$ShortcutItems.names.COPY,preconditionFn:function(c){var d=(0,$.module$exports$Blockly$common.getSelected)();return!c.options.readOnly&&!module$exports$Blockly$Gesture.Gesture.inProgress()&&d&&d.isDeletable()&&d.isMovable()},callback:function(c,d){return d.preventDefault(),c.hideChaff(),(0,module$exports$Blockly$clipboard.copy)((0,$.module$exports$Blockly$common.getSelected)()),!0}};module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.register(a);var b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.C,[module$exports$Blockly$utils$KeyCodes_KeyCodes.CTRL]);module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.C,[module$exports$Blockly$utils$KeyCodes_KeyCodes.ALT]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.C,[module$exports$Blockly$utils$KeyCodes_KeyCodes.META]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name)},registerCut:function(){var a={name:module$exports$Blockly$ShortcutItems.names.CUT,preconditionFn:function(c){var d=(0,$.module$exports$Blockly$common.getSelected)();return!c.options.readOnly&&!module$exports$Blockly$Gesture.Gesture.inProgress()&&d&&d.isDeletable()&&d.isMovable()&&!d.workspace.isFlyout},callback:function(){var c=(0,$.module$exports$Blockly$common.getSelected)();return!!c&&((0,module$exports$Blockly$clipboard.copy)(c),c.checkAndDelete(),!0)}};module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.register(a);var b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.X,[module$exports$Blockly$utils$KeyCodes_KeyCodes.CTRL]);module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.X,[module$exports$Blockly$utils$KeyCodes_KeyCodes.ALT]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.X,[module$exports$Blockly$utils$KeyCodes_KeyCodes.META]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name)},registerPaste:function(){var a={name:module$exports$Blockly$ShortcutItems.names.PASTE,preconditionFn:function(c){return!c.options.readOnly&&!module$exports$Blockly$Gesture.Gesture.inProgress()},callback:function(){return(0,module$exports$Blockly$clipboard.paste)()}};module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.register(a);var b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.V,[module$exports$Blockly$utils$KeyCodes_KeyCodes.CTRL]);module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.V,[module$exports$Blockly$utils$KeyCodes_KeyCodes.ALT]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.V,[module$exports$Blockly$utils$KeyCodes_KeyCodes.META]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name)},registerUndo:function(){var a={name:module$exports$Blockly$ShortcutItems.names.UNDO,preconditionFn:function(c){return!c.options.readOnly&&!module$exports$Blockly$Gesture.Gesture.inProgress()},callback:function(c){return c.hideChaff(),c.undo(!1),!0}};module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.register(a);var b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.Z,[module$exports$Blockly$utils$KeyCodes_KeyCodes.CTRL]);module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.Z,[module$exports$Blockly$utils$KeyCodes_KeyCodes.ALT]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.Z,[module$exports$Blockly$utils$KeyCodes_KeyCodes.META]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name)},registerRedo:function(){var a={name:module$exports$Blockly$ShortcutItems.names.REDO,preconditionFn:function(c){return!module$exports$Blockly$Gesture.Gesture.inProgress()&&!c.options.readOnly},callback:function(c){return c.hideChaff(),c.undo(!0),!0}};module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.register(a);var b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.Z,[module$exports$Blockly$utils$KeyCodes_KeyCodes.SHIFT,module$exports$Blockly$utils$KeyCodes_KeyCodes.CTRL]);module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.Z,[module$exports$Blockly$utils$KeyCodes_KeyCodes.SHIFT,module$exports$Blockly$utils$KeyCodes_KeyCodes.ALT]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.Z,[module$exports$Blockly$utils$KeyCodes_KeyCodes.SHIFT,module$exports$Blockly$utils$KeyCodes_KeyCodes.META]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name),b=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.createSerializedKey(module$exports$Blockly$utils$KeyCodes_KeyCodes.Y,[module$exports$Blockly$utils$KeyCodes_KeyCodes.CTRL]),module$exports$Blockly$ShortcutRegistry.ShortcutRegistry.registry.addKeyMapping(b,a.name)},registerDefaultShortcuts:function(){(0,module$exports$Blockly$ShortcutItems.registerEscape)(),(0,module$exports$Blockly$ShortcutItems.registerDelete)(),(0,module$exports$Blockly$ShortcutItems.registerCopy)(),(0,module$exports$Blockly$ShortcutItems.registerCut)(),(0,module$exports$Blockly$ShortcutItems.registerPaste)(),(0,module$exports$Blockly$ShortcutItems.registerUndo)(),(0,module$exports$Blockly$ShortcutItems.registerRedo)()}};(0,module$exports$Blockly$ShortcutItems.registerDefaultShortcuts)();var module$exports$Blockly$Events$FinishedLoading={FinishedLoading:function(a){module$exports$Blockly$Events$Abstract.Abstract.call(this),this.isBlank=void 0===a,this.workspaceId=a?a.id:"",this.recordUndo=!1,this.type=module$exports$Blockly$Events$utils.FINISHED_LOADING}};$.$jscomp.inherits(module$exports$Blockly$Events$FinishedLoading.FinishedLoading,module$exports$Blockly$Events$Abstract.Abstract),module$exports$Blockly$Events$FinishedLoading.FinishedLoading.prototype.toJson=function(){var a={type:this.type};return this.group&&(a.group=this.group),this.workspaceId&&(a.workspaceId=this.workspaceId),a},module$exports$Blockly$Events$FinishedLoading.FinishedLoading.prototype.fromJson=function(a){this.isBlank=!1,this.workspaceId=a.workspaceId,this.group=a.group},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.FINISHED_LOADING,module$exports$Blockly$Events$FinishedLoading.FinishedLoading);var module$exports$Blockly$Events$Ui={Ui:function(a,b,c,d){module$exports$Blockly$Events$UiBase.UiBase.call(this,a?a.workspace.id:void 0),this.blockId=a?a.id:null,this.element=void 0===b?"":b,this.oldValue=void 0===c?"":c,this.newValue=void 0===d?"":d,this.type=module$exports$Blockly$Events$utils.UI}};$.$jscomp.inherits(module$exports$Blockly$Events$Ui.Ui,module$exports$Blockly$Events$UiBase.UiBase),module$exports$Blockly$Events$Ui.Ui.prototype.toJson=function(){var a=module$exports$Blockly$Events$UiBase.UiBase.prototype.toJson.call(this);return a.element=this.element,void 0!==this.newValue&&(a.newValue=this.newValue),this.blockId&&(a.blockId=this.blockId),a},module$exports$Blockly$Events$Ui.Ui.prototype.fromJson=function(a){module$exports$Blockly$Events$UiBase.UiBase.prototype.fromJson.call(this,a),this.element=a.element,this.newValue=a.newValue,this.blockId=a.blockId},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.UI,module$exports$Blockly$Events$Ui.Ui);var module$exports$Blockly$Events$BubbleOpen={BubbleOpen:function(a,b,c){module$exports$Blockly$Events$UiBase.UiBase.call(this,a?a.workspace.id:void 0),this.blockId=a?a.id:null,this.isOpen=b,this.bubbleType=c,this.type=module$exports$Blockly$Events$utils.BUBBLE_OPEN}};$.$jscomp.inherits(module$exports$Blockly$Events$BubbleOpen.BubbleOpen,module$exports$Blockly$Events$UiBase.UiBase),module$exports$Blockly$Events$BubbleOpen.BubbleOpen.prototype.toJson=function(){var a=module$exports$Blockly$Events$UiBase.UiBase.prototype.toJson.call(this);return a.isOpen=this.isOpen,a.bubbleType=this.bubbleType,a.blockId=this.blockId,a},module$exports$Blockly$Events$BubbleOpen.BubbleOpen.prototype.fromJson=function(a){module$exports$Blockly$Events$UiBase.UiBase.prototype.fromJson.call(this,a),this.isOpen=a.isOpen,this.bubbleType=a.bubbleType,this.blockId=a.blockId},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.BUBBLE_OPEN,module$exports$Blockly$Events$BubbleOpen.BubbleOpen);var module$exports$Blockly$Events$CommentChange={CommentChange:function(a,b,c){module$exports$Blockly$Events$CommentBase.CommentBase.call(this,a),this.type=module$exports$Blockly$Events$utils.COMMENT_CHANGE,a&&(this.oldContents_=void 0===b?"":b,this.newContents_=void 0===c?"":c)}};$.$jscomp.inherits(module$exports$Blockly$Events$CommentChange.CommentChange,module$exports$Blockly$Events$CommentBase.CommentBase),module$exports$Blockly$Events$CommentChange.CommentChange.prototype.toJson=function(){var a=module$exports$Blockly$Events$CommentBase.CommentBase.prototype.toJson.call(this);return a.oldContents=this.oldContents_,a.newContents=this.newContents_,a},module$exports$Blockly$Events$CommentChange.CommentChange.prototype.fromJson=function(a){module$exports$Blockly$Events$CommentBase.CommentBase.prototype.fromJson.call(this,a),this.oldContents_=a.oldContents,this.newContents_=a.newContents},module$exports$Blockly$Events$CommentChange.CommentChange.prototype.isNull=function(){return this.oldContents_===this.newContents_},module$exports$Blockly$Events$CommentChange.CommentChange.prototype.run=function(a){var b=this.getEventWorkspace_().getCommentById(this.commentId);b?b.setContent(a?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.COMMENT_CHANGE,module$exports$Blockly$Events$CommentChange.CommentChange);var module$exports$Blockly$Events$CommentCreate={CommentCreate:function(a){module$exports$Blockly$Events$CommentBase.CommentBase.call(this,a),this.type=module$exports$Blockly$Events$utils.COMMENT_CREATE,a&&(this.xml=a.toXmlWithXY())}};$.$jscomp.inherits(module$exports$Blockly$Events$CommentCreate.CommentCreate,module$exports$Blockly$Events$CommentBase.CommentBase),module$exports$Blockly$Events$CommentCreate.CommentCreate.prototype.toJson=function(){var a=module$exports$Blockly$Events$CommentBase.CommentBase.prototype.toJson.call(this);return a.xml=(0,$.module$exports$Blockly$Xml.domToText)(this.xml),a},module$exports$Blockly$Events$CommentCreate.CommentCreate.prototype.fromJson=function(a){module$exports$Blockly$Events$CommentBase.CommentBase.prototype.fromJson.call(this,a),this.xml=(0,$.module$exports$Blockly$Xml.textToDom)(a.xml)},module$exports$Blockly$Events$CommentCreate.CommentCreate.prototype.run=function(a){module$exports$Blockly$Events$CommentBase.CommentBase.CommentCreateDeleteHelper(this,a)},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.COMMENT_CREATE,module$exports$Blockly$Events$CommentCreate.CommentCreate);var module$exports$Blockly$Events$CommentDelete={CommentDelete:function(a){module$exports$Blockly$Events$CommentBase.CommentBase.call(this,a),this.type=module$exports$Blockly$Events$utils.COMMENT_DELETE,a&&(this.xml=a.toXmlWithXY())}};$.$jscomp.inherits(module$exports$Blockly$Events$CommentDelete.CommentDelete,module$exports$Blockly$Events$CommentBase.CommentBase),module$exports$Blockly$Events$CommentDelete.CommentDelete.prototype.toJson=function(){return module$exports$Blockly$Events$CommentBase.CommentBase.prototype.toJson.call(this)},module$exports$Blockly$Events$CommentDelete.CommentDelete.prototype.fromJson=function(a){module$exports$Blockly$Events$CommentBase.CommentBase.prototype.fromJson.call(this,a)},module$exports$Blockly$Events$CommentDelete.CommentDelete.prototype.run=function(a){module$exports$Blockly$Events$CommentBase.CommentBase.CommentCreateDeleteHelper(this,!a)},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.COMMENT_DELETE,module$exports$Blockly$Events$CommentDelete.CommentDelete);var module$exports$Blockly$Events$TrashcanOpen={TrashcanOpen:function(a,b){module$exports$Blockly$Events$UiBase.UiBase.call(this,b),this.isOpen=a,this.type=module$exports$Blockly$Events$utils.TRASHCAN_OPEN}};$.$jscomp.inherits(module$exports$Blockly$Events$TrashcanOpen.TrashcanOpen,module$exports$Blockly$Events$UiBase.UiBase),module$exports$Blockly$Events$TrashcanOpen.TrashcanOpen.prototype.toJson=function(){var a=module$exports$Blockly$Events$UiBase.UiBase.prototype.toJson.call(this);return a.isOpen=this.isOpen,a},module$exports$Blockly$Events$TrashcanOpen.TrashcanOpen.prototype.fromJson=function(a){module$exports$Blockly$Events$UiBase.UiBase.prototype.fromJson.call(this,a),this.isOpen=a.isOpen},(0,module$exports$Blockly$registry.register)(module$exports$Blockly$registry.Type.EVENT,module$exports$Blockly$Events$utils.TRASHCAN_OPEN,module$exports$Blockly$Events$TrashcanOpen.TrashcanOpen),$.module$exports$Blockly$Events={},$.module$exports$Blockly$Events.Abstract=module$exports$Blockly$Events$Abstract.Abstract,$.module$exports$Blockly$Events.BubbleOpen=module$exports$Blockly$Events$BubbleOpen.BubbleOpen,$.module$exports$Blockly$Events.BlockBase=module$exports$Blockly$Events$BlockBase.BlockBase,$.module$exports$Blockly$Events.BlockChange=module$exports$Blockly$Events$BlockChange.BlockChange,$.module$exports$Blockly$Events.BlockCreate=module$exports$Blockly$Events$BlockCreate.BlockCreate,$.module$exports$Blockly$Events.BlockDelete=module$exports$Blockly$Events$BlockDelete.BlockDelete,$.module$exports$Blockly$Events.BlockDrag=module$exports$Blockly$Events$BlockDrag.BlockDrag,$.module$exports$Blockly$Events.BlockMove=module$exports$Blockly$Events$BlockMove.BlockMove,$.module$exports$Blockly$Events.Click=module$exports$Blockly$Events$Click.Click,$.module$exports$Blockly$Events.CommentBase=module$exports$Blockly$Events$CommentBase.CommentBase,$.module$exports$Blockly$Events.CommentChange=module$exports$Blockly$Events$CommentChange.CommentChange,$.module$exports$Blockly$Events.CommentCreate=module$exports$Blockly$Events$CommentCreate.CommentCreate,$.module$exports$Blockly$Events.CommentDelete=module$exports$Blockly$Events$CommentDelete.CommentDelete,$.module$exports$Blockly$Events.CommentMove=module$exports$Blockly$Events$CommentMove.CommentMove,$.module$exports$Blockly$Events.FinishedLoading=module$exports$Blockly$Events$FinishedLoading.FinishedLoading,$.module$exports$Blockly$Events.MarkerMove=module$exports$Blockly$Events$MarkerMove.MarkerMove,$.module$exports$Blockly$Events.Selected=module$exports$Blockly$Events$Selected.Selected,$.module$exports$Blockly$Events.ThemeChange=module$exports$Blockly$Events$ThemeChange.ThemeChange,$.module$exports$Blockly$Events.ToolboxItemSelect=module$exports$Blockly$Events$ToolboxItemSelect.ToolboxItemSelect,$.module$exports$Blockly$Events.TrashcanOpen=module$exports$Blockly$Events$TrashcanOpen.TrashcanOpen,$.module$exports$Blockly$Events.Ui=module$exports$Blockly$Events$Ui.Ui,$.module$exports$Blockly$Events.UiBase=module$exports$Blockly$Events$UiBase.UiBase,$.module$exports$Blockly$Events.VarBase=module$exports$Blockly$Events$VarBase.VarBase,$.module$exports$Blockly$Events.VarCreate=module$exports$Blockly$Events$VarCreate.VarCreate,$.module$exports$Blockly$Events.VarDelete=module$exports$Blockly$Events$VarDelete.VarDelete,$.module$exports$Blockly$Events.VarRename=module$exports$Blockly$Events$VarRename.VarRename,$.module$exports$Blockly$Events.ViewportChange=module$exports$Blockly$Events$ViewportChange.ViewportChange,$.module$exports$Blockly$Events.BLOCK_CHANGE=module$exports$Blockly$Events$utils.CHANGE,$.module$exports$Blockly$Events.BLOCK_CREATE=module$exports$Blockly$Events$utils.CREATE,$.module$exports$Blockly$Events.BLOCK_DELETE=module$exports$Blockly$Events$utils.DELETE,$.module$exports$Blockly$Events.BLOCK_DRAG=module$exports$Blockly$Events$utils.BLOCK_DRAG,$.module$exports$Blockly$Events.BLOCK_MOVE=module$exports$Blockly$Events$utils.MOVE,$.module$exports$Blockly$Events.BUBBLE_OPEN=module$exports$Blockly$Events$utils.BUBBLE_OPEN,$.module$exports$Blockly$Events.BumpEvent=module$exports$Blockly$Events$utils.BumpEvent,$.module$exports$Blockly$Events.BUMP_EVENTS=module$exports$Blockly$Events$utils.BUMP_EVENTS,$.module$exports$Blockly$Events.CHANGE=module$exports$Blockly$Events$utils.CHANGE,$.module$exports$Blockly$Events.CLICK=module$exports$Blockly$Events$utils.CLICK,$.module$exports$Blockly$Events.COMMENT_CHANGE=module$exports$Blockly$Events$utils.COMMENT_CHANGE,$.module$exports$Blockly$Events.COMMENT_CREATE=module$exports$Blockly$Events$utils.COMMENT_CREATE,$.module$exports$Blockly$Events.COMMENT_DELETE=module$exports$Blockly$Events$utils.COMMENT_DELETE,$.module$exports$Blockly$Events.COMMENT_MOVE=module$exports$Blockly$Events$utils.COMMENT_MOVE,$.module$exports$Blockly$Events.CREATE=module$exports$Blockly$Events$utils.CREATE,$.module$exports$Blockly$Events.DELETE=module$exports$Blockly$Events$utils.DELETE,$.module$exports$Blockly$Events.FINISHED_LOADING=module$exports$Blockly$Events$utils.FINISHED_LOADING,$.module$exports$Blockly$Events.MARKER_MOVE=module$exports$Blockly$Events$utils.MARKER_MOVE,$.module$exports$Blockly$Events.MOVE=module$exports$Blockly$Events$utils.MOVE,$.module$exports$Blockly$Events.SELECTED=module$exports$Blockly$Events$utils.SELECTED,$.module$exports$Blockly$Events.THEME_CHANGE=module$exports$Blockly$Events$utils.THEME_CHANGE,$.module$exports$Blockly$Events.TOOLBOX_ITEM_SELECT=module$exports$Blockly$Events$utils.TOOLBOX_ITEM_SELECT,$.module$exports$Blockly$Events.TRASHCAN_OPEN=module$exports$Blockly$Events$utils.TRASHCAN_OPEN,$.module$exports$Blockly$Events.UI=module$exports$Blockly$Events$utils.UI,$.module$exports$Blockly$Events.VAR_CREATE=module$exports$Blockly$Events$utils.VAR_CREATE,$.module$exports$Blockly$Events.VAR_DELETE=module$exports$Blockly$Events$utils.VAR_DELETE,$.module$exports$Blockly$Events.VAR_RENAME=module$exports$Blockly$Events$utils.VAR_RENAME,$.module$exports$Blockly$Events.VIEWPORT_CHANGE=module$exports$Blockly$Events$utils.VIEWPORT_CHANGE,$.module$exports$Blockly$Events.clearPendingUndo=module$exports$Blockly$Events$utils.clearPendingUndo,$.module$exports$Blockly$Events.disable=module$exports$Blockly$Events$utils.disable,$.module$exports$Blockly$Events.enable=module$exports$Blockly$Events$utils.enable,$.module$exports$Blockly$Events.filter=module$exports$Blockly$Events$utils.filter,$.module$exports$Blockly$Events.fire=module$exports$Blockly$Events$utils.fire,$.module$exports$Blockly$Events.fromJson=module$exports$Blockly$Events$utils.fromJson,$.module$exports$Blockly$Events.getDescendantIds=module$exports$Blockly$Events$utils.getDescendantIds,$.module$exports$Blockly$Events.get=module$exports$Blockly$Events$utils.get,$.module$exports$Blockly$Events.getGroup=module$exports$Blockly$Events$utils.getGroup,$.module$exports$Blockly$Events.getRecordUndo=module$exports$Blockly$Events$utils.getRecordUndo,$.module$exports$Blockly$Events.isEnabled=module$exports$Blockly$Events$utils.isEnabled,$.module$exports$Blockly$Events.setGroup=module$exports$Blockly$Events$utils.setGroup,$.module$exports$Blockly$Events.setRecordUndo=module$exports$Blockly$Events$utils.setRecordUndo,$.module$exports$Blockly$Events.disableOrphans=module$exports$Blockly$Events$utils.disableOrphans,Object.defineProperties($.module$exports$Blockly$Events,{recordUndo:{get:function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.getRecordUndo()"),(0,module$exports$Blockly$Events$utils.getRecordUndo)()},set:function(a){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.setRecordUndo()"),(0,module$exports$Blockly$Events$utils.setRecordUndo)(a)}}});var module$exports$Blockly$ContextMenuItems={registerUndo:function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(){return $.module$exports$Blockly$Msg.Msg.UNDO},preconditionFn:function(a){return 0<a.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(a){a.workspace.undo(!1)},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},registerRedo:function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(){return $.module$exports$Blockly$Msg.Msg.REDO},preconditionFn:function(a){return 0<a.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(a){a.workspace.undo(!0)},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},registerCleanup:function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(){return $.module$exports$Blockly$Msg.Msg.CLEAN_UP},preconditionFn:function(a){return a.workspace.isMovable()?1<a.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(a){a.workspace.cleanUp()},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})}},module$contents$Blockly$ContextMenuItems_toggleOption_=function(a,b){var c=0,d=0,e=function(h){d--,h.setCollapsed(a),0===d&&(0,$.module$exports$Blockly$Events.setGroup)(!1)};(0,$.module$exports$Blockly$Events.setGroup)(!0);for(var f=0;f<b.length;f++)for(var g=b[f];g;)d++,setTimeout(e.bind(null,g),c),g=g.getNextBlock(),c+=10};module$exports$Blockly$ContextMenuItems.registerCollapse=function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(){return $.module$exports$Blockly$Msg.Msg.COLLAPSE_ALL},preconditionFn:function(a){if(a.workspace.options.collapse){a=a.workspace.getTopBlocks(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(!c.isCollapsed())return"enabled";c=c.getNextBlock()}return"disabled"}return"hidden"},callback:function(a){module$contents$Blockly$ContextMenuItems_toggleOption_(!0,a.workspace.getTopBlocks(!0))},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},module$exports$Blockly$ContextMenuItems.registerExpand=function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(){return $.module$exports$Blockly$Msg.Msg.EXPAND_ALL},preconditionFn:function(a){if(a.workspace.options.collapse){a=a.workspace.getTopBlocks(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(c.isCollapsed())return"enabled";c=c.getNextBlock()}return"disabled"}return"hidden"},callback:function(a){module$contents$Blockly$ContextMenuItems_toggleOption_(!1,a.workspace.getTopBlocks(!0))},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})};var module$contents$Blockly$ContextMenuItems_addDeletableBlocks_=function(a,b){if(a.isDeletable())Array.prototype.push.apply(b,a.getDescendants(!1));else{a=a.getChildren(!1);for(var c=0;c<a.length;c++)module$contents$Blockly$ContextMenuItems_addDeletableBlocks_(a[c],b)}},module$contents$Blockly$ContextMenuItems_getDeletableBlocks_=function(a){var b=[];a=a.getTopBlocks(!0);for(var c=0;c<a.length;c++)module$contents$Blockly$ContextMenuItems_addDeletableBlocks_(a[c],b);return b},module$contents$Blockly$ContextMenuItems_deleteNext_=function(a,b){(0,module$exports$Blockly$Events$utils.setGroup)(b);var c=a.shift();c&&(c.workspace?(c.dispose(!1,!0),setTimeout(module$contents$Blockly$ContextMenuItems_deleteNext_,10,a,b)):module$contents$Blockly$ContextMenuItems_deleteNext_(a,b)),(0,module$exports$Blockly$Events$utils.setGroup)(!1)};module$exports$Blockly$ContextMenuItems.registerDeleteAll=function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(a){if(a.workspace)return 1===(a=module$contents$Blockly$ContextMenuItems_getDeletableBlocks_(a.workspace).length)?$.module$exports$Blockly$Msg.Msg.DELETE_BLOCK:$.module$exports$Blockly$Msg.Msg.DELETE_X_BLOCKS.replace("%1",String(a))},preconditionFn:function(a){if(a.workspace)return 0<module$contents$Blockly$ContextMenuItems_getDeletableBlocks_(a.workspace).length?"enabled":"disabled"},callback:function(a){if(a.workspace){a.workspace.cancelCurrentGesture();var b=module$contents$Blockly$ContextMenuItems_getDeletableBlocks_(a.workspace),c=(0,module$exports$Blockly$utils$idGenerator.genUid)();2>b.length?module$contents$Blockly$ContextMenuItems_deleteNext_(b,c):(0,module$exports$Blockly$dialog.confirm)($.module$exports$Blockly$Msg.Msg.DELETE_ALL_BLOCKS.replace("%1",String(b.length)),(function(d){d&&module$contents$Blockly$ContextMenuItems_deleteNext_(b,c)}))}},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},module$exports$Blockly$ContextMenuItems.registerDuplicate=function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(){return $.module$exports$Blockly$Msg.Msg.DUPLICATE_BLOCK},preconditionFn:function(a){return!(a=a.block).isInFlyout&&a.isDeletable()&&a.isMovable()?a.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(a){a.block&&(0,module$exports$Blockly$clipboard.duplicate)(a.block)},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},module$exports$Blockly$ContextMenuItems.registerComment=function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(a){return a.block.getCommentIcon()?$.module$exports$Blockly$Msg.Msg.REMOVE_COMMENT:$.module$exports$Blockly$Msg.Msg.ADD_COMMENT},preconditionFn:function(a){return a=a.block,module$exports$Blockly$utils$userAgent.IE||a.isInFlyout||!a.workspace.options.comments||a.isCollapsed()||!a.isEditable()?"hidden":"enabled"},callback:function(a){(a=a.block).getCommentIcon()?a.setCommentText(null):a.setCommentText("")},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},module$exports$Blockly$ContextMenuItems.registerInline=function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(a){return a.block.getInputsInline()?$.module$exports$Blockly$Msg.Msg.EXTERNAL_INPUTS:$.module$exports$Blockly$Msg.Msg.INLINE_INPUTS},preconditionFn:function(a){if(!(a=a.block).isInFlyout&&a.isMovable()&&!a.isCollapsed())for(var b=1;b<a.inputList.length;b++)if(a.inputList[b-1].type!==$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&a.inputList[b].type!==$.module$exports$Blockly$inputTypes.inputTypes.STATEMENT)return"enabled";return"hidden"},callback:function(a){a.block.setInputsInline(!a.block.getInputsInline())},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},module$exports$Blockly$ContextMenuItems.registerCollapseExpandBlock=function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(a){return a.block.isCollapsed()?$.module$exports$Blockly$Msg.Msg.EXPAND_BLOCK:$.module$exports$Blockly$Msg.Msg.COLLAPSE_BLOCK},preconditionFn:function(a){return!(a=a.block).isInFlyout&&a.isMovable()&&a.workspace.options.collapse?"enabled":"hidden"},callback:function(a){a.block.setCollapsed(!a.block.isCollapsed())},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},module$exports$Blockly$ContextMenuItems.registerDisable=function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(a){return a.block.isEnabled()?$.module$exports$Blockly$Msg.Msg.DISABLE_BLOCK:$.module$exports$Blockly$Msg.Msg.ENABLE_BLOCK},preconditionFn:function(a){return!(a=a.block).isInFlyout&&a.workspace.options.disable&&a.isEditable()?a.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(a){a=a.block;var b=(0,module$exports$Blockly$Events$utils.getGroup)();b||(0,module$exports$Blockly$Events$utils.setGroup)(!0),a.setEnabled(!a.isEnabled()),b||(0,module$exports$Blockly$Events$utils.setGroup)(!1)},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},module$exports$Blockly$ContextMenuItems.registerDelete=function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(a){var b=a.block;return a=b.getDescendants(!1).length,(b=b.getNextBlock())&&(a-=b.getDescendants(!1).length),1===a?$.module$exports$Blockly$Msg.Msg.DELETE_BLOCK:$.module$exports$Blockly$Msg.Msg.DELETE_X_BLOCKS.replace("%1",String(a))},preconditionFn:function(a){return!a.block.isInFlyout&&a.block.isDeletable()?"enabled":"hidden"},callback:function(a){a.block&&a.block.checkAndDelete()},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},module$exports$Blockly$ContextMenuItems.registerHelp=function(){module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.registry.register({displayText:function(){return $.module$exports$Blockly$Msg.Msg.HELP},preconditionFn:function(a){return("function"==typeof(a=a.block).helpUrl?a.helpUrl():a.helpUrl)?"enabled":"hidden"},callback:function(a){a.block.showHelp()},scopeType:module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})},module$exports$Blockly$ContextMenuItems.registerDefaultOptions=function(){(0,module$exports$Blockly$ContextMenuItems.registerUndo)(),(0,module$exports$Blockly$ContextMenuItems.registerRedo)(),(0,module$exports$Blockly$ContextMenuItems.registerCleanup)(),(0,module$exports$Blockly$ContextMenuItems.registerCollapse)(),(0,module$exports$Blockly$ContextMenuItems.registerExpand)(),(0,module$exports$Blockly$ContextMenuItems.registerDeleteAll)(),(0,module$exports$Blockly$ContextMenuItems.registerDuplicate)(),(0,module$exports$Blockly$ContextMenuItems.registerComment)(),(0,module$exports$Blockly$ContextMenuItems.registerInline)(),(0,module$exports$Blockly$ContextMenuItems.registerCollapseExpandBlock)(),(0,module$exports$Blockly$ContextMenuItems.registerDisable)(),(0,module$exports$Blockly$ContextMenuItems.registerDelete)(),(0,module$exports$Blockly$ContextMenuItems.registerHelp)()},(0,module$exports$Blockly$ContextMenuItems.registerDefaultOptions)();var module$exports$Blockly$Icon={Icon:function(a){this.block_=a,this.iconGroup_=null,this.collapseHidden=!0,this.SIZE=17,this.iconXY_=this.bubble_=null}};module$exports$Blockly$Icon.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&(0,module$exports$Blockly$utils$dom.addClass)(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),(0,module$exports$Blockly$browserEvents.conditionalBind)(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},module$exports$Blockly$Icon.Icon.prototype.dispose=function(){(0,module$exports$Blockly$utils$dom.removeNode)(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},module$exports$Blockly$Icon.Icon.prototype.updateEditable=function(){},module$exports$Blockly$Icon.Icon.prototype.isVisible=function(){return!!this.bubble_},module$exports$Blockly$Icon.Icon.prototype.iconClick_=function(a){this.block_.workspace.isDragging()||this.block_.isInFlyout||(0,module$exports$Blockly$browserEvents.isRightButton)(a)||this.setVisible(!this.isVisible())},module$exports$Blockly$Icon.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},module$exports$Blockly$Icon.Icon.prototype.setIconLocation=function(a){this.iconXY_=a,this.isVisible()&&this.bubble_.setAnchorLocation(a)},module$exports$Blockly$Icon.Icon.prototype.computeIconLocation=function(){var a=this.block_.getRelativeToSurfaceXY(),b=(0,module$exports$Blockly$utils$svgMath.getRelativeXY)(this.iconGroup_);a=new module$exports$Blockly$utils$Coordinate.Coordinate(a.x+b.x+this.SIZE/2,a.y+b.y+this.SIZE/2),module$exports$Blockly$utils$Coordinate.Coordinate.equals(this.getIconLocation(),a)||this.setIconLocation(a)},module$exports$Blockly$Icon.Icon.prototype.getIconLocation=function(){return this.iconXY_},module$exports$Blockly$Icon.Icon.prototype.getCorrectedSize=function(){return new module$exports$Blockly$utils$Size.Size(this.SIZE,this.SIZE-2)},module$exports$Blockly$Icon.Icon.prototype.drawIcon_=function(a){},module$exports$Blockly$Icon.Icon.prototype.setVisible=function(a){},$.module$exports$Blockly$Mutator={Mutator:function(a){module$exports$Blockly$Icon.Icon.call(this,null),this.quarkNames_=a,this.workspace_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_=this.rootBlock_=this.svgDialog_=null}},$.$jscomp.inherits($.module$exports$Blockly$Mutator.Mutator,module$exports$Blockly$Icon.Icon),$.module$exports$Blockly$Mutator.Mutator.prototype.setBlock=function(a){this.block_=a},$.module$exports$Blockly$Mutator.Mutator.prototype.getWorkspace=function(){return this.workspace_},$.module$exports$Blockly$Mutator.Mutator.prototype.drawIcon_=function(a){(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)},$.module$exports$Blockly$Mutator.Mutator.prototype.iconClick_=function(a){this.block_.isEditable()&&module$exports$Blockly$Icon.Icon.prototype.iconClick_.call(this,a)},$.module$exports$Blockly$Mutator.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.SVG,{x:module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH,y:module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var c,a=(0,$.module$exports$Blockly$utils$xml.createElement)("xml"),b=0;c=this.quarkNames_[b];b++){var d=(0,$.module$exports$Blockly$utils$xml.createElement)("block");d.setAttribute("type",c),a.appendChild(d)}else a=null;return(b=new module$exports$Blockly$Options.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides})).toolboxPosition=this.block_.RTL?module$exports$Blockly$utils$toolbox.Position.RIGHT:module$exports$Blockly$utils$toolbox.Position.LEFT,(c=!!a)&&(b.languageTree=(0,module$exports$Blockly$utils$toolbox.convertToolboxDefToJson)(a)),this.workspace_=new module$exports$Blockly$WorkspaceSvg.WorkspaceSvg(b),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(module$exports$Blockly$Events$utils.disableOrphans),a=c?this.workspace_.addFlyout(module$exports$Blockly$utils$Svg.Svg.G):null,b=this.workspace_.createDom("blocklyMutatorBackground"),a&&b.insertBefore(a,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(b),this.svgDialog_},$.module$exports$Blockly$Mutator.Mutator.prototype.updateEditable=function(){module$exports$Blockly$Icon.Icon.prototype.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&(0,module$exports$Blockly$utils$dom.removeClass)(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&(0,module$exports$Blockly$utils$dom.addClass)(this.iconGroup_,"blocklyIconGroupReadonly")))},$.module$exports$Blockly$Mutator.Mutator.prototype.resizeBubble_=function(){var a=2*module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH,b=this.workspace_.getCanvas().getBBox(),c=b.width+b.x,d=b.height+3*a,e=this.workspace_.getFlyout();if(e){var f=e.getWorkspace().getMetricsManager().getScrollMetrics();d=Math.max(d,f.height+20),c+=e.getWidth()}this.block_.RTL&&(c=-b.x),c+=3*a,(Math.abs(this.workspaceWidth_-c)>a||Math.abs(this.workspaceHeight_-d)>a)&&(this.workspaceWidth_=c,this.workspaceHeight_=d,this.bubble_.setBubbleSize(c+a,d+a),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(a="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",a)),this.workspace_.resize()},$.module$exports$Blockly$Mutator.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDragTargets()},$.module$exports$Blockly$Mutator.Mutator.prototype.setVisible=function(a){var b=this;if(a!==this.isVisible())if((0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.BUBBLE_OPEN))(this.block_,a,"mutator")),a){this.bubble_=new module$exports$Blockly$Bubble.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var c=this.workspace_.options.languageTree;a=this.workspace_.getFlyout(),c&&(a.init(this.workspace_),a.show(c)),this.rootBlock_=this.block_.decompose(this.workspace_),c=this.rootBlock_.getDescendants(!1);for(var d=0,e=void 0;e=c[d];d++)e.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),a?(c=2*a.CORNER_RADIUS,a=this.rootBlock_.RTL?a.getWidth()+c:c):a=c=16,this.block_.RTL&&(a=-a),this.rootBlock_.moveBy(a,c),this.block_.saveConnections){var f=this.rootBlock_;this.block_.saveConnections(f),this.sourceListener_=function(){b.block_&&b.block_.saveConnections(f)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.updateWorkspace_(),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},$.module$exports$Blockly$Mutator.Mutator.prototype.workspaceChanged_=function(a){a.isUiEvent||a.type===module$exports$Blockly$Events$utils.CHANGE&&"disabled"===a.element||a.type===module$exports$Blockly$Events$utils.CREATE||this.updateWorkspace_()},$.module$exports$Blockly$Mutator.Mutator.prototype.updateWorkspace_=function(){if(!this.workspace_.isDragging())for(var a=this.workspace_.getTopBlocks(!1),b=0,c=void 0;c=a[b];b++){var d=c.getRelativeToSurfaceXY();if(20>d.y&&c.moveBy(0,20-d.y),c.RTL){var e=-20,f=this.workspace_.getFlyout();f&&(e-=f.getWidth()),d.x>e&&c.moveBy(e-d.x,0)}else 20>d.x&&c.moveBy(20-d.x,0)}if(this.rootBlock_.workspace===this.workspace_){(a=(0,module$exports$Blockly$Events$utils.getGroup)())||(0,module$exports$Blockly$Events$utils.setGroup)(!0);var g=this.block_;if(b=module$exports$Blockly$Events$BlockChange.BlockChange.getExtraBlockState_(g),c=g.rendered,g.rendered=!1,g.compose(this.rootBlock_),g.rendered=c,g.initSvg(),g.rendered&&g.render(),b!==(c=module$exports$Blockly$Events$BlockChange.BlockChange.getExtraBlockState_(g))){(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CHANGE))(g,"mutation",null,b,c));var h=(0,module$exports$Blockly$Events$utils.getGroup)();setTimeout((function(){var k=(0,module$exports$Blockly$Events$utils.getGroup)();(0,module$exports$Blockly$Events$utils.setGroup)(h),g.bumpNeighbours(),(0,module$exports$Blockly$Events$utils.setGroup)(k)}),$.module$exports$Blockly$config.config.bumpDelay)}this.workspace_.isDragging()||this.resizeBubble_(),(0,module$exports$Blockly$Events$utils.setGroup)(a)}},$.module$exports$Blockly$Mutator.Mutator.prototype.dispose=function(){this.block_.mutator=null,module$exports$Blockly$Icon.Icon.prototype.dispose.call(this)},$.module$exports$Blockly$Mutator.Mutator.prototype.updateBlockStyle=function(){var a=this.workspace_;if(a&&a.getAllBlocks(!1)){for(var d,b=a.getAllBlocks(!1),c=0;d=b[c];c++)d.setStyle(d.getStyleName());if(a=a.getFlyout())for(a=a.workspace_.getAllBlocks(!1),b=0;c=a[b];b++)c.setStyle(c.getStyleName())}},$.module$exports$Blockly$Mutator.Mutator.reconnect=function(a,b,c){if(!a||!a.getSourceBlock().workspace)return!1;c=b.getInput(c).connection;var d=a.targetBlock();return!(d&&d!==b||c.targetConnection===a||(c.isConnected()&&c.disconnect(),c.connect(a),0))},$.module$exports$Blockly$Mutator.Mutator.findParentWs=function(a){var b=null;if(a&&a.options){var c=a.options.parentWorkspace;a.isFlyout?c&&c.options&&(b=c.options.parentWorkspace):c&&(b=c)}return b};var module$exports$Blockly$Warning={Warning:function(a){module$exports$Blockly$Icon.Icon.call(this,a),this.createIcon(),this.text_=Object.create(null),this.paragraphElement_=null,this.collapseHidden=!1}};$.$jscomp.inherits(module$exports$Blockly$Warning.Warning,module$exports$Blockly$Icon.Icon),module$exports$Blockly$Warning.Warning.prototype.drawIcon_=function(a){(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)},module$exports$Blockly$Warning.Warning.prototype.setVisible=function(a){a!==this.isVisible()&&((0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.BUBBLE_OPEN))(this.block_,a,"warning")),a?this.createBubble_():this.disposeBubble_())},module$exports$Blockly$Warning.Warning.prototype.createBubble_=function(){this.paragraphElement_=module$exports$Blockly$Bubble.Bubble.textToDom(this.getText()),this.bubble_=module$exports$Blockly$Bubble.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},module$exports$Blockly$Warning.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},module$exports$Blockly$Warning.Warning.prototype.setText=function(a,b){this.text_[b]!==a&&(a?this.text_[b]=a:delete this.text_[b],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},module$exports$Blockly$Warning.Warning.prototype.getText=function(){var b,a=[];for(b in this.text_)a.push(this.text_[b]);return a.join("\n")},module$exports$Blockly$Warning.Warning.prototype.dispose=function(){this.block_.warning=null,module$exports$Blockly$Icon.Icon.prototype.dispose.call(this)};var module$exports$Blockly$Comment={Comment:function(a){module$exports$Blockly$Icon.Icon.call(this,a),this.model_=a.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.paragraphElement_=this.textarea_=this.foreignObject_=this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()}};$.$jscomp.inherits(module$exports$Blockly$Comment.Comment,module$exports$Blockly$Icon.Icon),module$exports$Blockly$Comment.Comment.prototype.drawIcon_=function(a){(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)},module$exports$Blockly$Comment.Comment.prototype.createEditor_=function(){this.foreignObject_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FOREIGNOBJECT,{x:module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH,y:module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH},null);var a=document.createElementNS(module$exports$Blockly$utils$dom.HTML_NS,"body");a.setAttribute("xmlns",module$exports$Blockly$utils$dom.HTML_NS),a.className="blocklyMinimalBody";var b=this.textarea_=document.createElementNS(module$exports$Blockly$utils$dom.HTML_NS,"textarea");return b.className="blocklyCommentTextarea",b.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),b.value=this.model_.text,this.resizeTextarea_(),a.appendChild(b),this.foreignObject_.appendChild(a),this.onMouseUpWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"wheel",this,(function(c){c.stopPropagation()})),this.onChangeWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"change",this,(function(c){this.cachedText_!==this.model_.text&&(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))})),this.onInputWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"input",this,(function(c){this.model_.text=b.value})),setTimeout(b.focus.bind(b),0),this.foreignObject_},module$exports$Blockly$Comment.Comment.prototype.updateEditable=function(){module$exports$Blockly$Icon.Icon.prototype.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},module$exports$Blockly$Comment.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},module$exports$Blockly$Comment.Comment.prototype.resizeTextarea_=function(){var a=this.model_.size,b=2*module$exports$Blockly$Bubble.Bubble.BORDER_WIDTH,c=a.width-b;a=a.height-b,this.foreignObject_.setAttribute("width",c),this.foreignObject_.setAttribute("height",a),this.textarea_.style.width=c-4+"px",this.textarea_.style.height=a-4+"px"},module$exports$Blockly$Comment.Comment.prototype.setVisible=function(a){a!==this.isVisible()&&((0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.BUBBLE_OPEN))(this.block_,a,"comment")),(this.model_.pinned=a)?this.createBubble_():this.disposeBubble_())},module$exports$Blockly$Comment.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||module$exports$Blockly$utils$userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},module$exports$Blockly$Comment.Comment.prototype.createEditableBubble_=function(){this.bubble_=new module$exports$Blockly$Bubble.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},module$exports$Blockly$Comment.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=module$exports$Blockly$Bubble.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=module$exports$Blockly$Bubble.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},module$exports$Blockly$Comment.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},module$exports$Blockly$Comment.Comment.prototype.startEdit_=function(a){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},module$exports$Blockly$Comment.Comment.prototype.getBubbleSize=function(){return this.model_.size},module$exports$Blockly$Comment.Comment.prototype.setBubbleSize=function(a,b){this.bubble_?this.bubble_.setBubbleSize(a,b):(this.model_.size.width=a,this.model_.size.height=b)},module$exports$Blockly$Comment.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},module$exports$Blockly$Comment.Comment.prototype.dispose=function(){this.block_.comment=null,module$exports$Blockly$Icon.Icon.prototype.dispose.call(this)},(0,module$exports$Blockly$Css.register)("\n.blocklyCommentTextarea {\n  background-color: #fef49c;\n  border: 0;\n  display: block;\n  margin: 0;\n  outline: 0;\n  padding: 3px;\n  resize: none;\n  text-overflow: hidden;\n}\n");var module$exports$Blockly$sprite_SPRITE={width:96,height:124,url:"sprites.png"},module$exports$Blockly$uiPosition={verticalPosition:{TOP:0,BOTTOM:1},horizontalPosition:{LEFT:0,RIGHT:1},bumpDirection:{UP:0,DOWN:1},getStartPositionRect:function(a,b,c,d,e,f){var g=f.scrollbar&&f.scrollbar.canScrollVertically();return a.horizontal===module$exports$Blockly$uiPosition.horizontalPosition.LEFT?(c=e.absoluteMetrics.left+c,g&&f.RTL&&(c+=module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness)):(c=e.absoluteMetrics.left+e.viewMetrics.width-b.width-c,g&&!f.RTL&&(c-=module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness)),a.vertical===module$exports$Blockly$uiPosition.verticalPosition.TOP?a=e.absoluteMetrics.top+d:(a=e.absoluteMetrics.top+e.viewMetrics.height-b.height-d,f.scrollbar&&f.scrollbar.canScrollHorizontally()&&(a-=module$exports$Blockly$Scrollbar.Scrollbar.scrollbarThickness)),new module$exports$Blockly$utils$Rect.Rect(a,a+b.height,c,c+b.width)},getCornerOppositeToolbox:function(a,b){return{horizontal:b.toolboxMetrics.position===module$exports$Blockly$utils$toolbox.Position.LEFT||a.horizontalLayout&&!a.RTL?module$exports$Blockly$uiPosition.horizontalPosition.RIGHT:module$exports$Blockly$uiPosition.horizontalPosition.LEFT,vertical:b.toolboxMetrics.position===module$exports$Blockly$utils$toolbox.Position.BOTTOM?module$exports$Blockly$uiPosition.verticalPosition.TOP:module$exports$Blockly$uiPosition.verticalPosition.BOTTOM}},bumpPositionRect:function(a,b,c,d){for(var e=a.left,f=a.right-a.left,g=a.bottom-a.top,h=0;h<d.length;h++){var k=d[h];a.intersects(k)&&(a=c===module$exports$Blockly$uiPosition.bumpDirection.UP?k.top-g-b:k.bottom+b,a=new module$exports$Blockly$utils$Rect.Rect(a,a+g,e,e+f),h=-1)}return a}},module$exports$Blockly$ZoomControls={ZoomControls:function(a){this.workspace_=a,this.id="zoomControls",this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null,this.HEIGHT_=this.WIDTH_=32,this.SMALL_SPACING_=2,this.LARGE_SPACING_=11,this.MARGIN_HORIZONTAL_=this.MARGIN_VERTICAL_=20,this.svgGroup_=null,this.top_=this.left_=0,this.initialized_=!1}};module$exports$Blockly$ZoomControls.ZoomControls.prototype.createDom=function(){this.svgGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{},null);var a=String(Math.random()).substring(2);return this.createZoomOutSvg_(a),this.createZoomInSvg_(a),this.workspace_.isMovable()&&this.createZoomResetSvg_(a),this.svgGroup_},module$exports$Blockly$ZoomControls.ZoomControls.prototype.init=function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[module$exports$Blockly$ComponentManager.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0},module$exports$Blockly$ZoomControls.ZoomControls.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("zoomControls"),this.svgGroup_&&(0,module$exports$Blockly$utils$dom.removeNode)(this.svgGroup_),this.onZoomResetWrapper_&&(0,module$exports$Blockly$browserEvents.unbind)(this.onZoomResetWrapper_),this.onZoomInWrapper_&&(0,module$exports$Blockly$browserEvents.unbind)(this.onZoomInWrapper_),this.onZoomOutWrapper_&&(0,module$exports$Blockly$browserEvents.unbind)(this.onZoomOutWrapper_)},module$exports$Blockly$ZoomControls.ZoomControls.prototype.getBoundingRectangle=function(){var a=this.SMALL_SPACING_+2*this.HEIGHT_;return this.zoomResetGroup_&&(a+=this.LARGE_SPACING_+this.HEIGHT_),new module$exports$Blockly$utils$Rect.Rect(this.top_,this.top_+a,this.left_,this.left_+this.WIDTH_)},module$exports$Blockly$ZoomControls.ZoomControls.prototype.position=function(a,b){if(this.initialized_){var c=(0,module$exports$Blockly$uiPosition.getCornerOppositeToolbox)(this.workspace_,a),d=this.SMALL_SPACING_+2*this.HEIGHT_;this.zoomResetGroup_&&(d+=this.LARGE_SPACING_+this.HEIGHT_),a=(0,module$exports$Blockly$uiPosition.getStartPositionRect)(c,new module$exports$Blockly$utils$Size.Size(this.WIDTH_,d),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,a,this.workspace_),c=c.vertical,b=(0,module$exports$Blockly$uiPosition.bumpPositionRect)(a,this.MARGIN_VERTICAL_,c===module$exports$Blockly$uiPosition.verticalPosition.TOP?module$exports$Blockly$uiPosition.bumpDirection.DOWN:module$exports$Blockly$uiPosition.bumpDirection.UP,b),c===module$exports$Blockly$uiPosition.verticalPosition.TOP?(c=this.SMALL_SPACING_+this.HEIGHT_,this.zoomInGroup_.setAttribute("transform","translate(0, "+c+")"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, "+(c+this.LARGE_SPACING_+this.HEIGHT_)+")")):(c=this.zoomResetGroup_?this.LARGE_SPACING_+this.HEIGHT_:0,this.zoomInGroup_.setAttribute("transform","translate(0, "+c+")"),this.zoomOutGroup_.setAttribute("transform","translate(0, "+(c+this.SMALL_SPACING_+this.HEIGHT_)+")")),this.top_=b.top,this.left_=b.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},module$exports$Blockly$ZoomControls.ZoomControls.prototype.createZoomOutSvg_=function(a){this.zoomOutGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+a},this.zoomOutGroup_);(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{width:32,height:32},b),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.IMAGE,{width:module$exports$Blockly$sprite_SPRITE.width,height:module$exports$Blockly$sprite_SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+a+")"},this.zoomOutGroup_).setAttributeNS(module$exports$Blockly$utils$dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+module$exports$Blockly$sprite_SPRITE.url),this.onZoomOutWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},module$exports$Blockly$ZoomControls.ZoomControls.prototype.createZoomInSvg_=function(a){this.zoomInGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+a},this.zoomInGroup_);(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{width:32,height:32},b),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.IMAGE,{width:module$exports$Blockly$sprite_SPRITE.width,height:module$exports$Blockly$sprite_SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+a+")"},this.zoomInGroup_).setAttributeNS(module$exports$Blockly$utils$dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+module$exports$Blockly$sprite_SPRITE.url),this.onZoomInWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},module$exports$Blockly$ZoomControls.ZoomControls.prototype.zoom_=function(a,b){this.workspace_.markFocused(),this.workspace_.zoomCenter(a),this.fireZoomEvent_(),(0,module$exports$Blockly$Touch.clearTouchIdentifier)(),b.stopPropagation(),b.preventDefault()},module$exports$Blockly$ZoomControls.ZoomControls.prototype.createZoomResetSvg_=function(a){this.zoomResetGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+a},this.zoomResetGroup_);(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{width:32,height:32},b),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.IMAGE,{width:module$exports$Blockly$sprite_SPRITE.width,height:module$exports$Blockly$sprite_SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+a+")"},this.zoomResetGroup_).setAttributeNS(module$exports$Blockly$utils$dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+module$exports$Blockly$sprite_SPRITE.url),this.onZoomResetWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},module$exports$Blockly$ZoomControls.ZoomControls.prototype.resetZoom_=function(a){this.workspace_.markFocused();var b=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(b),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),(0,module$exports$Blockly$Touch.clearTouchIdentifier)(),a.stopPropagation(),a.preventDefault()},module$exports$Blockly$ZoomControls.ZoomControls.prototype.fireZoomEvent_=function(){var a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CLICK))(null,this.workspace_.id,"zoom_controls");(0,module$exports$Blockly$Events$utils.fire)(a)},(0,module$exports$Blockly$Css.register)("\n.blocklyZoom>image, .blocklyZoom>svg>image {\n  opacity: .4;\n}\n\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\n  opacity: .6;\n}\n\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\n  opacity: .8;\n}\n");var module$exports$Blockly$WorkspaceComment={WorkspaceComment:function(a,b,c,d,e){this.id=e&&!a.getCommentById(e)?e:(0,module$exports$Blockly$utils$idGenerator.genUid)(),a.addTopComment(this),this.xy_=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0),this.height_=c,this.width_=d,this.workspace=a,this.RTL=a.RTL,this.editable_=this.movable_=this.deletable_=!0,this.content_=b,this.disposed_=!1,this.isComment=!0,module$exports$Blockly$WorkspaceComment.WorkspaceComment.fireCreateEvent(this)}};module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.dispose=function(){this.disposed_||((0,module$exports$Blockly$Events$utils.isEnabled)()&&(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.COMMENT_DELETE))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.getHeight=function(){return this.height_},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.setHeight=function(a){this.height_=a},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.getWidth=function(){return this.width_},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.setWidth=function(a){this.width_=a},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.getXY=function(){return new module$exports$Blockly$utils$Coordinate.Coordinate(this.xy_.x,this.xy_.y)},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.moveBy=function(a,b){var c=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.COMMENT_MOVE))(this);this.xy_.translate(a,b),c.recordNew(),(0,module$exports$Blockly$Events$utils.fire)(c)},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.isDeletable=function(){return this.deletable_&&!(this.workspace&&this.workspace.options.readOnly)},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.setDeletable=function(a){this.deletable_=a},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.isMovable=function(){return this.movable_&&!(this.workspace&&this.workspace.options.readOnly)},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.setMovable=function(a){this.movable_=a},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.setEditable=function(a){this.editable_=a},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.getContent=function(){return this.content_},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.setContent=function(a){this.content_!==a&&((0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.COMMENT_CHANGE))(this,this.content_,a)),this.content_=a)},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.toXmlWithXY=function(a){return(a=this.toXml(a)).setAttribute("x",Math.round(this.xy_.x)),a.setAttribute("y",Math.round(this.xy_.y)),a.setAttribute("h",this.height_),a.setAttribute("w",this.width_),a},module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.toXml=function(a){var b=(0,$.module$exports$Blockly$utils$xml.createElement)("comment");return a||(b.id=this.id),b.textContent=this.getContent(),b},module$exports$Blockly$WorkspaceComment.WorkspaceComment.fireCreateEvent=function(a){if((0,module$exports$Blockly$Events$utils.isEnabled)()){var b=(0,module$exports$Blockly$Events$utils.getGroup)();b||(0,module$exports$Blockly$Events$utils.setGroup)(!0);try{(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.COMMENT_CREATE))(a))}finally{b||(0,module$exports$Blockly$Events$utils.setGroup)(!1)}}},module$exports$Blockly$WorkspaceComment.WorkspaceComment.fromXml=function(a,b){var c=module$exports$Blockly$WorkspaceComment.WorkspaceComment.parseAttributes(a);return b=new module$exports$Blockly$WorkspaceComment.WorkspaceComment(b,c.content,c.h,c.w,c.id),c=parseInt(a.getAttribute("x"),10),a=parseInt(a.getAttribute("y"),10),isNaN(c)||isNaN(a)||b.moveBy(c,a),module$exports$Blockly$WorkspaceComment.WorkspaceComment.fireCreateEvent(b),b},module$exports$Blockly$WorkspaceComment.WorkspaceComment.parseAttributes=function(a){var b=a.getAttribute("h"),c=a.getAttribute("w");return{id:a.getAttribute("id"),h:b?parseInt(b,10):100,w:c?parseInt(c,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};var module$exports$Blockly$WorkspaceCommentSvg={WorkspaceCommentSvg:function(a,b,c,d,e){module$exports$Blockly$WorkspaceComment.WorkspaceComment.call(this,a,b,c,d,e),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.eventsInit_=!1,this.deleteIconBorder_=this.deleteGroup_=this.resizeGroup_=this.foreignObject_=this.svgHandleTarget_=this.svgRectTarget_=this.textarea_=null,this.autoLayout_=this.focused_=!1,this.svgGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyComment"},null),this.svgGroup_.translate_="",this.svgRect_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:3,ry:3}),this.svgGroup_.appendChild(this.svgRect_),this.rendered_=!1,this.useDragSurface_=(0,module$exports$Blockly$utils$svgMath.is3dSupported)()&&!!a.getBlockDragSurface(),this.render()}};$.$jscomp.inherits(module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg,module$exports$Blockly$WorkspaceComment.WorkspaceComment),module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.dispose=function(){this.disposed_||((0,$.module$exports$Blockly$common.getSelected)()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),(0,module$exports$Blockly$Events$utils.isEnabled)()&&(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.COMMENT_DELETE))(this)),(0,module$exports$Blockly$utils$dom.removeNode)(this.svgGroup_),this.disposeInternal_(),(0,module$exports$Blockly$Events$utils.disable)(),module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.dispose.call(this),(0,module$exports$Blockly$Events$utils.enable)())},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.initSvg=function(a){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit_||((0,module$exports$Blockly$browserEvents.conditionalBind)(this.svgRectTarget_,"mousedown",this,this.pathMouseDown_),(0,module$exports$Blockly$browserEvents.conditionalBind)(this.svgHandleTarget_,"mousedown",this,this.pathMouseDown_)),this.eventsInit_=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!a&&this.textarea_&&this.textarea_.select()},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.pathMouseDown_=function(a){var b=this.workspace.getGesture(a);b&&b.handleBubbleStart(a,this)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.showContextMenu=function(a){if(!this.workspace.options.readOnly){var b=[];this.isDeletable()&&this.isMovable()&&(b.push((0,$.module$exports$Blockly$ContextMenu.commentDuplicateOption)(this)),b.push((0,$.module$exports$Blockly$ContextMenu.commentDeleteOption)(this))),(0,$.module$exports$Blockly$ContextMenu.show)(a,b,this.RTL)}},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.select=function(){if((0,$.module$exports$Blockly$common.getSelected)()!==this){var a=null;if((0,$.module$exports$Blockly$common.getSelected)()){a=(0,$.module$exports$Blockly$common.getSelected)().id,(0,module$exports$Blockly$Events$utils.disable)();try{(0,$.module$exports$Blockly$common.getSelected)().unselect()}finally{(0,module$exports$Blockly$Events$utils.enable)()}}a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.SELECTED))(a,this.id,this.workspace.id),(0,module$exports$Blockly$Events$utils.fire)(a),(0,$.module$exports$Blockly$common.setSelected)(this),this.addSelect()}},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.unselect=function(){if((0,$.module$exports$Blockly$common.getSelected)()===this){var a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.SELECTED))(this.id,null,this.workspace.id);(0,module$exports$Blockly$Events$utils.fire)(a),(0,$.module$exports$Blockly$common.setSelected)(null),this.removeSelect(),this.blurFocus()}},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.addSelect=function(){(0,module$exports$Blockly$utils$dom.addClass)(this.svgGroup_,"blocklySelected"),this.setFocus()},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.removeSelect=function(){(0,module$exports$Blockly$utils$dom.removeClass)(this.svgGroup_,"blocklySelected"),this.blurFocus()},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.addFocus=function(){(0,module$exports$Blockly$utils$dom.addClass)(this.svgGroup_,"blocklyFocused")},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.removeFocus=function(){(0,module$exports$Blockly$utils$dom.removeClass)(this.svgGroup_,"blocklyFocused")},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.getRelativeToSurfaceXY=function(){var a=0,b=0,c=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,d=this.getSvgRoot();if(d)do{var e=(0,module$exports$Blockly$utils$svgMath.getRelativeXY)(d);a+=e.x,b+=e.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===d&&(a+=(e=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,b+=e.y),d=d.parentNode}while(d&&d!==this.workspace.getBubbleCanvas()&&d!==c);return this.xy_=new module$exports$Blockly$utils$Coordinate.Coordinate(a,b)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.moveBy=function(a,b){var c=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.COMMENT_MOVE))(this),d=this.getRelativeToSurfaceXY();this.translate(d.x+a,d.y+b),this.xy_=new module$exports$Blockly$utils$Coordinate.Coordinate(d.x+a,d.y+b),c.recordNew(),(0,module$exports$Blockly$Events$utils.fire)(c),this.workspace.resizeContents()},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.translate=function(a,b){this.xy_=new module$exports$Blockly$utils$Coordinate.Coordinate(a,b),this.getSvgRoot().setAttribute("transform","translate("+a+","+b+")")},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var a=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(a.x,a.y),this.workspace.getBlockDragSurface().setBlocksAndShow(this.getSvgRoot())}},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.moveDuringDrag=function(a,b){a?a.translateSurface(b.x,b.y):(this.svgGroup_.translate_="translate("+b.x+","+b.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.moveTo=function(a,b){this.translate(a,b)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.getBoundingRectangle=function(){var a=this.getRelativeToSurfaceXY(),b=this.getHeightWidth(),c=a.y,d=a.y+b.height;if(this.RTL){var e=a.x-b.width;a=a.x}else e=a.x,a=a.x+b.width;return new module$exports$Blockly$utils$Rect.Rect(c,d,e,a)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.updateMovable=function(){this.isMovable()?(0,module$exports$Blockly$utils$dom.addClass)(this.svgGroup_,"blocklyDraggable"):(0,module$exports$Blockly$utils$dom.removeClass)(this.svgGroup_,"blocklyDraggable")},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.setMovable=function(a){module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.setMovable.call(this,a),this.updateMovable()},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.setEditable=function(a){module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.setEditable.call(this,a),this.textarea_&&(this.textarea_.readOnly=!a)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.setDragging=function(a){a?((a=this.getSvgRoot()).translate_="",a.skew_="",(0,module$exports$Blockly$utils$dom.addClass)(this.svgGroup_,"blocklyDragging")):(0,module$exports$Blockly$utils$dom.removeClass)(this.svgGroup_,"blocklyDragging")},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.getSvgRoot=function(){return this.svgGroup_},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.getContent=function(){return this.textarea_?this.textarea_.value:this.content_},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.setContent=function(a){module$exports$Blockly$WorkspaceComment.WorkspaceComment.prototype.setContent.call(this,a),this.textarea_&&(this.textarea_.value=a)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.setDeleteStyle=function(a){a?(0,module$exports$Blockly$utils$dom.addClass)(this.svgGroup_,"blocklyDraggingDelete"):(0,module$exports$Blockly$utils$dom.removeClass)(this.svgGroup_,"blocklyDraggingDelete")},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.setAutoLayout=function(a){},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.toXmlWithXY=function(a){var b;this.workspace.RTL&&(b=this.workspace.getWidth()),a=this.toXml(a);var c=this.getRelativeToSurfaceXY();return a.setAttribute("x",Math.round(this.workspace.RTL?b-c.x:c.x)),a.setAttribute("y",Math.round(c.y)),a.setAttribute("h",this.getHeight()),a.setAttribute("w",this.getWidth()),a},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.toCopyData=function(){return{saveInfo:this.toXmlWithXY(),source:this.workspace,typeCounts:null}},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.getHeightWidth=function(){return{width:this.getWidth(),height:this.getHeight()}},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.render=function(){if(!this.rendered_){var a=this.getHeightWidth();this.createEditor_(),this.svgGroup_.appendChild(this.foreignObject_),this.svgHandleTarget_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup_.appendChild(this.svgHandleTarget_),this.svgRectTarget_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:3,ry:3}),this.svgGroup_.appendChild(this.svgRectTarget_),this.addResizeDom_(),this.isDeletable()&&this.addDeleteDom_(),this.setSize_(a.width,a.height),this.textarea_.value=this.content_,this.rendered_=!0,this.resizeGroup_&&(0,module$exports$Blockly$browserEvents.conditionalBind)(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_),this.isDeletable()&&((0,module$exports$Blockly$browserEvents.conditionalBind)(this.deleteGroup_,"mousedown",this,this.deleteMouseDown_),(0,module$exports$Blockly$browserEvents.conditionalBind)(this.deleteGroup_,"mouseout",this,this.deleteMouseOut_),(0,module$exports$Blockly$browserEvents.conditionalBind)(this.deleteGroup_,"mouseup",this,this.deleteMouseUp_))}},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.createEditor_=function(){this.foreignObject_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.FOREIGNOBJECT,{x:0,y:module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.TOP_OFFSET,class:"blocklyCommentForeignObject"},null);var a=document.createElementNS(module$exports$Blockly$utils$dom.HTML_NS,"body");a.setAttribute("xmlns",module$exports$Blockly$utils$dom.HTML_NS),a.className="blocklyMinimalBody";var b=document.createElementNS(module$exports$Blockly$utils$dom.HTML_NS,"textarea");return b.className="blocklyCommentTextarea",b.setAttribute("dir",this.RTL?"RTL":"LTR"),b.readOnly=!this.isEditable(),a.appendChild(b),this.textarea_=b,this.foreignObject_.appendChild(a),(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"wheel",this,(function(c){c.stopPropagation()})),(0,module$exports$Blockly$browserEvents.conditionalBind)(b,"change",this,(function(c){this.setContent(b.value)})),this.foreignObject_},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.addResizeDom_=function(){this.resizeGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,8..toString())},this.resizeGroup_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{class:"blocklyResizeLine",x1:8/3,y1:7,x2:7,y2:8/3},this.resizeGroup_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{class:"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.resizeGroup_)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.addDeleteDom_=function(){this.deleteGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup_),this.deleteIconBorder_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup_)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.resizeMouseDown_=function(a){this.unbindDragEvents_(),(0,module$exports$Blockly$browserEvents.isRightButton)(a)||(this.workspace.startDrag(a,new module$exports$Blockly$utils$Coordinate.Coordinate(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mouseup",this,this.resizeMouseUp_),this.onMouseMoveWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(document,"mousemove",this,this.resizeMouseMove_),this.workspace.hideChaff()),a.stopPropagation()},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.deleteMouseDown_=function(a){(0,module$exports$Blockly$utils$dom.addClass)(this.deleteIconBorder_,"blocklyDeleteIconHighlighted"),a.stopPropagation()},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.deleteMouseOut_=function(a){(0,module$exports$Blockly$utils$dom.removeClass)(this.deleteIconBorder_,"blocklyDeleteIconHighlighted")},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.deleteMouseUp_=function(a){this.dispose(),a.stopPropagation()},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.unbindDragEvents_=function(){this.onMouseUpWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&((0,module$exports$Blockly$browserEvents.unbind)(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.resizeMouseUp_=function(a){(0,module$exports$Blockly$Touch.clearTouchIdentifier)(),this.unbindDragEvents_()},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.resizeMouseMove_=function(a){this.autoLayout_=!1,a=this.workspace.moveDrag(a),this.setSize_(this.RTL?-a.x:a.x,a.y)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.resizeComment_=function(){var a=this.getHeightWidth(),b=module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.TOP_OFFSET;this.foreignObject_.setAttribute("width",a.width),this.foreignObject_.setAttribute("height",a.height-b),this.RTL&&this.foreignObject_.setAttribute("x",-a.width),this.textarea_.style.width=a.width-4+"px",this.textarea_.style.height=a.height-4-b+"px"},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.setSize_=function(a,b){a=Math.max(a,45),b=Math.max(b,20+module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.TOP_OFFSET),this.width_=a,this.height_=b,this.svgRect_.setAttribute("width",a),this.svgRect_.setAttribute("height",b),this.svgRectTarget_.setAttribute("width",a),this.svgRectTarget_.setAttribute("height",b),this.svgHandleTarget_.setAttribute("width",a),this.svgHandleTarget_.setAttribute("height",module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.TOP_OFFSET),this.RTL&&(this.svgRect_.setAttribute("transform","scale(-1 1)"),this.svgRectTarget_.setAttribute("transform","scale(-1 1)")),this.resizeGroup_&&(this.RTL?(this.resizeGroup_.setAttribute("transform","translate("+(8-a)+","+(b-8)+") scale(-1 1)"),this.deleteGroup_.setAttribute("transform","translate("+(8-a)+",-8) scale(-1 1)")):(this.resizeGroup_.setAttribute("transform","translate("+(a-8)+","+(b-8)+")"),this.deleteGroup_.setAttribute("transform","translate("+(a-8)+",-8)"))),this.resizeComment_()},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.disposeInternal_=function(){this.svgHandleTarget_=this.svgRectTarget_=this.foreignObject_=this.textarea_=null,this.disposed_=!0},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.setFocus=function(){var a=this;this.focused_=!0,setTimeout((function(){a.disposed_||(a.textarea_.focus(),a.addFocus(),(0,module$exports$Blockly$utils$dom.addClass)(a.svgRectTarget_,"blocklyCommentTargetFocused"),(0,module$exports$Blockly$utils$dom.addClass)(a.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))}),0)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.prototype.blurFocus=function(){var a=this;this.focused_=!1,setTimeout((function(){a.disposed_||(a.textarea_.blur(),a.removeFocus(),(0,module$exports$Blockly$utils$dom.removeClass)(a.svgRectTarget_,"blocklyCommentTargetFocused"),(0,module$exports$Blockly$utils$dom.removeClass)(a.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))}),0)},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.fromXmlRendered=function(a,b,c){(0,module$exports$Blockly$Events$utils.disable)();try{var d=module$exports$Blockly$WorkspaceComment.WorkspaceComment.parseAttributes(a),e=new module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg(b,d.content,d.h,d.w,d.id);if(b.rendered&&(e.initSvg(!0),e.render()),!isNaN(d.x)&&!isNaN(d.y))if(b.RTL){var f=c||b.getWidth();e.moveBy(f-d.x,d.y)}else e.moveBy(d.x,d.y)}finally{(0,module$exports$Blockly$Events$utils.enable)()}return module$exports$Blockly$WorkspaceComment.WorkspaceComment.fireCreateEvent(e),e},module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.DEFAULT_SIZE=100,module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg.TOP_OFFSET=10,(0,module$exports$Blockly$Css.register)("\n.blocklyCommentForeignObject {\n  position: relative;\n  z-index: 0;\n}\n\n.blocklyCommentRect {\n  fill: #E7DE8E;\n  stroke: #bcA903;\n  stroke-width: 1px;\n}\n\n.blocklyCommentTarget {\n  fill: transparent;\n  stroke: #bcA903;\n}\n\n.blocklyCommentTargetFocused {\n  fill: none;\n}\n\n.blocklyCommentHandleTarget {\n  fill: none;\n}\n\n.blocklyCommentHandleTargetFocused {\n  fill: transparent;\n}\n\n.blocklyFocused>.blocklyCommentRect {\n  fill: #B9B272;\n  stroke: #B9B272;\n}\n\n.blocklySelected>.blocklyCommentTarget {\n  stroke: #fc3;\n  stroke-width: 3px;\n}\n\n.blocklyCommentDeleteIcon {\n  cursor: pointer;\n  fill: #000;\n  display: none;\n}\n\n.blocklySelected > .blocklyCommentDeleteIcon {\n  display: block;\n}\n\n.blocklyDeleteIconShape {\n  fill: #000;\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {\n  stroke: #fc3;\n}\n");var module$exports$Blockly$Trashcan={Trashcan:function(a){module$exports$Blockly$DeleteArea.DeleteArea.call(this),this.workspace_=a,this.id="trashcan",this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(this.isLidOpen=!1,this.minOpenness_=0,this.svgLid_=this.svgGroup_=null,this.top_=this.left_=this.lidOpen_=this.lidTask_=0,this.initialized_=!1,a=new module$exports$Blockly$Options.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(a.toolboxPosition=this.workspace_.toolboxPosition===module$exports$Blockly$utils$toolbox.Position.TOP?module$exports$Blockly$utils$toolbox.Position.BOTTOM:module$exports$Blockly$utils$toolbox.Position.TOP,this.flyout=new((0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(a)):(a.toolboxPosition=this.workspace_.toolboxPosition===module$exports$Blockly$utils$toolbox.Position.RIGHT?module$exports$Blockly$utils$toolbox.Position.LEFT:module$exports$Blockly$utils$toolbox.Position.RIGHT,this.flyout=new((0,module$exports$Blockly$registry.getClassFromOptions)(module$exports$Blockly$registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(a)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))}};$.$jscomp.inherits(module$exports$Blockly$Trashcan.Trashcan,module$exports$Blockly$DeleteArea.DeleteArea),module$exports$Blockly$Trashcan.Trashcan.prototype.createDom=function(){this.svgGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:"blocklyTrash"},null);var a=String(Math.random()).substring(2),b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+a},this.svgGroup_);(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{width:module$contents$Blockly$Trashcan_WIDTH,height:module$contents$Blockly$Trashcan_BODY_HEIGHT,y:module$contents$Blockly$Trashcan_LID_HEIGHT},b);var c=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.IMAGE,{width:module$exports$Blockly$sprite_SPRITE.width,x:-module$contents$Blockly$Trashcan_SPRITE_LEFT,height:module$exports$Blockly$sprite_SPRITE.height,y:-module$contents$Blockly$Trashcan_SPRITE_TOP,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.svgGroup_);return c.setAttributeNS(module$exports$Blockly$utils$dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+module$exports$Blockly$sprite_SPRITE.url),b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+a},this.svgGroup_),(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{width:module$contents$Blockly$Trashcan_WIDTH,height:module$contents$Blockly$Trashcan_LID_HEIGHT},b),this.svgLid_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.IMAGE,{width:module$exports$Blockly$sprite_SPRITE.width,x:-module$contents$Blockly$Trashcan_SPRITE_LEFT,height:module$exports$Blockly$sprite_SPRITE.height,y:-module$contents$Blockly$Trashcan_SPRITE_TOP,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.svgGroup_),this.svgLid_.setAttributeNS(module$exports$Blockly$utils$dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+module$exports$Blockly$sprite_SPRITE.url),(0,module$exports$Blockly$browserEvents.bind)(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),(0,module$exports$Blockly$browserEvents.bind)(this.svgGroup_,"mouseup",this,this.click),(0,module$exports$Blockly$browserEvents.bind)(c,"mouseover",this,this.mouseOver_),(0,module$exports$Blockly$browserEvents.bind)(c,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},module$exports$Blockly$Trashcan.Trashcan.prototype.init=function(){0<this.workspace_.options.maxTrashcanContents&&((0,module$exports$Blockly$utils$dom.insertAfter)(this.flyout.createDom(module$exports$Blockly$utils$Svg.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[module$exports$Blockly$ComponentManager.ComponentManager.Capability.AUTOHIDEABLE,module$exports$Blockly$ComponentManager.ComponentManager.Capability.DELETE_AREA,module$exports$Blockly$ComponentManager.ComponentManager.Capability.DRAG_TARGET,module$exports$Blockly$ComponentManager.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)},module$exports$Blockly$Trashcan.Trashcan.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&((0,module$exports$Blockly$utils$dom.removeNode)(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},module$exports$Blockly$Trashcan.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},module$exports$Blockly$Trashcan.Trashcan.prototype.contentsIsOpen=function(){return!!this.flyout&&this.flyout.isVisible()},module$exports$Blockly$Trashcan.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){var a=this.contents_.map((function(b){return JSON.parse(b)}));this.flyout.show(a),this.fireUiEvent_(!0)}},module$exports$Blockly$Trashcan.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1),this.workspace_.recordDragTargets())},module$exports$Blockly$Trashcan.Trashcan.prototype.autoHide=function(a){!a&&this.flyout&&this.closeFlyout()},module$exports$Blockly$Trashcan.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},module$exports$Blockly$Trashcan.Trashcan.prototype.position=function(a,b){if(this.initialized_){var c=(0,module$exports$Blockly$uiPosition.getCornerOppositeToolbox)(this.workspace_,a);a=(0,module$exports$Blockly$uiPosition.getStartPositionRect)(c,new module$exports$Blockly$utils$Size.Size(module$contents$Blockly$Trashcan_WIDTH,module$contents$Blockly$Trashcan_BODY_HEIGHT+module$contents$Blockly$Trashcan_LID_HEIGHT),module$contents$Blockly$Trashcan_MARGIN_HORIZONTAL,module$contents$Blockly$Trashcan_MARGIN_VERTICAL,a,this.workspace_),b=(0,module$exports$Blockly$uiPosition.bumpPositionRect)(a,module$contents$Blockly$Trashcan_MARGIN_VERTICAL,c.vertical===module$exports$Blockly$uiPosition.verticalPosition.TOP?module$exports$Blockly$uiPosition.bumpDirection.DOWN:module$exports$Blockly$uiPosition.bumpDirection.UP,b),this.top_=b.top,this.left_=b.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},module$exports$Blockly$Trashcan.Trashcan.prototype.getBoundingRectangle=function(){return new module$exports$Blockly$utils$Rect.Rect(this.top_,this.top_+module$contents$Blockly$Trashcan_BODY_HEIGHT+module$contents$Blockly$Trashcan_LID_HEIGHT,this.left_,this.left_+module$contents$Blockly$Trashcan_WIDTH)},module$exports$Blockly$Trashcan.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.top+module$contents$Blockly$Trashcan_SPRITE_TOP-module$contents$Blockly$Trashcan_MARGIN_HOTSPOT;return a=a.left+module$contents$Blockly$Trashcan_SPRITE_LEFT-module$contents$Blockly$Trashcan_MARGIN_HOTSPOT,new module$exports$Blockly$utils$Rect.Rect(b,b+module$contents$Blockly$Trashcan_LID_HEIGHT+module$contents$Blockly$Trashcan_BODY_HEIGHT+2*module$contents$Blockly$Trashcan_MARGIN_HOTSPOT,a,a+module$contents$Blockly$Trashcan_WIDTH+2*module$contents$Blockly$Trashcan_MARGIN_HOTSPOT)},module$exports$Blockly$Trashcan.Trashcan.prototype.onDragOver=function(a){this.setLidOpen(this.wouldDelete_)},module$exports$Blockly$Trashcan.Trashcan.prototype.onDragExit=function(a){this.setLidOpen(!1)},module$exports$Blockly$Trashcan.Trashcan.prototype.onDrop=function(a){setTimeout(this.setLidOpen.bind(this,!1),100)},module$exports$Blockly$Trashcan.Trashcan.prototype.setLidOpen=function(a){this.isLidOpen!==a&&(clearTimeout(this.lidTask_),this.isLidOpen=a,this.animateLid_())},module$exports$Blockly$Trashcan.Trashcan.prototype.animateLid_=function(){var a=module$contents$Blockly$Trashcan_ANIMATION_FRAMES,b=1/(a+1);this.lidOpen_+=this.isLidOpen?b:-b,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*module$contents$Blockly$Trashcan_MAX_LID_ANGLE),this.svgGroup_.style.opacity=module$contents$Blockly$Trashcan_OPACITY_MIN+this.lidOpen_*(module$contents$Blockly$Trashcan_OPACITY_MAX-module$contents$Blockly$Trashcan_OPACITY_MIN),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),module$contents$Blockly$Trashcan_ANIMATION_LENGTH/a))},module$exports$Blockly$Trashcan.Trashcan.prototype.setLidAngle_=function(a){var b=this.workspace_.toolboxPosition===module$exports$Blockly$utils$toolbox.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(b?-a:a)+","+(b?4:module$contents$Blockly$Trashcan_WIDTH-4)+","+(module$contents$Blockly$Trashcan_LID_HEIGHT-2)+")")},module$exports$Blockly$Trashcan.Trashcan.prototype.setMinOpenness_=function(a){this.minOpenness_=a,this.isLidOpen||this.setLidAngle_(a*module$contents$Blockly$Trashcan_MAX_LID_ANGLE)},module$exports$Blockly$Trashcan.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},module$exports$Blockly$Trashcan.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},module$exports$Blockly$Trashcan.Trashcan.prototype.fireUiEvent_=function(a){a=new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.TRASHCAN_OPEN))(a,this.workspace_.id),(0,module$exports$Blockly$Events$utils.fire)(a)},module$exports$Blockly$Trashcan.Trashcan.prototype.blockMouseDownWhenOpenable_=function(a){!this.contentsIsOpen()&&this.hasContents_()&&a.stopPropagation()},module$exports$Blockly$Trashcan.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},module$exports$Blockly$Trashcan.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},module$exports$Blockly$Trashcan.Trashcan.prototype.onDelete_=function(a){if(!(0>=this.workspace_.options.maxTrashcanContents||a.type!==module$exports$Blockly$Events$utils.DELETE||a.type!==module$exports$Blockly$Events$utils.DELETE||a.wasShadow)&&(a=this.cleanBlockJson_(a.oldJson),-1===this.contents_.indexOf(a))){for(this.contents_.unshift(a);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(module$contents$Blockly$Trashcan_HAS_BLOCKS_LID_ANGLE)}},module$exports$Blockly$Trashcan.Trashcan.prototype.cleanBlockJson_=function(a){return function b(c){if(c){if(delete c.id,delete c.x,delete c.y,delete c.enabled,c.icons&&c.icons.comment){var d=c.icons.comment;delete d.height,delete d.width,delete d.pinned}for(var e in d=c.inputs){var f=d[e];b(f.block),b(f.shadow)}c.next&&(b((c=c.next).block),b(c.shadow))}}(a=JSON.parse(JSON.stringify(a))),a.kind="BLOCK",JSON.stringify(a)};var module$contents$Blockly$Trashcan_WIDTH=47,module$contents$Blockly$Trashcan_BODY_HEIGHT=44,module$contents$Blockly$Trashcan_LID_HEIGHT=16,module$contents$Blockly$Trashcan_MARGIN_VERTICAL=20,module$contents$Blockly$Trashcan_MARGIN_HORIZONTAL=20,module$contents$Blockly$Trashcan_MARGIN_HOTSPOT=10,module$contents$Blockly$Trashcan_SPRITE_LEFT=0,module$contents$Blockly$Trashcan_SPRITE_TOP=32,module$contents$Blockly$Trashcan_HAS_BLOCKS_LID_ANGLE=.1,module$contents$Blockly$Trashcan_ANIMATION_LENGTH=80,module$contents$Blockly$Trashcan_ANIMATION_FRAMES=4,module$contents$Blockly$Trashcan_OPACITY_MIN=.4,module$contents$Blockly$Trashcan_OPACITY_MAX=.8,module$contents$Blockly$Trashcan_MAX_LID_ANGLE=45,module$exports$Blockly$FlyoutButton={FlyoutButton:function(a,b,c,d){this.workspace_=a,this.targetWorkspace_=b,this.text_=c.text,this.position_=new module$exports$Blockly$utils$Coordinate.Coordinate(0,0),this.isLabel_=d,this.callbackKey_=c.callbackKey||c.callbackkey,this.cssClass_=c["web-class"]||null,this.onMouseUpWrapper_=null,this.info=c,this.height=this.width=0,this.svgText_=this.svgGroup_=null}};module$exports$Blockly$FlyoutButton.FlyoutButton.prototype.createDom=function(){var b,a=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass_&&(a+=" "+this.cssClass_),this.svgGroup_=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.G,{class:a},this.workspace_.getCanvas()),this.isLabel_||(b=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_)),a=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var c=(0,module$exports$Blockly$utils$dom.createSvgElement)(module$exports$Blockly$utils$Svg.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),d=(0,module$exports$Blockly$utils$parsing.replaceMessageReferences)(this.text_);this.workspace_.RTL&&(d+=""),c.textContent=d,this.isLabel_&&(this.svgText_=c,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var e=(0,module$exports$Blockly$utils$style.getComputedStyle)(c,"fontSize"),f=(0,module$exports$Blockly$utils$style.getComputedStyle)(c,"fontWeight"),g=(0,module$exports$Blockly$utils$style.getComputedStyle)(c,"fontFamily");return this.width=(0,module$exports$Blockly$utils$dom.getFastTextWidthWithSizeString)(c,e,f,g),d=(0,module$exports$Blockly$utils$dom.measureFontMetrics)(d,e,f,g),this.height=d.height,this.isLabel_||(this.width+=2*module$exports$Blockly$FlyoutButton.FlyoutButton.TEXT_MARGIN_X,this.height+=2*module$exports$Blockly$FlyoutButton.FlyoutButton.TEXT_MARGIN_Y,b.setAttribute("width",this.width),b.setAttribute("height",this.height)),a.setAttribute("width",this.width),a.setAttribute("height",this.height),c.setAttribute("x",this.width/2),c.setAttribute("y",this.height/2-d.height/2+d.baseline),this.updateTransform_(),this.onMouseUpWrapper_=(0,module$exports$Blockly$browserEvents.conditionalBind)(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},module$exports$Blockly$FlyoutButton.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},module$exports$Blockly$FlyoutButton.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},module$exports$Blockly$FlyoutButton.FlyoutButton.prototype.moveTo=function(a,b){this.position_.x=a,this.position_.y=b,this.updateTransform_()},module$exports$Blockly$FlyoutButton.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},module$exports$Blockly$FlyoutButton.FlyoutButton.prototype.getPosition=function(){return this.position_},module$exports$Blockly$FlyoutButton.FlyoutButton.prototype.getButtonText=function(){return this.text_},module$exports$Blockly$FlyoutButton.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},module$exports$Blockly$FlyoutButton.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&(0,module$exports$Blockly$browserEvents.unbind)(this.onMouseUpWrapper_),this.svgGroup_&&(0,module$exports$Blockly$utils$dom.removeNode)(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},module$exports$Blockly$FlyoutButton.FlyoutButton.prototype.onMouseUp_=function(a){(a=this.targetWorkspace_.getGesture(a))&&a.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},module$exports$Blockly$FlyoutButton.FlyoutButton.TEXT_MARGIN_X=5,module$exports$Blockly$FlyoutButton.FlyoutButton.TEXT_MARGIN_Y=2,(0,module$exports$Blockly$Css.register)("\n.blocklyFlyoutButton {\n  fill: #888;\n  cursor: default;\n}\n\n.blocklyFlyoutButtonShadow {\n  fill: #666;\n}\n\n.blocklyFlyoutButton:hover {\n  fill: #aaa;\n}\n\n.blocklyFlyoutLabel {\n  cursor: default;\n}\n\n.blocklyFlyoutLabelBackground {\n  opacity: 0;\n}\n");var module$contents$Blockly$Procedures_procTupleComparator,module$exports$Blockly$VariablesDynamic={CATEGORY_NAME:"VARIABLE_DYNAMIC",onCreateVariableButtonClick_String:function(a){(0,$.module$exports$Blockly$Variables.createVariableButtonHandler)(a.getTargetWorkspace(),void 0,"String")},onCreateVariableButtonClick_Number:function(a){(0,$.module$exports$Blockly$Variables.createVariableButtonHandler)(a.getTargetWorkspace(),void 0,"Number")},onCreateVariableButtonClick_Colour:function(a){(0,$.module$exports$Blockly$Variables.createVariableButtonHandler)(a.getTargetWorkspace(),void 0,"Colour")},flyoutCategory:function(a){var b=[],c=document.createElement("button");return c.setAttribute("text",$.module$exports$Blockly$Msg.Msg.NEW_STRING_VARIABLE),c.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),b.push(c),(c=document.createElement("button")).setAttribute("text",$.module$exports$Blockly$Msg.Msg.NEW_NUMBER_VARIABLE),c.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),b.push(c),(c=document.createElement("button")).setAttribute("text",$.module$exports$Blockly$Msg.Msg.NEW_COLOUR_VARIABLE),c.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),b.push(c),a.registerButtonCallback("CREATE_VARIABLE_STRING",module$exports$Blockly$VariablesDynamic.onCreateVariableButtonClick_String),a.registerButtonCallback("CREATE_VARIABLE_NUMBER",module$exports$Blockly$VariablesDynamic.onCreateVariableButtonClick_Number),a.registerButtonCallback("CREATE_VARIABLE_COLOUR",module$exports$Blockly$VariablesDynamic.onCreateVariableButtonClick_Colour),a=(0,module$exports$Blockly$VariablesDynamic.flyoutCategoryBlocks)(a),b.concat(a)},flyoutCategoryBlocks:function(a){var b=[];if(0<(a=a.getAllVariables()).length){if(module$exports$Blockly$blocks.Blocks.variables_set_dynamic){var c=a[a.length-1],d=(0,$.module$exports$Blockly$utils$xml.createElement)("block");d.setAttribute("type","variables_set_dynamic"),d.setAttribute("gap",24),d.appendChild((0,$.module$exports$Blockly$Variables.generateVariableFieldDom)(c)),b.push(d)}if(module$exports$Blockly$blocks.Blocks.variables_get_dynamic)for(a.sort(module$exports$Blockly$VariableModel.VariableModel.compareByName),c=0;d=a[c];c++){var e=(0,$.module$exports$Blockly$utils$xml.createElement)("block");e.setAttribute("type","variables_get_dynamic"),e.setAttribute("gap",8),e.appendChild((0,$.module$exports$Blockly$Variables.generateVariableFieldDom)(d)),b.push(e)}}return b}};$.module$exports$Blockly$Procedures={CATEGORY_NAME:"PROCEDURE",DEFAULT_ARG:"x",allProcedures:function(a){var b=a.getBlocksByType("procedures_defnoreturn",!1).map((function(c){return c.getProcedureDef()}));return a=a.getBlocksByType("procedures_defreturn",!1).map((function(c){return c.getProcedureDef()})),b.sort(module$contents$Blockly$Procedures_procTupleComparator),a.sort(module$contents$Blockly$Procedures_procTupleComparator),[b,a]}},module$contents$Blockly$Procedures_procTupleComparator=function(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:"base"})},$.module$exports$Blockly$Procedures.findLegalName=function(a,b){if(b.isInFlyout)return a;for(a=a||$.module$exports$Blockly$Msg.Msg.UNNAMED_KEY||"unnamed";!module$contents$Blockly$Procedures_isLegalName(a,b.workspace,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a};var module$contents$Blockly$Procedures_isLegalName=function(a,b,c){return!(0,$.module$exports$Blockly$Procedures.isNameUsed)(a,b,c)};$.module$exports$Blockly$Procedures.isNameUsed=function(a,b,c){b=b.getAllBlocks(!1);for(var d=0;d<b.length;d++)if(b[d]!==c){var e=b[d];if(e.getProcedureDef&&(e=e.getProcedureDef(),$.module$exports$Blockly$Names.Names.equals(e[0],a)))return!0}return!1},$.module$exports$Blockly$Procedures.rename=function(a){a=a.trim();var b=(0,$.module$exports$Blockly$Procedures.findLegalName)(a,this.getSourceBlock()),c=this.getValue();if(c!==a&&c!==b){a=this.getSourceBlock().workspace.getAllBlocks(!1);for(var d=0;d<a.length;d++){var e=a[d];e.renameProcedure&&e.renameProcedure(c,b)}}return b},$.module$exports$Blockly$Procedures.flyoutCategory=function(a){function b(f,g){for(var h=0;h<f.length;h++){var k=f[h][0],l=f[h][1],m=(0,$.module$exports$Blockly$utils$xml.createElement)("block");m.setAttribute("type",g),m.setAttribute("gap",16);var n=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");for(n.setAttribute("name",k),m.appendChild(n),k=0;k<l.length;k++){var p=(0,$.module$exports$Blockly$utils$xml.createElement)("arg");p.setAttribute("name",l[k]),n.appendChild(p)}c.push(m)}}var c=[];if(module$exports$Blockly$blocks.Blocks.procedures_defnoreturn){var d=(0,$.module$exports$Blockly$utils$xml.createElement)("block");d.setAttribute("type","procedures_defnoreturn"),d.setAttribute("gap",16);var e=(0,$.module$exports$Blockly$utils$xml.createElement)("field");e.setAttribute("name","NAME"),e.appendChild((0,$.module$exports$Blockly$utils$xml.createTextNode)($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),d.appendChild(e),c.push(d)}return module$exports$Blockly$blocks.Blocks.procedures_defreturn&&((d=(0,$.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),(e=(0,$.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name","NAME"),e.appendChild((0,$.module$exports$Blockly$utils$xml.createTextNode)($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d)),module$exports$Blockly$blocks.Blocks.procedures_ifreturn&&((d=(0,$.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d)),c.length&&c[c.length-1].setAttribute("gap",24),b((a=(0,$.module$exports$Blockly$Procedures.allProcedures)(a))[0],"procedures_callnoreturn"),b(a[1],"procedures_callreturn"),c};var module$contents$Blockly$Procedures_updateMutatorFlyout=function(a){for(var e,b=[],c=a.getBlocksByType("procedures_mutatorarg",!1),d=0;e=c[d];d++)b.push(e.getFieldValue("NAME"));c=(0,$.module$exports$Blockly$utils$xml.createElement)("xml"),(d=(0,$.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","procedures_mutatorarg"),(e=(0,$.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name","NAME"),b=(0,$.module$exports$Blockly$Variables.generateUniqueNameFromOptions)($.module$exports$Blockly$Procedures.DEFAULT_ARG,b),b=(0,$.module$exports$Blockly$utils$xml.createTextNode)(b),e.appendChild(b),d.appendChild(e),c.appendChild(d),a.updateToolbox(c)};$.module$exports$Blockly$Procedures.mutatorOpenListener=function(a){if(a.type===module$exports$Blockly$Events$utils.BUBBLE_OPEN&&"mutator"===a.bubbleType&&a.isOpen){var b=(a=module$exports$Blockly$Workspace.Workspace.getById(a.workspaceId).getBlockById(a.blockId)).type;"procedures_defnoreturn"!==b&&"procedures_defreturn"!==b||(a=a.mutator.getWorkspace(),module$contents$Blockly$Procedures_updateMutatorFlyout(a),a.addChangeListener(module$contents$Blockly$Procedures_mutatorChangeListener))}};var module$contents$Blockly$Procedures_mutatorChangeListener=function(a){a.type!==module$exports$Blockly$Events$utils.CREATE&&a.type!==module$exports$Blockly$Events$utils.DELETE&&a.type!==module$exports$Blockly$Events$utils.CHANGE||(a=module$exports$Blockly$Workspace.Workspace.getById(a.workspaceId),module$contents$Blockly$Procedures_updateMutatorFlyout(a))};return $.module$exports$Blockly$Procedures.getCallers=function(a,b){var c=[];b=b.getAllBlocks(!1);for(var d=0;d<b.length;d++){var e=b[d];e.getProcedureCall&&(e=e.getProcedureCall())&&$.module$exports$Blockly$Names.Names.equals(e,a)&&c.push(b[d])}return c},$.module$exports$Blockly$Procedures.mutateCallers=function(a){var e,b=(0,module$exports$Blockly$Events$utils.getRecordUndo)(),c=a.getProcedureDef()[0],d=a.mutationToDom(!0);for(a=(0,$.module$exports$Blockly$Procedures.getCallers)(c,a.workspace),c=0;e=a[c];c++){var f=e.mutationToDom();f=f&&(0,$.module$exports$Blockly$Xml.domToText)(f),e.domToMutation(d);var g=e.mutationToDom();f!==(g=g&&(0,$.module$exports$Blockly$Xml.domToText)(g))&&((0,module$exports$Blockly$Events$utils.setRecordUndo)(!1),(0,module$exports$Blockly$Events$utils.fire)(new((0,module$exports$Blockly$Events$utils.get)(module$exports$Blockly$Events$utils.CHANGE))(e,"mutation",null,f,g)),(0,module$exports$Blockly$Events$utils.setRecordUndo)(b))}},$.module$exports$Blockly$Procedures.getDefinition=function(a,b){b=b.getAllBlocks(!1);for(var c=0;c<b.length;c++){var d=b[c];if(d.getProcedureDef&&(d=d.getProcedureDef())&&$.module$exports$Blockly$Names.Names.equals(d[0],a))return b[c]}return null},$.Blockly={VERSION:"8.0.3"},$.Blockly.ALIGN_LEFT=$.module$exports$Blockly$Input.Align.LEFT,$.Blockly.ALIGN_CENTRE=$.module$exports$Blockly$Input.Align.CENTRE,$.Blockly.ALIGN_RIGHT=$.module$exports$Blockly$Input.Align.RIGHT,$.Blockly.INPUT_VALUE=$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,$.Blockly.OUTPUT_VALUE=$.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE,$.Blockly.NEXT_STATEMENT=$.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT,$.Blockly.PREVIOUS_STATEMENT=$.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT,$.Blockly.DUMMY_INPUT=$.module$exports$Blockly$inputTypes.inputTypes.DUMMY,$.Blockly.TOOLBOX_AT_TOP=module$exports$Blockly$utils$toolbox.Position.TOP,$.Blockly.TOOLBOX_AT_BOTTOM=module$exports$Blockly$utils$toolbox.Position.BOTTOM,$.Blockly.TOOLBOX_AT_LEFT=module$exports$Blockly$utils$toolbox.Position.LEFT,$.Blockly.TOOLBOX_AT_RIGHT=module$exports$Blockly$utils$toolbox.Position.RIGHT,$.Blockly.svgResize=$.module$exports$Blockly$common.svgResize,$.Blockly.hideChaff=function(a){(0,$.module$exports$Blockly$common.getMainWorkspace)().hideChaff(a)},$.Blockly.getMainWorkspace=$.module$exports$Blockly$common.getMainWorkspace,$.Blockly.defineBlocksWithJsonArray=$.module$exports$Blockly$common.defineBlocksWithJsonArray,$.Blockly.setParentContainer=$.module$exports$Blockly$common.setParentContainer,Object.defineProperties($.Blockly,{alert:{set:function(a){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.alert","December 2021","December 2022"),(0,module$exports$Blockly$dialog.setAlert)(a)},get:function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.alert","December 2021","December 2022","Blockly.dialog.alert()"),module$exports$Blockly$dialog.alert}},confirm:{set:function(a){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.confirm","December 2021","December 2022"),(0,module$exports$Blockly$dialog.setConfirm)(a)},get:function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.confirm","December 2021","December 2022","Blockly.dialog.confirm()"),module$exports$Blockly$dialog.confirm}},mainWorkspace:{set:function(a){(0,$.module$exports$Blockly$common.setMainWorkspace)(a)},get:function(){return(0,$.module$exports$Blockly$common.getMainWorkspace)()}},prompt:{set:function(a){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.prompt","December 2021","December 2022"),(0,module$exports$Blockly$dialog.setPrompt)(a)},get:function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.prompt","December 2021","December 2022","Blockly.dialog.prompt()"),module$exports$Blockly$dialog.prompt}},selected:{get:function(){return(0,$.module$exports$Blockly$common.getSelected)()},set:function(a){(0,$.module$exports$Blockly$common.setSelected)(a)}},HSV_SATURATION:{get:function(){return module$exports$Blockly$utils.colour.getHsvSaturation()},set:function(a){module$exports$Blockly$utils.colour.setHsvSaturation(a)}},HSV_VALUE:{get:function(){return module$exports$Blockly$utils.colour.getHsvValue()},set:function(a){module$exports$Blockly$utils.colour.setHsvValue(a)}}}),$.Blockly.svgSize=module$exports$Blockly$utils$svgMath.svgSize,$.Blockly.resizeSvgContents=function(a){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.resizeSvgContents","December 2021","December 2022","Blockly.WorkspaceSvg.resizeSvgContents"),(0,module$exports$Blockly$WorkspaceSvg.resizeSvgContents)(a)},$.Blockly.copy=function(a){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.copy","December 2021","December 2022","Blockly.clipboard.copy"),(0,module$exports$Blockly$clipboard.copy)(a)},$.Blockly.paste=function(){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.paste","December 2021","December 2022","Blockly.clipboard.paste"),!!(0,module$exports$Blockly$clipboard.paste)()},$.Blockly.duplicate=function(a){(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.duplicate","December 2021","December 2022","Blockly.clipboard.duplicate"),(0,module$exports$Blockly$clipboard.duplicate)(a)},$.Blockly.isNumber=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.isNumber","December 2021","December 2022","Blockly.utils.string.isNumber"),module$exports$Blockly$utils.string.isNumber(a)},$.Blockly.hueToHex=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.hueToHex","December 2021","December 2022","Blockly.utils.colour.hueToHex"),(0,module$exports$Blockly$utils$colour.hueToHex)(a)},$.Blockly.bindEvent_=function(a,b,c,d){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.bindEvent_","December 2021","December 2022","Blockly.browserEvents.bind"),(0,module$exports$Blockly$browserEvents.bind)(a,b,c,d)},$.Blockly.unbindEvent_=function(a){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.unbindEvent_","December 2021","December 2022","Blockly.browserEvents.unbind"),(0,module$exports$Blockly$browserEvents.unbind)(a)},$.Blockly.bindEventWithChecks_=function(a,b,c,d,e,f){return(0,module$exports$Blockly$utils$deprecation.warn)("Blockly.bindEventWithChecks_","December 2021","December 2022","Blockly.browserEvents.conditionalBind"),(0,module$exports$Blockly$browserEvents.conditionalBind)(a,b,c,d,e,f)},$.Blockly.COLLAPSE_CHARS=module$exports$Blockly$internalConstants.COLLAPSE_CHARS,$.Blockly.DRAG_STACK=module$exports$Blockly$internalConstants.DRAG_STACK,$.Blockly.OPPOSITE_TYPE=module$exports$Blockly$internalConstants.OPPOSITE_TYPE,$.Blockly.RENAME_VARIABLE_ID=module$exports$Blockly$internalConstants.RENAME_VARIABLE_ID,$.Blockly.DELETE_VARIABLE_ID=module$exports$Blockly$internalConstants.DELETE_VARIABLE_ID,$.Blockly.COLLAPSED_INPUT_NAME=module$exports$Blockly$constants.COLLAPSED_INPUT_NAME,$.Blockly.COLLAPSED_FIELD_NAME=module$exports$Blockly$constants.COLLAPSED_FIELD_NAME,$.Blockly.VARIABLE_CATEGORY_NAME=$.module$exports$Blockly$Variables.CATEGORY_NAME,$.Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME=module$exports$Blockly$VariablesDynamic.CATEGORY_NAME,$.Blockly.PROCEDURE_CATEGORY_NAME=$.module$exports$Blockly$Procedures.CATEGORY_NAME,$.Blockly.ASTNode=module$exports$Blockly$ASTNode.ASTNode,$.Blockly.BasicCursor=module$exports$Blockly$BasicCursor.BasicCursor,$.Blockly.Block=module$exports$Blockly$Block.Block,$.Blockly.BlocklyOptions=function(){},$.Blockly.BlockDragger=module$exports$Blockly$BlockDragger.BlockDragger,$.Blockly.BlockDragSurfaceSvg=module$exports$Blockly$BlockDragSurfaceSvg.BlockDragSurfaceSvg,$.Blockly.BlockSvg=module$exports$Blockly$BlockSvg.BlockSvg,$.Blockly.Blocks=module$exports$Blockly$blocks.Blocks,$.Blockly.Bubble=module$exports$Blockly$Bubble.Bubble,$.Blockly.BubbleDragger=module$exports$Blockly$BubbleDragger.BubbleDragger,$.Blockly.CollapsibleToolboxCategory=module$exports$Blockly$CollapsibleToolboxCategory.CollapsibleToolboxCategory,$.Blockly.Comment=module$exports$Blockly$Comment.Comment,$.Blockly.ComponentManager=module$exports$Blockly$ComponentManager.ComponentManager,$.Blockly.Connection=module$exports$Blockly$Connection.Connection,$.Blockly.ConnectionType=$.module$exports$Blockly$ConnectionType.ConnectionType,$.Blockly.ConnectionChecker=module$exports$Blockly$ConnectionChecker.ConnectionChecker,$.Blockly.ConnectionDB=module$exports$Blockly$ConnectionDB.ConnectionDB,$.Blockly.ContextMenu=$.module$exports$Blockly$ContextMenu,$.Blockly.ContextMenuItems=module$exports$Blockly$ContextMenuItems,$.Blockly.ContextMenuRegistry=module$exports$Blockly$ContextMenuRegistry.ContextMenuRegistry,$.Blockly.Css=module$exports$Blockly$Css,$.Blockly.Cursor=module$exports$Blockly$Cursor.Cursor,$.Blockly.DeleteArea=module$exports$Blockly$DeleteArea.DeleteArea,$.Blockly.DragTarget=module$exports$Blockly$DragTarget.DragTarget,$.Blockly.DropDownDiv=module$exports$Blockly$dropDownDiv,$.Blockly.Events=$.module$exports$Blockly$Events,$.Blockly.Extensions=$.module$exports$Blockly$Extensions,$.Blockly.Field=module$exports$Blockly$Field.Field,$.Blockly.FieldAngle=module$exports$Blockly$FieldAngle.FieldAngle,$.Blockly.FieldCheckbox=$.module$exports$Blockly$FieldCheckbox.FieldCheckbox,$.Blockly.FieldColour=module$exports$Blockly$FieldColour.FieldColour,$.Blockly.FieldDropdown=$.module$exports$Blockly$FieldDropdown.FieldDropdown,$.Blockly.FieldImage=$.module$exports$Blockly$FieldImage.FieldImage,$.Blockly.FieldLabel=$.module$exports$Blockly$FieldLabel.FieldLabel,$.Blockly.FieldLabelSerializable=module$exports$Blockly$FieldLabelSerializable.FieldLabelSerializable,$.Blockly.FieldMultilineInput=module$exports$Blockly$FieldMultilineInput.FieldMultilineInput,$.Blockly.FieldNumber=module$exports$Blockly$FieldNumber.FieldNumber,$.Blockly.FieldTextInput=$.module$exports$Blockly$FieldTextInput.FieldTextInput,$.Blockly.FieldVariable=module$exports$Blockly$FieldVariable.FieldVariable,$.Blockly.Flyout=module$exports$Blockly$Flyout.Flyout,$.Blockly.FlyoutButton=module$exports$Blockly$FlyoutButton.FlyoutButton,$.Blockly.FlyoutMetricsManager=module$exports$Blockly$FlyoutMetricsManager.FlyoutMetricsManager,$.Blockly.Generator=$.module$exports$Blockly$Generator.Generator,$.Blockly.Gesture=module$exports$Blockly$Gesture.Gesture,$.Blockly.Grid=module$exports$Blockly$Grid.Grid,$.Blockly.HorizontalFlyout=module$exports$Blockly$HorizontalFlyout.HorizontalFlyout,$.Blockly.IASTNodeLocation=function(){},$.Blockly.IASTNodeLocationSvg=function(){},$.Blockly.IASTNodeLocationWithBlock=function(){},$.Blockly.IAutoHideable=function(){},$.Blockly.IBlockDragger=function(){},$.Blockly.IBoundedElement=function(){},$.Blockly.IBubble=function(){},$.Blockly.ICollapsibleToolboxItem=function(){},$.Blockly.IComponent=function(){},$.Blockly.IConnectionChecker=function(){},$.Blockly.IContextMenu=function(){},$.Blockly.Icon=module$exports$Blockly$Icon.Icon,$.Blockly.ICopyable=function(){},$.Blockly.IDeletable=function(){},$.Blockly.IDeleteArea=function(){},$.Blockly.IDragTarget=function(){},$.Blockly.IDraggable=function(){},$.Blockly.IFlyout=function(){},$.Blockly.IKeyboardAccessible=function(){},$.Blockly.IMetricsManager=function(){},$.Blockly.IMovable=function(){},$.Blockly.Input=$.module$exports$Blockly$Input.Input,$.Blockly.InsertionMarkerManager=module$exports$Blockly$InsertionMarkerManager.InsertionMarkerManager,$.Blockly.IPositionable=function(){},$.Blockly.IRegistrable=function(){},$.Blockly.IRegistrableField={},$.Blockly.ISelectable=function(){},$.Blockly.ISelectableToolboxItem=function(){},$.Blockly.IStyleable=function(){},$.Blockly.IToolbox=function(){},$.Blockly.IToolboxItem=function(){},$.Blockly.Marker=module$exports$Blockly$Marker.Marker,$.Blockly.MarkerManager=module$exports$Blockly$MarkerManager.MarkerManager,$.Blockly.Menu=module$exports$Blockly$Menu.Menu,$.Blockly.MenuItem=module$exports$Blockly$MenuItem.MenuItem,$.Blockly.MetricsManager=module$exports$Blockly$MetricsManager.MetricsManager,$.Blockly.Mutator=$.module$exports$Blockly$Mutator.Mutator,$.Blockly.Msg=$.module$exports$Blockly$Msg.Msg,$.Blockly.Names=$.module$exports$Blockly$Names.Names,$.Blockly.Options=module$exports$Blockly$Options.Options,$.Blockly.Procedures=$.module$exports$Blockly$Procedures,$.Blockly.RenderedConnection=module$exports$Blockly$RenderedConnection.RenderedConnection,$.Blockly.Scrollbar=module$exports$Blockly$Scrollbar.Scrollbar,$.Blockly.ScrollbarPair=module$exports$Blockly$ScrollbarPair.ScrollbarPair,$.Blockly.ShortcutItems=module$exports$Blockly$ShortcutItems,$.Blockly.ShortcutRegistry=module$exports$Blockly$ShortcutRegistry.ShortcutRegistry,$.Blockly.TabNavigateCursor=module$exports$Blockly$TabNavigateCursor.TabNavigateCursor,$.Blockly.Theme=module$exports$Blockly$Theme.Theme,$.Blockly.Themes=module$exports$Blockly$Themes,$.Blockly.ThemeManager=module$exports$Blockly$ThemeManager.ThemeManager,$.Blockly.Toolbox=module$exports$Blockly$Toolbox.Toolbox,$.Blockly.ToolboxCategory=module$exports$Blockly$ToolboxCategory.ToolboxCategory,$.Blockly.ToolboxItem=module$exports$Blockly$ToolboxItem.ToolboxItem,$.Blockly.ToolboxSeparator=module$exports$Blockly$ToolboxSeparator.ToolboxSeparator,$.Blockly.Tooltip=module$exports$Blockly$Tooltip,$.Blockly.Touch=module$exports$Blockly$Touch,$.Blockly.TouchGesture=module$exports$Blockly$TouchGesture.TouchGesture,$.Blockly.Trashcan=module$exports$Blockly$Trashcan.Trashcan,$.Blockly.VariableMap=module$exports$Blockly$VariableMap.VariableMap,$.Blockly.VariableModel=module$exports$Blockly$VariableModel.VariableModel,$.Blockly.Variables=$.module$exports$Blockly$Variables,$.Blockly.VariablesDynamic=module$exports$Blockly$VariablesDynamic,$.Blockly.VerticalFlyout=module$exports$Blockly$VerticalFlyout.VerticalFlyout,$.Blockly.Warning=module$exports$Blockly$Warning.Warning,$.Blockly.WidgetDiv=module$exports$Blockly$WidgetDiv,$.Blockly.Workspace=module$exports$Blockly$Workspace.Workspace,$.Blockly.WorkspaceAudio=module$exports$Blockly$WorkspaceAudio.WorkspaceAudio,$.Blockly.WorkspaceComment=module$exports$Blockly$WorkspaceComment.WorkspaceComment,$.Blockly.WorkspaceCommentSvg=module$exports$Blockly$WorkspaceCommentSvg.WorkspaceCommentSvg,$.Blockly.WorkspaceDragSurfaceSvg=module$exports$Blockly$WorkspaceDragSurfaceSvg.WorkspaceDragSurfaceSvg,$.Blockly.WorkspaceDragger=module$exports$Blockly$WorkspaceDragger.WorkspaceDragger,$.Blockly.WorkspaceSvg=module$exports$Blockly$WorkspaceSvg.WorkspaceSvg,$.Blockly.Xml=$.module$exports$Blockly$Xml,$.Blockly.ZoomControls=module$exports$Blockly$ZoomControls.ZoomControls,$.Blockly.blockAnimations=module$exports$Blockly$blockAnimations,$.Blockly.blockRendering=module$exports$Blockly$blockRendering,$.Blockly.browserEvents=module$exports$Blockly$browserEvents,$.Blockly.bumpObjects=module$exports$Blockly$bumpObjects,$.Blockly.clipboard=module$exports$Blockly$clipboard,$.Blockly.common=$.module$exports$Blockly$common,$.Blockly.config=$.module$exports$Blockly$config.config,$.Blockly.connectionTypes=$.module$exports$Blockly$ConnectionType.ConnectionType,$.Blockly.constants=module$exports$Blockly$constants,$.Blockly.dialog=module$exports$Blockly$dialog,$.Blockly.fieldRegistry=module$exports$Blockly$fieldRegistry,$.Blockly.geras=module$exports$Blockly$geras,$.Blockly.inject=module$exports$Blockly$inject_inject,$.Blockly.inputTypes=$.module$exports$Blockly$inputTypes.inputTypes,$.Blockly.minimalist=module$exports$Blockly$minimalist,$.Blockly.registry=module$exports$Blockly$registry,$.Blockly.serialization={blocks:module$exports$Blockly$serialization$blocks,exceptions:module$exports$Blockly$serialization$exceptions,priorities:module$exports$Blockly$serialization$priorities,registry:module$exports$Blockly$serialization$registry,variables:{},workspaces:module$exports$Blockly$serialization$workspaces,ISerializer:module$exports$Blockly$serialization$ISerializer.ISerializer},$.Blockly.thrasos=module$exports$Blockly$thrasos,$.Blockly.uiPosition=module$exports$Blockly$uiPosition,$.Blockly.utils=module$exports$Blockly$utils,$.Blockly.zelos=module$exports$Blockly$zelos,"Blockly"in $.module$exports$Blockly$utils$global.globalThis||($.module$exports$Blockly$utils$global.globalThis.Blockly={Msg:$.module$exports$Blockly$Msg.Msg}),$.Blockly.__namespace__=$,$.Blockly},__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},3:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(904)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(BlocklyBlocks){return BlocklyBlocks})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},904:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(334)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(__parent__){var $=__parent__.__namespace__,module$exports$Blockly$libraryBlocks$variablesDynamic={};module$exports$Blockly$libraryBlocks$variablesDynamic.blocks=(0,$.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]);var module$contents$Blockly$libraryBlocks$variablesDynamic_CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(a){if(this.isInFlyout)"variables_get_dynamic"!==this.type&&"variables_get_reporter_dynamic"!==this.type||(b={text:$.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE,enabled:!0,callback:module$contents$Blockly$libraryBlocks$variablesDynamic_renameOptionCallbackFactory(this)},e=this.getField("VAR").getText(),e={text:$.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE.replace("%1",e),enabled:!0,callback:module$contents$Blockly$libraryBlocks$variablesDynamic_deleteOptionCallbackFactory(this)},a.unshift(b),a.unshift(e));else{var b=this.getFieldValue("VAR"),c=this.workspace.getVariableById(b).type;if("variables_get_dynamic"===this.type){b="variables_set_dynamic";var d=$.module$exports$Blockly$Msg.Msg.VARIABLES_GET_CREATE_SET}else b="variables_get_dynamic",d=$.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET;var e={enabled:0<this.workspace.remainingCapacity()},f=this.getField("VAR").getText();e.text=d.replace("%1",f),(d=(0,$.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name","VAR"),d.setAttribute("variabletype",c),d.appendChild((0,$.module$exports$Blockly$utils$xml.createTextNode)(f)),(c=(0,$.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type",b),c.appendChild(d),e.callback=(0,$.module$exports$Blockly$ContextMenu.callbackFactory)(this,c),a.push(e)}},onchange:function(a){a=this.getFieldValue("VAR"),a=(0,$.module$exports$Blockly$Variables.getVariable)(this.workspace,a),"variables_get_dynamic"===this.type?this.outputConnection.setCheck(a.type):this.getInput("VALUE").connection.setCheck(a.type)}},module$contents$Blockly$libraryBlocks$variablesDynamic_renameOptionCallbackFactory=function(a){return function(){var b=a.workspace,c=a.getField("VAR").getVariable();(0,$.module$exports$Blockly$Variables.renameVariable)(b,c)}},module$contents$Blockly$libraryBlocks$variablesDynamic_deleteOptionCallbackFactory=function(a){return function(){var b=a.workspace,c=a.getField("VAR").getVariable();b.deleteVariableById(c.getId()),b.refreshToolboxSelection()}};(0,$.module$exports$Blockly$Extensions.registerMixin)("contextMenu_variableDynamicSetterGetter",module$contents$Blockly$libraryBlocks$variablesDynamic_CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),(0,$.module$exports$Blockly$common.defineBlocks)(module$exports$Blockly$libraryBlocks$variablesDynamic.blocks);var module$exports$Blockly$libraryBlocks$variables={};module$exports$Blockly$libraryBlocks$variables.blocks=(0,$.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);var module$contents$Blockly$libraryBlocks$variables_CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(a){if(this.isInFlyout)"variables_get"!==this.type&&"variables_get_reporter"!==this.type||(b={text:$.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE,enabled:!0,callback:module$contents$Blockly$libraryBlocks$variables_renameOptionCallbackFactory(this)},d=this.getField("VAR").getText(),d={text:$.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE.replace("%1",d),enabled:!0,callback:module$contents$Blockly$libraryBlocks$variables_deleteOptionCallbackFactory(this)},a.unshift(b),a.unshift(d));else{if("variables_get"===this.type)var b="variables_set",c=$.module$exports$Blockly$Msg.Msg.VARIABLES_GET_CREATE_SET;else b="variables_get",c=$.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET;var d={enabled:0<this.workspace.remainingCapacity()},e=this.getField("VAR").getText();d.text=c.replace("%1",e),(c=(0,$.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name","VAR"),c.appendChild((0,$.module$exports$Blockly$utils$xml.createTextNode)(e)),(e=(0,$.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type",b),e.appendChild(c),d.callback=(0,$.module$exports$Blockly$ContextMenu.callbackFactory)(this,e),a.push(d)}}},module$contents$Blockly$libraryBlocks$variables_renameOptionCallbackFactory=function(a){return function(){var b=a.workspace,c=a.getField("VAR").getVariable();(0,$.module$exports$Blockly$Variables.renameVariable)(b,c)}},module$contents$Blockly$libraryBlocks$variables_deleteOptionCallbackFactory=function(a){return function(){var b=a.workspace,c=a.getField("VAR").getVariable();b.deleteVariableById(c.getId()),b.refreshToolboxSelection()}};(0,$.module$exports$Blockly$Extensions.registerMixin)("contextMenu_variableSetterGetter",module$contents$Blockly$libraryBlocks$variables_CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),(0,$.module$exports$Blockly$common.defineBlocks)(module$exports$Blockly$libraryBlocks$variables.blocks);var module$exports$Blockly$libraryBlocks$texts={};module$exports$Blockly$libraryBlocks$texts.blocks=(0,$.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:""},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),module$exports$Blockly$libraryBlocks$texts.blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[$.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[$.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[$.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[$.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[$.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[$.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl($.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField($.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),$.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField($.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip($.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation"),b=this.getInput("AT1").type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return a.setAttribute("at1",b),b=this.getInput("AT2").type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,a.setAttribute("at2",b),a},domToMutation:function(a){var b="true"===a.getAttribute("at1");a="true"===a.getAttribute("at2"),this.updateAt_(1,b),this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput("AT"+a),this.removeInput("ORDINAL"+a,!0),b?(this.appendValueInput("AT"+a).setCheck("Number"),$.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+a).appendField($.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+a),2===a&&$.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField($.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL));var c=new $.module$exports$Blockly$FieldDropdown.FieldDropdown(this["WHERE_OPTIONS_"+a],(function(d){var e="FROM_START"===d||"FROM_END"===d;if(e!==b){var f=this.getSourceBlock();return f.updateAt_(a,e),f.setFieldValue(d,"WHERE"+a),null}}));this.getInput("AT"+a).appendField(c,"WHERE"+a),1===a&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},module$exports$Blockly$libraryBlocks$texts.blocks.text_changeCase={init:function(){var a=[[$.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[$.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[$.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl($.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new $.module$exports$Blockly$FieldDropdown.FieldDropdown(a),"CASE"),this.setOutput(!0,"String"),this.setTooltip($.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_TOOLTIP)}},module$exports$Blockly$libraryBlocks$texts.blocks.text_trim={init:function(){var a=[[$.module$exports$Blockly$Msg.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[$.module$exports$Blockly$Msg.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[$.module$exports$Blockly$Msg.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl($.module$exports$Blockly$Msg.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new $.module$exports$Blockly$FieldDropdown.FieldDropdown(a),"MODE"),this.setOutput(!0,"String"),this.setTooltip($.module$exports$Blockly$Msg.Msg.TEXT_TRIM_TOOLTIP)}},module$exports$Blockly$libraryBlocks$texts.blocks.text_print={init:function(){this.jsonInit({message0:$.module$exports$Blockly$Msg.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:$.module$exports$Blockly$Msg.Msg.TEXT_PRINT_TOOLTIP,helpUrl:$.module$exports$Blockly$Msg.Msg.TEXT_PRINT_HELPURL})}};var module$contents$Blockly$libraryBlocks$texts_TEXT_PROMPT_COMMON={updateType_:function(a){this.outputConnection.setCheck("NUMBER"===a?"Number":"String")},mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");return a.setAttribute("type",this.getFieldValue("TYPE")),a},domToMutation:function(a){this.updateType_(a.getAttribute("type"))}};module$exports$Blockly$libraryBlocks$texts.blocks.text_prompt_ext=Object.assign({},module$contents$Blockly$libraryBlocks$texts_TEXT_PROMPT_COMMON,{init:function(){var a=[[$.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[$.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl($.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var b=this;a=new $.module$exports$Blockly$FieldDropdown.FieldDropdown(a,(function(c){b.updateType_(c)})),this.appendValueInput("TEXT").appendField(a,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"===b.getFieldValue("TYPE")?$.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_TEXT:$.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))}}),module$exports$Blockly$libraryBlocks$texts.blocks.text_prompt=Object.assign({},module$contents$Blockly$libraryBlocks$texts_TEXT_PROMPT_COMMON,{init:function(){this.mixin(module$contents$Blockly$libraryBlocks$texts_QUOTE_IMAGE_MIXIN);var a=[[$.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[$.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],b=this;this.setHelpUrl($.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),a=new $.module$exports$Blockly$FieldDropdown.FieldDropdown(a,(function(c){b.updateType_(c)})),this.appendDummyInput().appendField(a,"TYPE").appendField(this.newQuote_(!0)).appendField(new $.module$exports$Blockly$FieldTextInput.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"===b.getFieldValue("TYPE")?$.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_TEXT:$.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))}}),module$exports$Blockly$libraryBlocks$texts.blocks.text_count={init:function(){this.jsonInit({message0:$.module$exports$Blockly$Msg.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:$.module$exports$Blockly$Msg.Msg.TEXT_COUNT_TOOLTIP,helpUrl:$.module$exports$Blockly$Msg.Msg.TEXT_COUNT_HELPURL})}},module$exports$Blockly$libraryBlocks$texts.blocks.text_replace={init:function(){this.jsonInit({message0:$.module$exports$Blockly$Msg.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:$.module$exports$Blockly$Msg.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:$.module$exports$Blockly$Msg.Msg.TEXT_REPLACE_HELPURL})}},module$exports$Blockly$libraryBlocks$texts.blocks.text_reverse={init:function(){this.jsonInit({message0:$.module$exports$Blockly$Msg.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:$.module$exports$Blockly$Msg.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:$.module$exports$Blockly$Msg.Msg.TEXT_REVERSE_HELPURL})}};var module$contents$Blockly$libraryBlocks$texts_QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(a){for(var c,b=0;c=this.inputList[b];b++)for(var e,d=0;e=c.fieldRow[d];d++)if(a===e.name)return c.insertFieldAt(d,this.newQuote_(!0)),void c.insertFieldAt(d+2,this.newQuote_(!1));console.warn('field named "'+a+'" not found in '+this.toDevString())},newQuote_:function(a){return a=this.RTL?!a:a,new $.module$exports$Blockly$FieldImage.FieldImage(a?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,a?"":"")}},module$contents$Blockly$libraryBlocks$texts_TEXT_QUOTES_EXTENSION=function(){this.mixin(module$contents$Blockly$libraryBlocks$texts_QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},module$contents$Blockly$libraryBlocks$texts_TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");return a.setAttribute("items",this.itemCount_),a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(a){this.itemCount_=a.itemCount,this.updateShape_()},decompose:function(a){var b=a.newBlock("text_create_join_container");b.initSvg();for(var c=b.getInput("STACK").connection,d=0;d<this.itemCount_;d++){var e=a.newBlock("text_create_join_item");e.initSvg(),c.connect(e.previousConnection),c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock("STACK");for(a=[];b&&!b.isInsertionMarker();)a.push(b.valueConnection_),b=b.nextConnection&&b.nextConnection.targetBlock();for(b=0;b<this.itemCount_;b++){var c=this.getInput("ADD"+b).connection.targetConnection;c&&-1===a.indexOf(c)&&c.disconnect()}for(this.itemCount_=a.length,this.updateShape_(),b=0;b<this.itemCount_;b++)$.module$exports$Blockly$Mutator.Mutator.reconnect(a[b],this,"ADD"+b)},saveConnections:function(a){a=a.getInputTargetBlock("STACK");for(var b=0;a;){var c=this.getInput("ADD"+b);a.valueConnection_=c&&c.connection.targetConnection,a=a.nextConnection&&a.nextConnection.targetBlock(),b++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var a=0;a<this.itemCount_;a++)if(!this.getInput("ADD"+a)){var b=this.appendValueInput("ADD"+a).setAlign($.module$exports$Blockly$Input.Align.RIGHT);0===a&&b.appendField($.module$exports$Blockly$Msg.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(a=this.itemCount_;this.getInput("ADD"+a);a++)this.removeInput("ADD"+a)}},module$contents$Blockly$libraryBlocks$texts_TEXT_JOIN_EXTENSION=function(){this.mixin(module$contents$Blockly$libraryBlocks$texts_QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new $.module$exports$Blockly$Mutator.Mutator(["text_create_join_item"]))};(0,$.module$exports$Blockly$Extensions.register)("text_append_tooltip",(0,$.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var module$contents$Blockly$libraryBlocks$texts_TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var a=this;this.setTooltip((function(){return $.module$exports$Blockly$Msg.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",a.workspace.options.oneBasedIndex?"0":"-1")}))},module$contents$Blockly$libraryBlocks$texts_TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");return a.setAttribute("at",!!this.isAt_),a},domToMutation:function(a){a="false"!==a.getAttribute("at"),this.updateAt_(a)},updateAt_:function(a){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),a&&(this.appendValueInput("AT").setCheck("Number"),$.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField($.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)),$.module$exports$Blockly$Msg.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField($.module$exports$Blockly$Msg.Msg.TEXT_CHARAT_TAIL)),this.isAt_=a}},module$contents$Blockly$libraryBlocks$texts_TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator((function(b){(b="FROM_START"===b||"FROM_END"===b)!==this.isAt_&&this.getSourceBlock().updateAt_(b)})),this.updateAt_(!0);var a=this;this.setTooltip((function(){var b=a.getFieldValue("WHERE"),c=$.module$exports$Blockly$Msg.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"===b||"FROM_END"===b)&&(b="FROM_START"===b?$.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_START_TOOLTIP:$.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(c+="  "+b.replace("%1",a.workspace.options.oneBasedIndex?"#1":"#0")),c}))};(0,$.module$exports$Blockly$Extensions.register)("text_indexOf_tooltip",module$contents$Blockly$libraryBlocks$texts_TEXT_INDEXOF_TOOLTIP_EXTENSION),(0,$.module$exports$Blockly$Extensions.register)("text_quotes",module$contents$Blockly$libraryBlocks$texts_TEXT_QUOTES_EXTENSION),(0,$.module$exports$Blockly$Extensions.registerMutator)("text_join_mutator",module$contents$Blockly$libraryBlocks$texts_TEXT_JOIN_MUTATOR_MIXIN,module$contents$Blockly$libraryBlocks$texts_TEXT_JOIN_EXTENSION),(0,$.module$exports$Blockly$Extensions.registerMutator)("text_charAt_mutator",module$contents$Blockly$libraryBlocks$texts_TEXT_CHARAT_MUTATOR_MIXIN,module$contents$Blockly$libraryBlocks$texts_TEXT_CHARAT_EXTENSION),(0,$.module$exports$Blockly$common.defineBlocks)(module$exports$Blockly$libraryBlocks$texts.blocks);var module$exports$Blockly$libraryBlocks$procedures={blocks:{}},module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_DEF_COMMON={setStatements_:function(a){this.hasStatements_!==a&&(a?(this.appendStatementInput("STACK").appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=a)},updateParams_:function(){var a="";this.arguments_.length&&(a=$.module$exports$Blockly$Msg.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),(0,$.module$exports$Blockly$Events.disable)();try{this.setFieldValue(a,"PARAMS")}finally{(0,$.module$exports$Blockly$Events.enable)()}},mutationToDom:function(a){var b=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");a&&b.setAttribute("name",this.getFieldValue("NAME"));for(var c=0;c<this.argumentVarModels_.length;c++){var d=(0,$.module$exports$Blockly$utils$xml.createElement)("arg"),e=this.argumentVarModels_[c];d.setAttribute("name",e.name),d.setAttribute("varid",e.getId()),a&&this.paramIds_&&d.setAttribute("paramId",this.paramIds_[c]),b.appendChild(d)}return this.hasStatements_||b.setAttribute("statements","false"),b},domToMutation:function(a){this.arguments_=[],this.argumentVarModels_=[];for(var c,b=0;c=a.childNodes[b];b++)if("arg"===c.nodeName.toLowerCase()){var d=c.getAttribute("name");c=c.getAttribute("varid")||c.getAttribute("varId"),this.arguments_.push(d),null!==(c=(0,$.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.workspace,c,d,""))?this.argumentVarModels_.push(c):console.log("Failed to create a variable with name "+d+", ignoring.")}this.updateParams_(),(0,$.module$exports$Blockly$Procedures.mutateCallers)(this),this.setStatements_("false"!==a.getAttribute("statements"))},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;var a=Object.create(null);if(this.argumentVarModels_.length){a.params=[];for(var b=0;b<this.argumentVarModels_.length;b++)a.params.push({name:this.argumentVarModels_[b].name,id:this.argumentVarModels_[b].getId()})}return this.hasStatements_||(a.hasStatements=!1),a},loadExtraState:function(a){if(this.arguments_=[],this.argumentVarModels_=[],a.params)for(var b=0;b<a.params.length;b++){var c=a.params[b];c=(0,$.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.workspace,c.id,c.name,""),this.arguments_.push(c.name),this.argumentVarModels_.push(c)}this.updateParams_(),(0,$.module$exports$Blockly$Procedures.mutateCallers)(this),this.setStatements_(!1!==a.hasStatements)},decompose:function(a){var b=(0,$.module$exports$Blockly$utils$xml.createElement)("block");b.setAttribute("type","procedures_mutatorcontainer");var c=(0,$.module$exports$Blockly$utils$xml.createElement)("statement");c.setAttribute("name","STACK"),b.appendChild(c);for(var d=0;d<this.arguments_.length;d++){var e=(0,$.module$exports$Blockly$utils$xml.createElement)("block");e.setAttribute("type","procedures_mutatorarg");var f=(0,$.module$exports$Blockly$utils$xml.createElement)("field");f.setAttribute("name","NAME");var g=(0,$.module$exports$Blockly$utils$xml.createTextNode)(this.arguments_[d]);f.appendChild(g),e.appendChild(f),f=(0,$.module$exports$Blockly$utils$xml.createElement)("next"),e.appendChild(f),c.appendChild(e),c=f}return a=(0,$.module$exports$Blockly$Xml.domToBlock)(b,a),"procedures_defreturn"===this.type?a.setFieldValue(this.hasStatements_,"STATEMENTS"):a.removeInput("STATEMENT_INPUT"),(0,$.module$exports$Blockly$Procedures.mutateCallers)(this),a},compose:function(a){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var b=a.getInputTargetBlock("STACK");b&&!b.isInsertionMarker();){var c=b.getFieldValue("NAME");this.arguments_.push(c),c=this.workspace.getVariable(c,""),this.argumentVarModels_.push(c),this.paramIds_.push(b.id),b=b.nextConnection&&b.nextConnection.targetBlock()}this.updateParams_(),(0,$.module$exports$Blockly$Procedures.mutateCallers)(this),null!==(a=a.getFieldValue("STATEMENTS"))&&(a="TRUE"===a,this.hasStatements_!==a)&&(a?(this.setStatements_(!0),$.module$exports$Blockly$Mutator.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(a=this.getInput("STACK").connection,(this.statementConnection_=a.targetConnection)&&((a=a.targetBlock()).unplug(),a.bumpNeighbours()),this.setStatements_(!1)))},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(a,b){var c=this.workspace.getVariableById(a);if(""===c.type){c=c.name,b=this.workspace.getVariableById(b);for(var d=!1,e=0;e<this.argumentVarModels_.length;e++)this.argumentVarModels_[e].getId()===a&&(this.arguments_[e]=b.name,this.argumentVarModels_[e]=b,d=!0);d&&(this.displayRenamedVar_(c,b.name),(0,$.module$exports$Blockly$Procedures.mutateCallers)(this))}},updateVarName:function(a){for(var d,b=a.name,c=!1,e=0;e<this.argumentVarModels_.length;e++)this.argumentVarModels_[e].getId()===a.getId()&&(d=this.arguments_[e],this.arguments_[e]=b,c=!0);c&&(this.displayRenamedVar_(d,b),(0,$.module$exports$Blockly$Procedures.mutateCallers)(this))},displayRenamedVar_:function(a,b){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var e,c=this.mutator.workspace_.getAllBlocks(!1),d=0;e=c[d];d++)"procedures_mutatorarg"===e.type&&$.module$exports$Blockly$Names.Names.equals(a,e.getFieldValue("NAME"))&&e.setFieldValue(b,"NAME")},customContextMenu:function(a){if(!this.isInFlyout){var b={enabled:!0},c=this.getFieldValue("NAME");b.text=$.module$exports$Blockly$Msg.Msg.PROCEDURES_CREATE_DO.replace("%1",c);var d=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");for(d.setAttribute("name",c),c=0;c<this.arguments_.length;c++){var e=(0,$.module$exports$Blockly$utils$xml.createElement)("arg");e.setAttribute("name",this.arguments_[c]),d.appendChild(e)}if((c=(0,$.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type",this.callType_),c.appendChild(d),b.callback=(0,$.module$exports$Blockly$ContextMenu.callbackFactory)(this,c),a.push(b),!this.isCollapsed())for(b=0;b<this.argumentVarModels_.length;b++)d={enabled:!0},c=this.argumentVarModels_[b],d.text=$.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET.replace("%1",c.name),c=(0,$.module$exports$Blockly$Variables.generateVariableFieldDom)(c),(e=(0,$.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","variables_get"),e.appendChild(c),d.callback=(0,$.module$exports$Blockly$ContextMenu.callbackFactory)(this,e),a.push(d)}}};module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_defnoreturn=Object.assign({},module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_DEF_COMMON,{init:function(){var a=(0,$.module$exports$Blockly$Procedures.findLegalName)("",this);(a=new $.module$exports$Blockly$FieldTextInput.FieldTextInput(a,$.module$exports$Blockly$Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a,"NAME").appendField("","PARAMS"),this.setMutator(new $.module$exports$Blockly$Mutator.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&$.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_defreturn=Object.assign({},module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_DEF_COMMON,{init:function(){var a=(0,$.module$exports$Blockly$Procedures.findLegalName)("",this);(a=new $.module$exports$Blockly$FieldTextInput.FieldTextInput(a,$.module$exports$Blockly$Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(a,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign($.module$exports$Blockly$Input.Align.RIGHT).appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new $.module$exports$Blockly$Mutator.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&$.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"}),module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new $.module$exports$Blockly$FieldCheckbox.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip($.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_mutatorarg={init:function(){var a=new $.module$exports$Blockly$FieldTextInput.FieldTextInput($.module$exports$Blockly$Procedures.DEFAULT_ARG,this.validator_);a.oldShowEditorFn_=a.showEditor_,a.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(a,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip($.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,a.onFinishEditing_=this.deleteIntermediateVars_,a.createdVariables_=[],a.onFinishEditing_("x")},validator_:function(a){var b=this.getSourceBlock(),c=$.module$exports$Blockly$Mutator.Mutator.findParentWs(b.workspace);if(!(a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var d=(b.workspace.targetWorkspace||b.workspace).getAllBlocks(!1),e=a.toLowerCase(),f=0;f<d.length;f++)if(d[f].id!==this.getSourceBlock().id){var g=d[f].getFieldValue("NAME");if(g&&g.toLowerCase()===e)return null}return b.isInFlyout||((b=c.getVariable(a,""))&&b.name!==a&&c.renameVariableById(b.getId(),a),b||(b=c.createVariable(a,""))&&this.createdVariables_&&this.createdVariables_.push(b)),a},deleteIntermediateVars_:function(a){var b=$.module$exports$Blockly$Mutator.Mutator.findParentWs(this.getSourceBlock().workspace);if(b)for(var c=0;c<this.createdVariables_.length;c++){var d=this.createdVariables_[c];d.name!==a&&b.deleteVariableById(d.getId())}}};var module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_CALL_COMMON={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(a,b){$.module$exports$Blockly$Names.Names.equals(a,this.getProcedureCall())&&(this.setFieldValue(b,"NAME"),this.setTooltip((this.outputConnection?$.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLRETURN_TOOLTIP:$.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},setProcedureParameters_:function(a,b){var c=(0,$.module$exports$Blockly$Procedures.getDefinition)(this.getProcedureCall(),this.workspace),d=c&&c.mutator&&c.mutator.isVisible();if(d?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),a.join("\n")===this.arguments_.join("\n"))this.quarkIds_=b;else{if(b.length!==a.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),c=this.rendered,this.rendered=!1;for(var e=0;e<this.arguments_.length;e++){var f=this.getInput("ARG"+e);f&&(f=f.connection.targetConnection,this.quarkConnections_[this.quarkIds_[e]]=f,d&&f&&-1===b.indexOf(this.quarkIds_[e])&&(f.disconnect(),f.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(a),this.argumentVarModels_=[],a=0;a<this.arguments_.length;a++)d=(0,$.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.workspace,null,this.arguments_[a],""),this.argumentVarModels_.push(d);if(this.updateShape_(),this.quarkIds_=b)for(b=0;b<this.arguments_.length;b++)(a=this.quarkIds_[b])in this.quarkConnections_&&($.module$exports$Blockly$Mutator.Mutator.reconnect(this.quarkConnections_[a],this,"ARG"+b)||delete this.quarkConnections_[a]);(this.rendered=c)&&this.render()}},updateShape_:function(){for(var a=0;a<this.arguments_.length;a++){var b=this.getField("ARGNAME"+a);if(b){(0,$.module$exports$Blockly$Events.disable)();try{b.setValue(this.arguments_[a])}finally{(0,$.module$exports$Blockly$Events.enable)()}}else b=new $.module$exports$Blockly$FieldLabel.FieldLabel(this.arguments_[a]),this.appendValueInput("ARG"+a).setAlign($.module$exports$Blockly$Input.Align.RIGHT).appendField(b,"ARGNAME"+a).init()}for(a=this.arguments_.length;this.getInput("ARG"+a);a++)this.removeInput("ARG"+a);(a=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(a.appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),a.init()):this.getField("WITH")&&a.removeField("WITH"))},mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");a.setAttribute("name",this.getProcedureCall());for(var b=0;b<this.arguments_.length;b++){var c=(0,$.module$exports$Blockly$utils$xml.createElement)("arg");c.setAttribute("name",this.arguments_[b]),a.appendChild(c)}return a},domToMutation:function(a){var b=a.getAttribute("name");this.renameProcedure(this.getProcedureCall(),b),b=[];for(var e,c=[],d=0;e=a.childNodes[d];d++)"arg"===e.nodeName.toLowerCase()&&(b.push(e.getAttribute("name")),c.push(e.getAttribute("paramId")));this.setProcedureParameters_(b,c)},saveExtraState:function(){var a=Object.create(null);return a.name=this.getProcedureCall(),this.arguments_.length&&(a.params=this.arguments_),a},loadExtraState:function(a){if(this.renameProcedure(this.getProcedureCall(),a.name),a=a.params){var b=[];b.length=a.length,b.fill(null),this.setProcedureParameters_(a,b)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(a){if(this.workspace&&!this.workspace.isFlyout&&a.recordUndo)if(a.type===$.module$exports$Blockly$Events.BLOCK_CREATE&&-1!==a.ids.indexOf(this.id)){var b=this.getProcedureCall();if(!(b=(0,$.module$exports$Blockly$Procedures.getDefinition)(b,this.workspace))||b.type===this.defType_&&JSON.stringify(b.getVars())===JSON.stringify(this.arguments_)||(b=null),!b){(0,$.module$exports$Blockly$Events.setGroup)(a.group),a=(0,$.module$exports$Blockly$utils$xml.createElement)("xml"),(b=(0,$.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type",this.defType_);var c=this.getRelativeToSurfaceXY(),d=c.y+2*$.module$exports$Blockly$config.config.snapRadius;b.setAttribute("x",c.x+$.module$exports$Blockly$config.config.snapRadius*(this.RTL?-1:1)),b.setAttribute("y",d),c=this.mutationToDom(),b.appendChild(c),(c=(0,$.module$exports$Blockly$utils$xml.createElement)("field")).setAttribute("name","NAME"),d=this.getProcedureCall();var e=(0,$.module$exports$Blockly$Procedures.findLegalName)(d,this);d!==e&&this.renameProcedure(d,e),c.appendChild((0,$.module$exports$Blockly$utils$xml.createTextNode)(d)),b.appendChild(c),a.appendChild(b),(0,$.module$exports$Blockly$Xml.domToWorkspace)(a,this.workspace),(0,$.module$exports$Blockly$Events.setGroup)(!1)}}else a.type===$.module$exports$Blockly$Events.BLOCK_DELETE?(b=this.getProcedureCall(),(0,$.module$exports$Blockly$Procedures.getDefinition)(b,this.workspace)||((0,$.module$exports$Blockly$Events.setGroup)(a.group),this.dispose(!0),(0,$.module$exports$Blockly$Events.setGroup)(!1))):a.type===$.module$exports$Blockly$Events.CHANGE&&"disabled"===a.element&&(b=this.getProcedureCall(),(b=(0,$.module$exports$Blockly$Procedures.getDefinition)(b,this.workspace))&&b.id===a.blockId&&((b=(0,$.module$exports$Blockly$Events.getGroup)())&&console.log("Saw an existing group while responding to a definition change"),(0,$.module$exports$Blockly$Events.setGroup)(a.group),a.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),(0,$.module$exports$Blockly$Events.setGroup)(b)))},customContextMenu:function(a){if(this.workspace.isMovable()){var b={enabled:!0};b.text=$.module$exports$Blockly$Msg.Msg.PROCEDURES_HIGHLIGHT_DEF;var c=this.getProcedureCall(),d=this.workspace;b.callback=function(){var e=(0,$.module$exports$Blockly$Procedures.getDefinition)(c,d);e&&(d.centerOnBlock(e.id),e.select())},a.push(b)}}};module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_callnoreturn=Object.assign({},module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_CALL_COMMON,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl($.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defnoreturn"}),module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_callreturn=Object.assign({},module$contents$Blockly$libraryBlocks$procedures_PROCEDURE_CALL_COMMON,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl($.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defreturn"}),module$exports$Blockly$libraryBlocks$procedures.blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField($.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip($.module$exports$Blockly$Msg.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl($.module$exports$Blockly$Msg.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");return a.setAttribute("value",Number(this.hasReturnValue_)),a},domToMutation:function(a){this.hasReturnValue_="1"===a.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(a){if(!(this.workspace.isDragging&&this.workspace.isDragging()||a.type!==$.module$exports$Blockly$Events.BLOCK_MOVE)){var b=!1,c=this;do{if(-1!==this.FUNCTION_TYPES.indexOf(c.type)){b=!0;break}c=c.getSurroundParent()}while(c);b?("procedures_defnoreturn"===c.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!==c.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField($.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText($.module$exports$Blockly$Msg.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||(c=(0,$.module$exports$Blockly$Events.getGroup)(),(0,$.module$exports$Blockly$Events.setGroup)(a.group),this.setEnabled(b),(0,$.module$exports$Blockly$Events.setGroup)(c))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},(0,$.module$exports$Blockly$common.defineBlocks)(module$exports$Blockly$libraryBlocks$procedures.blocks);var module$exports$Blockly$libraryBlocks$math={};module$exports$Blockly$libraryBlocks$math.blocks=(0,$.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["","PI"],["e","E"],["","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt()","SQRT1_2"],["","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);var module$contents$Blockly$libraryBlocks$math_TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};(0,$.module$exports$Blockly$Extensions.register)("math_op_tooltip",(0,$.module$exports$Blockly$Extensions.buildTooltipForDropdown)("OP",module$contents$Blockly$libraryBlocks$math_TOOLTIPS_BY_OP));var module$contents$Blockly$libraryBlocks$math_IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation"),b="DIVISIBLE_BY"===this.getFieldValue("PROPERTY");return a.setAttribute("divisor_input",b),a},domToMutation:function(a){a="true"===a.getAttribute("divisor_input"),this.updateShape_(a)},updateShape_:function(a){var b=this.getInput("DIVISOR");a?b||this.appendValueInput("DIVISOR").setCheck("Number"):b&&this.removeInput("DIVISOR")}},module$contents$Blockly$libraryBlocks$math_IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator((function(a){a="DIVISIBLE_BY"===a,this.getSourceBlock().updateShape_(a)}))};(0,$.module$exports$Blockly$Extensions.registerMutator)("math_is_divisibleby_mutator",module$contents$Blockly$libraryBlocks$math_IS_DIVISIBLEBY_MUTATOR_MIXIN,module$contents$Blockly$libraryBlocks$math_IS_DIVISIBLE_MUTATOR_EXTENSION),(0,$.module$exports$Blockly$Extensions.register)("math_change_tooltip",(0,$.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var module$contents$Blockly$libraryBlocks$math_LIST_MODES_MUTATOR_MIXIN={updateType_:function(a){"MODE"===a?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");return a.setAttribute("op",this.getFieldValue("OP")),a},domToMutation:function(a){this.updateType_(a.getAttribute("op"))}},module$contents$Blockly$libraryBlocks$math_LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(a){this.updateType_(a)}.bind(this))};(0,$.module$exports$Blockly$Extensions.registerMutator)("math_modes_of_list_mutator",module$contents$Blockly$libraryBlocks$math_LIST_MODES_MUTATOR_MIXIN,module$contents$Blockly$libraryBlocks$math_LIST_MODES_MUTATOR_EXTENSION),(0,$.module$exports$Blockly$common.defineBlocks)(module$exports$Blockly$libraryBlocks$math.blocks);var module$exports$Blockly$libraryBlocks$loops={};module$exports$Blockly$libraryBlocks$loops.blocks=(0,$.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]);var module$contents$Blockly$libraryBlocks$loops_WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};(0,$.module$exports$Blockly$Extensions.register)("controls_whileUntil_tooltip",(0,$.module$exports$Blockly$Extensions.buildTooltipForDropdown)("MODE",module$contents$Blockly$libraryBlocks$loops_WHILE_UNTIL_TOOLTIPS));var module$contents$Blockly$libraryBlocks$loops_BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};(0,$.module$exports$Blockly$Extensions.register)("controls_flow_tooltip",(0,$.module$exports$Blockly$Extensions.buildTooltipForDropdown)("FLOW",module$contents$Blockly$libraryBlocks$loops_BREAK_CONTINUE_TOOLTIPS));var module$contents$Blockly$libraryBlocks$loops_CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(a){if(!this.isInFlyout){var b=this.getField("VAR").getVariable(),c=b.name;if(!this.isCollapsed()&&null!==c){var d={enabled:!0};d.text=$.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET.replace("%1",c),b=(0,$.module$exports$Blockly$Variables.generateVariableFieldDom)(b),(c=(0,$.module$exports$Blockly$utils$xml.createElement)("block")).setAttribute("type","variables_get"),c.appendChild(b),d.callback=(0,$.module$exports$Blockly$ContextMenu.callbackFactory)(this,c),a.push(d)}}}};(0,$.module$exports$Blockly$Extensions.registerMixin)("contextMenu_newGetVariableBlock",module$contents$Blockly$libraryBlocks$loops_CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),(0,$.module$exports$Blockly$Extensions.register)("controls_for_tooltip",(0,$.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),(0,$.module$exports$Blockly$Extensions.register)("controls_forEach_tooltip",(0,$.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),module$exports$Blockly$libraryBlocks$loops.loopTypes=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]);var module$contents$Blockly$libraryBlocks$loops_CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={getSurroundLoop:function(){var a=this;do{if(module$exports$Blockly$libraryBlocks$loops.loopTypes.has(a.type))return a;a=a.getSurroundParent()}while(a);return null},onchange:function(a){if(this.workspace.isDragging&&!this.workspace.isDragging()&&a.type===$.module$exports$Blockly$Events.BLOCK_MOVE){var b=this.getSurroundLoop(this);if(this.setWarningText(b?null:$.module$exports$Blockly$Msg.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var c=(0,$.module$exports$Blockly$Events.getGroup)();(0,$.module$exports$Blockly$Events.setGroup)(a.group),this.setEnabled(b),(0,$.module$exports$Blockly$Events.setGroup)(c)}}}};(0,$.module$exports$Blockly$Extensions.registerMixin)("controls_flow_in_loop_check",module$contents$Blockly$libraryBlocks$loops_CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),(0,$.module$exports$Blockly$common.defineBlocks)(module$exports$Blockly$libraryBlocks$loops.blocks);var module$exports$Blockly$libraryBlocks$logic={};module$exports$Blockly$libraryBlocks$logic.blocks=(0,$.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["","NEQ"],["<","LT"],["","LTE"],[">","GT"],["","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);var module$contents$Blockly$libraryBlocks$logic_TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};(0,$.module$exports$Blockly$Extensions.register)("logic_op_tooltip",(0,$.module$exports$Blockly$Extensions.buildTooltipForDropdown)("OP",module$contents$Blockly$libraryBlocks$logic_TOOLTIPS_BY_OP));var module$contents$Blockly$libraryBlocks$logic_CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");return this.elseifCount_&&a.setAttribute("elseif",this.elseifCount_),this.elseCount_&&a.setAttribute("else",1),a},domToMutation:function(a){this.elseifCount_=parseInt(a.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(a.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var a=Object.create(null);return this.elseifCount_&&(a.elseIfCount=this.elseifCount_),this.elseCount_&&(a.hasElse=!0),a},loadExtraState:function(a){this.elseifCount_=a.elseIfCount||0,this.elseCount_=a.hasElse?1:0,this.updateShape_()},decompose:function(a){var b=a.newBlock("controls_if_if");b.initSvg();for(var c=b.nextConnection,d=1;d<=this.elseifCount_;d++){var e=a.newBlock("controls_if_elseif");e.initSvg(),c.connect(e.previousConnection),c=e.nextConnection}return this.elseCount_&&((a=a.newBlock("controls_if_else")).initSvg(),c.connect(a.previousConnection)),b},compose:function(a){a=a.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var b=[null],c=[null],d=null;a&&!a.isInsertionMarker();){switch(a.type){case"controls_if_elseif":this.elseifCount_++,b.push(a.valueConnection_),c.push(a.statementConnection_);break;case"controls_if_else":this.elseCount_++,d=a.statementConnection_;break;default:throw TypeError("Unknown block type: "+a.type)}a=a.nextConnection&&a.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(b,c,d)},saveConnections:function(a){a=a.nextConnection.targetBlock();for(var b=1;a;){switch(a.type){case"controls_if_elseif":var c=this.getInput("IF"+b),d=this.getInput("DO"+b);a.valueConnection_=c&&c.connection.targetConnection,a.statementConnection_=d&&d.connection.targetConnection,b++;break;case"controls_if_else":c=this.getInput("ELSE"),a.statementConnection_=c&&c.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+a.type)}a=a.nextConnection&&a.nextConnection.targetBlock()}},rebuildShape_:function(){var a=[null],b=[null],c=null;this.getInput("ELSE")&&(c=this.getInput("ELSE").connection.targetConnection);for(var d=1;this.getInput("IF"+d);d++){var e=this.getInput("IF"+d),f=this.getInput("DO"+d);a.push(e.connection.targetConnection),b.push(f.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(a,b,c)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var a=1;this.getInput("IF"+a);a++)this.removeInput("IF"+a),this.removeInput("DO"+a);for(a=1;a<=this.elseifCount_;a++)this.appendValueInput("IF"+a).setCheck("Boolean").appendField($.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+a).appendField($.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField($.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(a,b,c){for(var d=1;d<=this.elseifCount_;d++)$.module$exports$Blockly$Mutator.Mutator.reconnect(a[d],this,"IF"+d),$.module$exports$Blockly$Mutator.Mutator.reconnect(b[d],this,"DO"+d);$.module$exports$Blockly$Mutator.Mutator.reconnect(c,this,"ELSE")}};(0,$.module$exports$Blockly$Extensions.registerMutator)("controls_if_mutator",module$contents$Blockly$libraryBlocks$logic_CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]);var module$contents$Blockly$libraryBlocks$logic_CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?$.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?$.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?$.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_4:"":$.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))};(0,$.module$exports$Blockly$Extensions.register)("controls_if_tooltip",module$contents$Blockly$libraryBlocks$logic_CONTROLS_IF_TOOLTIP_EXTENSION);var module$contents$Blockly$libraryBlocks$logic_LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(a){this.prevBlocks_||(this.prevBlocks_=[null,null]);var b=this.getInputTargetBlock("A"),c=this.getInputTargetBlock("B");b&&c&&!this.workspace.connectionChecker.doTypeChecks(b.outputConnection,c.outputConnection)&&((0,$.module$exports$Blockly$Events.setGroup)(a.group),(a=this.prevBlocks_[0])!==b&&(b.unplug(),!a||a.isDisposed()||a.isShadow()||this.getInput("A").connection.connect(a.outputConnection)),(b=this.prevBlocks_[1])!==c&&(c.unplug(),!b||b.isDisposed()||b.isShadow()||this.getInput("B").connection.connect(b.outputConnection)),this.bumpNeighbours(),(0,$.module$exports$Blockly$Events.setGroup)(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},module$contents$Blockly$libraryBlocks$logic_LOGIC_COMPARE_EXTENSION=function(){this.mixin(module$contents$Blockly$libraryBlocks$logic_LOGIC_COMPARE_ONCHANGE_MIXIN)};(0,$.module$exports$Blockly$Extensions.register)("logic_compare",module$contents$Blockly$libraryBlocks$logic_LOGIC_COMPARE_EXTENSION);var module$contents$Blockly$libraryBlocks$logic_LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(a){var b=this.getInputTargetBlock("THEN"),c=this.getInputTargetBlock("ELSE"),d=this.outputConnection.targetConnection;if((b||c)&&d)for(var e=0;2>e;e++){var f=1===e?b:c;f&&!f.workspace.connectionChecker.doTypeChecks(f.outputConnection,d)&&((0,$.module$exports$Blockly$Events.setGroup)(a.group),d===this.prevParentConnection_?(this.unplug(),d.getSourceBlock().bumpNeighbours()):(f.unplug(),f.bumpNeighbours()),(0,$.module$exports$Blockly$Events.setGroup)(!1))}this.prevParentConnection_=d}};(0,$.module$exports$Blockly$Extensions.registerMixin)("logic_ternary",module$contents$Blockly$libraryBlocks$logic_LOGIC_TERNARY_ONCHANGE_MIXIN),(0,$.module$exports$Blockly$common.defineBlocks)(module$exports$Blockly$libraryBlocks$logic.blocks);var module$exports$Blockly$libraryBlocks$lists={};module$exports$Blockly$libraryBlocks$lists.blocks=(0,$.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),module$exports$Blockly$libraryBlocks$lists.blocks.lists_create_with={init:function(){this.setHelpUrl($.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new $.module$exports$Blockly$Mutator.Mutator(["lists_create_with_item"])),this.setTooltip($.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");return a.setAttribute("items",this.itemCount_),a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(a){this.itemCount_=a.itemCount,this.updateShape_()},decompose:function(a){var b=a.newBlock("lists_create_with_container");b.initSvg();for(var c=b.getInput("STACK").connection,d=0;d<this.itemCount_;d++){var e=a.newBlock("lists_create_with_item");e.initSvg(),c.connect(e.previousConnection),c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock("STACK");for(a=[];b&&!b.isInsertionMarker();)a.push(b.valueConnection_),b=b.nextConnection&&b.nextConnection.targetBlock();for(b=0;b<this.itemCount_;b++){var c=this.getInput("ADD"+b).connection.targetConnection;c&&-1===a.indexOf(c)&&c.disconnect()}for(this.itemCount_=a.length,this.updateShape_(),b=0;b<this.itemCount_;b++)$.module$exports$Blockly$Mutator.Mutator.reconnect(a[b],this,"ADD"+b)},saveConnections:function(a){a=a.getInputTargetBlock("STACK");for(var b=0;a;){var c=this.getInput("ADD"+b);a.valueConnection_=c&&c.connection.targetConnection,a=a.nextConnection&&a.nextConnection.targetBlock(),b++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField($.module$exports$Blockly$Msg.Msg.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.itemCount_;a++)if(!this.getInput("ADD"+a)){var b=this.appendValueInput("ADD"+a).setAlign($.module$exports$Blockly$Input.Align.RIGHT);0===a&&b.appendField($.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(a=this.itemCount_;this.getInput("ADD"+a);a++)this.removeInput("ADD"+a)}},module$exports$Blockly$libraryBlocks$lists.blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField($.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip($.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},module$exports$Blockly$libraryBlocks$lists.blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField($.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip($.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},module$exports$Blockly$libraryBlocks$lists.blocks.lists_indexOf={init:function(){var a=[[$.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[$.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl($.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField($.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new $.module$exports$Blockly$FieldDropdown.FieldDropdown(a),"END"),this.setInputsInline(!0);var b=this;this.setTooltip((function(){return $.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",b.workspace.options.oneBasedIndex?"0":"-1")}))}},module$exports$Blockly$libraryBlocks$lists.blocks.lists_getIndex={init:function(){var a=[[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_GET,"GET"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_LAST,"LAST"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl($.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),a=new $.module$exports$Blockly$FieldDropdown.FieldDropdown(a,(function(c){c="REMOVE"===c,this.getSourceBlock().updateStatement_(c)})),this.appendValueInput("VALUE").setCheck("Array").appendField($.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(a,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField($.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var b=this;this.setTooltip((function(){var c=b.getFieldValue("MODE"),d=b.getFieldValue("WHERE"),e="";switch(c+" "+d){case"GET FROM_START":case"GET FROM_END":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":e=$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!==d&&"FROM_END"!==d||(e+="  "+("FROM_START"===d?$.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_START_TOOLTIP:$.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.workspace.options.oneBasedIndex?"#1":"#0")),e}))},mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");a.setAttribute("statement",!this.outputConnection);var b=this.getInput("AT").type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return a.setAttribute("at",b),a},domToMutation:function(a){var b="true"===a.getAttribute("statement");this.updateStatement_(b),a="false"!==a.getAttribute("at"),this.updateAt_(a)},updateStatement_:function(a){a!==!this.outputConnection&&(this.unplug(!0,!0),a?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(a){this.removeInput("AT"),this.removeInput("ORDINAL",!0),a?(this.appendValueInput("AT").setCheck("Number"),$.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField($.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var b=new $.module$exports$Blockly$FieldDropdown.FieldDropdown(this.WHERE_OPTIONS,(function(c){var d="FROM_START"===c||"FROM_END"===c;if(d!==a){var e=this.getSourceBlock();return e.updateAt_(d),e.setFieldValue(c,"WHERE"),null}}));this.getInput("AT").appendField(b,"WHERE"),$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},module$exports$Blockly$libraryBlocks$lists.blocks.lists_setIndex={init:function(){var a=[[$.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_SET,"SET"],[$.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_LAST,"LAST"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl($.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField($.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new $.module$exports$Blockly$FieldDropdown.FieldDropdown(a),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField($.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip($.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var b=this;this.setTooltip((function(){var c=b.getFieldValue("MODE"),d=b.getFieldValue("WHERE"),e="";switch(c+" "+d){case"SET FROM_START":case"SET FROM_END":e=$.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":e=$.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":e=$.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":e=$.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":e=$.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":e=$.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":e=$.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":e=$.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!==d&&"FROM_END"!==d||(e+="  "+$.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.workspace.options.oneBasedIndex?"#1":"#0")),e}))},mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation"),b=this.getInput("AT").type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return a.setAttribute("at",b),a},domToMutation:function(a){a="false"!==a.getAttribute("at"),this.updateAt_(a)},updateAt_:function(a){this.removeInput("AT"),this.removeInput("ORDINAL",!0),a?(this.appendValueInput("AT").setCheck("Number"),$.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField($.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var b=new $.module$exports$Blockly$FieldDropdown.FieldDropdown(this.WHERE_OPTIONS,(function(c){var d="FROM_START"===c||"FROM_END"===c;if(d!==a){var e=this.getSourceBlock();return e.updateAt_(d),e.setFieldValue(c,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(b,"WHERE")}},module$exports$Blockly$libraryBlocks$lists.blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[$.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[$.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[$.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl($.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField($.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),$.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField($.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip($.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation"),b=this.getInput("AT1").type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return a.setAttribute("at1",b),b=this.getInput("AT2").type===$.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,a.setAttribute("at2",b),a},domToMutation:function(a){var b="true"===a.getAttribute("at1");a="true"===a.getAttribute("at2"),this.updateAt_(1,b),this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput("AT"+a),this.removeInput("ORDINAL"+a,!0),b?(this.appendValueInput("AT"+a).setCheck("Number"),$.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+a).appendField($.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+a);var c=new $.module$exports$Blockly$FieldDropdown.FieldDropdown(this["WHERE_OPTIONS_"+a],(function(d){var e="FROM_START"===d||"FROM_END"===d;if(e!==b){var f=this.getSourceBlock();return f.updateAt_(a,e),f.setFieldValue(d,"WHERE"+a),null}}));this.getInput("AT"+a).appendField(c,"WHERE"+a),1===a&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),$.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},module$exports$Blockly$libraryBlocks$lists.blocks.lists_sort={init:function(){this.jsonInit({message0:$.module$exports$Blockly$Msg.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[$.module$exports$Blockly$Msg.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[$.module$exports$Blockly$Msg.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[$.module$exports$Blockly$Msg.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[$.module$exports$Blockly$Msg.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[$.module$exports$Blockly$Msg.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:$.module$exports$Blockly$Msg.Msg.LISTS_SORT_TOOLTIP,helpUrl:$.module$exports$Blockly$Msg.Msg.LISTS_SORT_HELPURL})}},module$exports$Blockly$libraryBlocks$lists.blocks.lists_split={init:function(){var a=this,b=new $.module$exports$Blockly$FieldDropdown.FieldDropdown([[$.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[$.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(c){a.updateType_(c)}));this.setHelpUrl($.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(b,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField($.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){var c=a.getFieldValue("MODE");if("SPLIT"===c)return $.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"===c)return $.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+c)}))},updateType_:function(a){if(this.getFieldValue("MODE")!==a){var b=this.getInput("INPUT").connection;b.setShadowDom(null);var c=b.targetBlock();c&&(b.disconnect(),c.isShadow()?c.dispose():this.bumpNeighbours())}"SPLIT"===a?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var a=(0,$.module$exports$Blockly$utils$xml.createElement)("mutation");return a.setAttribute("mode",this.getFieldValue("MODE")),a},domToMutation:function(a){this.updateType_(a.getAttribute("mode"))}},(0,$.module$exports$Blockly$common.defineBlocks)(module$exports$Blockly$libraryBlocks$lists.blocks);var module$exports$Blockly$libraryBlocks$colour={};module$exports$Blockly$libraryBlocks$colour.blocks=(0,$.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),(0,$.module$exports$Blockly$common.defineBlocks)(module$exports$Blockly$libraryBlocks$colour.blocks),$.Blockly.libraryBlocks={},$.Blockly.libraryBlocks.colour=module$exports$Blockly$libraryBlocks$colour,$.Blockly.libraryBlocks.lists=module$exports$Blockly$libraryBlocks$lists,$.Blockly.libraryBlocks.logic=module$exports$Blockly$libraryBlocks$logic,$.Blockly.libraryBlocks.loops=module$exports$Blockly$libraryBlocks$loops,$.Blockly.libraryBlocks.math=module$exports$Blockly$libraryBlocks$math,$.Blockly.libraryBlocks.procedures=module$exports$Blockly$libraryBlocks$procedures,$.Blockly.libraryBlocks.texts=module$exports$Blockly$libraryBlocks$texts,$.Blockly.libraryBlocks.variables=module$exports$Blockly$libraryBlocks$variables,$.Blockly.libraryBlocks.variablesDynamic=module$exports$Blockly$libraryBlocks$variablesDynamic;var module$contents$Blockly$libraryBlocks_blocks=Object.assign({},module$exports$Blockly$libraryBlocks$colour.blocks,module$exports$Blockly$libraryBlocks$lists.blocks,module$exports$Blockly$libraryBlocks$logic.blocks,module$exports$Blockly$libraryBlocks$loops.blocks,module$exports$Blockly$libraryBlocks$math.blocks,module$exports$Blockly$libraryBlocks$procedures.blocks,module$exports$Blockly$libraryBlocks$variables.blocks,module$exports$Blockly$libraryBlocks$variablesDynamic.blocks);return $.Blockly.libraryBlocks.blocks=module$contents$Blockly$libraryBlocks_blocks,$.Blockly.libraryBlocks.__namespace__=$,$.Blockly.libraryBlocks})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},421:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(256),__webpack_require__(177),__webpack_require__(3),__webpack_require__(466)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(Blockly,En,BlocklyBlocks,BlocklyJS){"use strict";return Blockly.setLocale(En),Blockly})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},256:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(97)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(Blockly){"use strict";return Blockly.setLocale=function(locale){Object.keys(locale).forEach((function(k){Blockly.Msg[k]=locale[k]}))},Blockly})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},948:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(421)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(Blockly){return Blockly})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},466:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(256),__webpack_require__(274)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(Blockly,BlocklyJavaScript){return BlocklyJavaScript})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},274:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(334)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(__parent__){var $=__parent__.__namespace__,module$contents$Blockly$JavaScript_JavaScript=new $.module$exports$Blockly$Generator.Generator("JavaScript");module$contents$Blockly$JavaScript_JavaScript.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames($.module$exports$Blockly$utils$global.globalThis).join(",")),module$contents$Blockly$JavaScript_JavaScript.ORDER_ATOMIC=0,module$contents$Blockly$JavaScript_JavaScript.ORDER_NEW=1.1,module$contents$Blockly$JavaScript_JavaScript.ORDER_MEMBER=1.2,module$contents$Blockly$JavaScript_JavaScript.ORDER_FUNCTION_CALL=2,module$contents$Blockly$JavaScript_JavaScript.ORDER_INCREMENT=3,module$contents$Blockly$JavaScript_JavaScript.ORDER_DECREMENT=3,module$contents$Blockly$JavaScript_JavaScript.ORDER_BITWISE_NOT=4.1,module$contents$Blockly$JavaScript_JavaScript.ORDER_UNARY_PLUS=4.2,module$contents$Blockly$JavaScript_JavaScript.ORDER_UNARY_NEGATION=4.3,module$contents$Blockly$JavaScript_JavaScript.ORDER_LOGICAL_NOT=4.4,module$contents$Blockly$JavaScript_JavaScript.ORDER_TYPEOF=4.5,module$contents$Blockly$JavaScript_JavaScript.ORDER_VOID=4.6,module$contents$Blockly$JavaScript_JavaScript.ORDER_DELETE=4.7,module$contents$Blockly$JavaScript_JavaScript.ORDER_AWAIT=4.8,module$contents$Blockly$JavaScript_JavaScript.ORDER_EXPONENTIATION=5,module$contents$Blockly$JavaScript_JavaScript.ORDER_MULTIPLICATION=5.1,module$contents$Blockly$JavaScript_JavaScript.ORDER_DIVISION=5.2,module$contents$Blockly$JavaScript_JavaScript.ORDER_MODULUS=5.3,module$contents$Blockly$JavaScript_JavaScript.ORDER_SUBTRACTION=6.1,module$contents$Blockly$JavaScript_JavaScript.ORDER_ADDITION=6.2,module$contents$Blockly$JavaScript_JavaScript.ORDER_BITWISE_SHIFT=7,module$contents$Blockly$JavaScript_JavaScript.ORDER_RELATIONAL=8,module$contents$Blockly$JavaScript_JavaScript.ORDER_IN=8,module$contents$Blockly$JavaScript_JavaScript.ORDER_INSTANCEOF=8,module$contents$Blockly$JavaScript_JavaScript.ORDER_EQUALITY=9,module$contents$Blockly$JavaScript_JavaScript.ORDER_BITWISE_AND=10,module$contents$Blockly$JavaScript_JavaScript.ORDER_BITWISE_XOR=11,module$contents$Blockly$JavaScript_JavaScript.ORDER_BITWISE_OR=12,module$contents$Blockly$JavaScript_JavaScript.ORDER_LOGICAL_AND=13,module$contents$Blockly$JavaScript_JavaScript.ORDER_LOGICAL_OR=14,module$contents$Blockly$JavaScript_JavaScript.ORDER_CONDITIONAL=15,module$contents$Blockly$JavaScript_JavaScript.ORDER_ASSIGNMENT=16,module$contents$Blockly$JavaScript_JavaScript.ORDER_YIELD=17,module$contents$Blockly$JavaScript_JavaScript.ORDER_COMMA=18,module$contents$Blockly$JavaScript_JavaScript.ORDER_NONE=99,module$contents$Blockly$JavaScript_JavaScript.ORDER_OVERRIDES=[[module$contents$Blockly$JavaScript_JavaScript.ORDER_FUNCTION_CALL,module$contents$Blockly$JavaScript_JavaScript.ORDER_MEMBER],[module$contents$Blockly$JavaScript_JavaScript.ORDER_FUNCTION_CALL,module$contents$Blockly$JavaScript_JavaScript.ORDER_FUNCTION_CALL],[module$contents$Blockly$JavaScript_JavaScript.ORDER_MEMBER,module$contents$Blockly$JavaScript_JavaScript.ORDER_MEMBER],[module$contents$Blockly$JavaScript_JavaScript.ORDER_MEMBER,module$contents$Blockly$JavaScript_JavaScript.ORDER_FUNCTION_CALL],[module$contents$Blockly$JavaScript_JavaScript.ORDER_LOGICAL_NOT,module$contents$Blockly$JavaScript_JavaScript.ORDER_LOGICAL_NOT],[module$contents$Blockly$JavaScript_JavaScript.ORDER_MULTIPLICATION,module$contents$Blockly$JavaScript_JavaScript.ORDER_MULTIPLICATION],[module$contents$Blockly$JavaScript_JavaScript.ORDER_ADDITION,module$contents$Blockly$JavaScript_JavaScript.ORDER_ADDITION],[module$contents$Blockly$JavaScript_JavaScript.ORDER_LOGICAL_AND,module$contents$Blockly$JavaScript_JavaScript.ORDER_LOGICAL_AND],[module$contents$Blockly$JavaScript_JavaScript.ORDER_LOGICAL_OR,module$contents$Blockly$JavaScript_JavaScript.ORDER_LOGICAL_OR]],module$contents$Blockly$JavaScript_JavaScript.isInitialized=!1,module$contents$Blockly$JavaScript_JavaScript.init=function(a){Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new $.module$exports$Blockly$Names.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(a.getVariableMap()),this.nameDB_.populateVariables(a),this.nameDB_.populateProcedures(a);for(var b=[],c=(0,$.module$exports$Blockly$Variables.allDeveloperVariables)(a),d=0;d<c.length;d++)b.push(this.nameDB_.getName(c[d],$.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE));for(a=(0,$.module$exports$Blockly$Variables.allUsedVarModels)(a),c=0;c<a.length;c++)b.push(this.nameDB_.getName(a[c].getId(),$.module$exports$Blockly$Names.NameType.VARIABLE));b.length&&(this.definitions_.variables="var "+b.join(", ")+";"),this.isInitialized=!0},module$contents$Blockly$JavaScript_JavaScript.finish=function(a){var b=(0,$.module$exports$Blockly$utils$object.values)(this.definitions_);return a=Object.getPrototypeOf(this).finish.call(this,a),this.isInitialized=!1,this.nameDB_.reset(),b.join("\n\n")+"\n\n\n"+a},module$contents$Blockly$JavaScript_JavaScript.scrubNakedValue=function(a){return a+";\n"},module$contents$Blockly$JavaScript_JavaScript.quote_=function(a){return"'"+(a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},module$contents$Blockly$JavaScript_JavaScript.multiline_quote_=function(a){return a.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")},module$contents$Blockly$JavaScript_JavaScript.scrub_=function(a,b,c){var d="";if(!a.outputConnection||!a.outputConnection.targetConnection){var e=a.getCommentText();e&&(e=(0,$.module$exports$Blockly$utils$string.wrap)(e,this.COMMENT_WRAP-3),d+=this.prefixLines(e+"\n","// "));for(var f=0;f<a.inputList.length;f++)a.inputList[f].type===$.module$exports$Blockly$inputTypes.inputTypes.VALUE&&(e=a.inputList[f].connection.targetBlock())&&(e=this.allNestedComments(e))&&(d+=this.prefixLines(e,"// "))}return a=a.nextConnection&&a.nextConnection.targetBlock(),d+b+(c=c?"":this.blockToCode(a))},module$contents$Blockly$JavaScript_JavaScript.getAdjusted=function(a,b,c,d,e){c=c||0,e=e||this.ORDER_NONE,a.workspace.options.oneBasedIndex&&c--;var f=a.workspace.options.oneBasedIndex?"1":"0",g=e;if(0<c)var h=g=this.ORDER_ADDITION;else 0>c?h=g=this.ORDER_SUBTRACTION:d&&(h=g=this.ORDER_UNARY_NEGATION);return a=this.valueToCode(a,b,g)||f,(0,$.module$exports$Blockly$utils$string.isNumber)(a)?(a=Number(a)+c,d&&(a=-a)):(0<c?a=a+" + "+c:0>c&&(a=a+" - "+-c),d&&(a=c?"-("+a+")":"-"+a),h=Math.floor(h),e=Math.floor(e),h&&e>=h&&(a="("+a+")")),a},$.Blockly.JavaScript=module$contents$Blockly$JavaScript_JavaScript,$.Blockly.JavaScript.variables_get=function(a){return[$.Blockly.JavaScript.nameDB_.getName(a.getFieldValue("VAR"),$.module$exports$Blockly$Names.NameType.VARIABLE),$.Blockly.JavaScript.ORDER_ATOMIC]},$.Blockly.JavaScript.variables_set=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"VALUE",$.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";return $.Blockly.JavaScript.nameDB_.getName(a.getFieldValue("VAR"),$.module$exports$Blockly$Names.NameType.VARIABLE)+" = "+b+";\n"},$.Blockly.JavaScript.variables_get_dynamic=$.Blockly.JavaScript.variables_get,$.Blockly.JavaScript.variables_set_dynamic=$.Blockly.JavaScript.variables_set;var module$contents$Blockly$JavaScript$texts_strRegExp=/^\s*'([^']|\\')*'\s*$/,module$contents$Blockly$JavaScript$texts_forceString=function(a){return module$contents$Blockly$JavaScript$texts_strRegExp.test(a)?[a,$.Blockly.JavaScript.ORDER_ATOMIC]:["String("+a+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},module$contents$Blockly$JavaScript$texts_getSubstringIndex=function(a,b,c){return"FIRST"===b?"0":"FROM_END"===b?a+".length - 1 - "+c:"LAST"===b?a+".length - 1":c};$.Blockly.JavaScript.text=function(a){return[$.Blockly.JavaScript.quote_(a.getFieldValue("TEXT")),$.Blockly.JavaScript.ORDER_ATOMIC]},$.Blockly.JavaScript.text_multiline=function(a){var b=-1!==(a=$.Blockly.JavaScript.multiline_quote_(a.getFieldValue("TEXT"))).indexOf("+")?$.Blockly.JavaScript.ORDER_ADDITION:$.Blockly.JavaScript.ORDER_ATOMIC;return[a,b]},$.Blockly.JavaScript.text_join=function(a){switch(a.itemCount_){case 0:return["''",$.Blockly.JavaScript.ORDER_ATOMIC];case 1:return a=$.Blockly.JavaScript.valueToCode(a,"ADD0",$.Blockly.JavaScript.ORDER_NONE)||"''",module$contents$Blockly$JavaScript$texts_forceString(a);case 2:var b=$.Blockly.JavaScript.valueToCode(a,"ADD0",$.Blockly.JavaScript.ORDER_NONE)||"''";return a=$.Blockly.JavaScript.valueToCode(a,"ADD1",$.Blockly.JavaScript.ORDER_NONE)||"''",[module$contents$Blockly$JavaScript$texts_forceString(b)[0]+" + "+module$contents$Blockly$JavaScript$texts_forceString(a)[0],$.Blockly.JavaScript.ORDER_ADDITION];default:b=Array(a.itemCount_);for(var c=0;c<a.itemCount_;c++)b[c]=$.Blockly.JavaScript.valueToCode(a,"ADD"+c,$.Blockly.JavaScript.ORDER_NONE)||"''";return["["+b.join(",")+"].join('')",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]}},$.Blockly.JavaScript.text_append=function(a){var b=$.Blockly.JavaScript.nameDB_.getName(a.getFieldValue("VAR"),$.module$exports$Blockly$Names.NameType.VARIABLE);return a=$.Blockly.JavaScript.valueToCode(a,"TEXT",$.Blockly.JavaScript.ORDER_NONE)||"''",b+" += "+module$contents$Blockly$JavaScript$texts_forceString(a)[0]+";\n"},$.Blockly.JavaScript.text_length=function(a){return[($.Blockly.JavaScript.valueToCode(a,"VALUE",$.Blockly.JavaScript.ORDER_MEMBER)||"''")+".length",$.Blockly.JavaScript.ORDER_MEMBER]},$.Blockly.JavaScript.text_isEmpty=function(a){return["!"+($.Blockly.JavaScript.valueToCode(a,"VALUE",$.Blockly.JavaScript.ORDER_MEMBER)||"''")+".length",$.Blockly.JavaScript.ORDER_LOGICAL_NOT]},$.Blockly.JavaScript.text_indexOf=function(a){var b="FIRST"===a.getFieldValue("END")?"indexOf":"lastIndexOf",c=$.Blockly.JavaScript.valueToCode(a,"FIND",$.Blockly.JavaScript.ORDER_NONE)||"''";return b=($.Blockly.JavaScript.valueToCode(a,"VALUE",$.Blockly.JavaScript.ORDER_MEMBER)||"''")+"."+b+"("+c+")",a.workspace.options.oneBasedIndex?[b+" + 1",$.Blockly.JavaScript.ORDER_ADDITION]:[b,$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.text_charAt=function(a){var b=a.getFieldValue("WHERE")||"FROM_START",c=$.Blockly.JavaScript.valueToCode(a,"VALUE","RANDOM"===b?$.Blockly.JavaScript.ORDER_NONE:$.Blockly.JavaScript.ORDER_MEMBER)||"''";switch(b){case"FIRST":return[c+".charAt(0)",$.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[c+".slice(-1)",$.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[c+".charAt("+(a=$.Blockly.JavaScript.getAdjusted(a,"AT"))+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[c+".slice("+(a=$.Blockly.JavaScript.getAdjusted(a,"AT",1,!0))+").charAt(0)",$.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[$.Blockly.JavaScript.provideFunction_("textRandomLetter","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {\n  var x = Math.floor(Math.random() * text.length);\n  return text[x];\n}\n")+"("+c+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},$.Blockly.JavaScript.text_getSubstring=function(a){var b=a.getFieldValue("WHERE1"),c=a.getFieldValue("WHERE2"),d="FROM_END"!==b&&"LAST"!==b&&"FROM_END"!==c&&"LAST"!==c,e=$.Blockly.JavaScript.valueToCode(a,"STRING",d?$.Blockly.JavaScript.ORDER_MEMBER:$.Blockly.JavaScript.ORDER_NONE)||"''";if("FIRST"===b&&"LAST"===c)return[e,$.Blockly.JavaScript.ORDER_NONE];if(e.match(/^'?\w+'?$/)||d){switch(b){case"FROM_START":b=$.Blockly.JavaScript.getAdjusted(a,"AT1");break;case"FROM_END":b=e+".length - "+(b=$.Blockly.JavaScript.getAdjusted(a,"AT1",1,!1,$.Blockly.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":b="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(c){case"FROM_START":c=$.Blockly.JavaScript.getAdjusted(a,"AT2",1);break;case"FROM_END":c=e+".length - "+(c=$.Blockly.JavaScript.getAdjusted(a,"AT2",0,!1,$.Blockly.JavaScript.ORDER_SUBTRACTION));break;case"LAST":c=e+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}e=e+".slice("+b+", "+c+")"}else{d=$.Blockly.JavaScript.getAdjusted(a,"AT1"),a=$.Blockly.JavaScript.getAdjusted(a,"AT2");var f={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};e=$.Blockly.JavaScript.provideFunction_("subsequence"+f[b]+f[c],"\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"===b||"FROM_START"===b?", at1":"")+("FROM_END"===c||"FROM_START"===c?", at2":"")+") {\n  var start = "+module$contents$Blockly$JavaScript$texts_getSubstringIndex("sequence",b,"at1")+";\n  var end = "+module$contents$Blockly$JavaScript$texts_getSubstringIndex("sequence",c,"at2")+" + 1;\n  return sequence.slice(start, end);\n}\n")+"("+e+("FROM_END"===b||"FROM_START"===b?", "+d:"")+("FROM_END"===c||"FROM_START"===c?", "+a:"")+")"}return[e,$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.text_changeCase=function(a){var b={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[a.getFieldValue("CASE")];return a=$.Blockly.JavaScript.valueToCode(a,"TEXT",b?$.Blockly.JavaScript.ORDER_MEMBER:$.Blockly.JavaScript.ORDER_NONE)||"''",[b?a+b:$.Blockly.JavaScript.provideFunction_("textToTitleCase","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {\n  return str.replace(/\\S+/g,\n      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});\n}\n")+"("+a+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.text_trim=function(a){var b={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[a.getFieldValue("MODE")];return[($.Blockly.JavaScript.valueToCode(a,"TEXT",$.Blockly.JavaScript.ORDER_MEMBER)||"''")+b,$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.text_print=function(a){return"window.alert("+($.Blockly.JavaScript.valueToCode(a,"TEXT",$.Blockly.JavaScript.ORDER_NONE)||"''")+");\n"},$.Blockly.JavaScript.text_prompt_ext=function(a){var b="window.prompt("+(a.getField("TEXT")?$.Blockly.JavaScript.quote_(a.getFieldValue("TEXT")):$.Blockly.JavaScript.valueToCode(a,"TEXT",$.Blockly.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"===a.getFieldValue("TYPE")&&(b="Number("+b+")"),[b,$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.text_prompt=$.Blockly.JavaScript.text_prompt_ext,$.Blockly.JavaScript.text_count=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"TEXT",$.Blockly.JavaScript.ORDER_NONE)||"''";return a=$.Blockly.JavaScript.valueToCode(a,"SUB",$.Blockly.JavaScript.ORDER_NONE)||"''",[$.Blockly.JavaScript.provideFunction_("textCount","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {\n  if (needle.length === 0) {\n    return haystack.length + 1;\n  } else {\n    return haystack.split(needle).length - 1;\n  }\n}\n")+"("+b+", "+a+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.text_replace=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"TEXT",$.Blockly.JavaScript.ORDER_NONE)||"''",c=$.Blockly.JavaScript.valueToCode(a,"FROM",$.Blockly.JavaScript.ORDER_NONE)||"''";return a=$.Blockly.JavaScript.valueToCode(a,"TO",$.Blockly.JavaScript.ORDER_NONE)||"''",[$.Blockly.JavaScript.provideFunction_("textReplace","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {\n  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')\n                 .replace(/\\x08/g, '\\\\x08');\n  return haystack.replace(new RegExp(needle, 'g'), replacement);\n}\n")+"("+b+", "+c+", "+a+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.text_reverse=function(a){return[($.Blockly.JavaScript.valueToCode(a,"TEXT",$.Blockly.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.procedures_defreturn=function(a){var b=$.Blockly.JavaScript.nameDB_.getName(a.getFieldValue("NAME"),$.module$exports$Blockly$Names.NameType.PROCEDURE),c="";$.Blockly.JavaScript.STATEMENT_PREFIX&&(c+=$.Blockly.JavaScript.injectId($.Blockly.JavaScript.STATEMENT_PREFIX,a)),$.Blockly.JavaScript.STATEMENT_SUFFIX&&(c+=$.Blockly.JavaScript.injectId($.Blockly.JavaScript.STATEMENT_SUFFIX,a)),c&&(c=$.Blockly.JavaScript.prefixLines(c,$.Blockly.JavaScript.INDENT));var d="";$.Blockly.JavaScript.INFINITE_LOOP_TRAP&&(d=$.Blockly.JavaScript.prefixLines($.Blockly.JavaScript.injectId($.Blockly.JavaScript.INFINITE_LOOP_TRAP,a),$.Blockly.JavaScript.INDENT));var e=$.Blockly.JavaScript.statementToCode(a,"STACK"),f=$.Blockly.JavaScript.valueToCode(a,"RETURN",$.Blockly.JavaScript.ORDER_NONE)||"",g="";e&&f&&(g=c),f&&(f=$.Blockly.JavaScript.INDENT+"return "+f+";\n");for(var h=[],k=a.getVars(),l=0;l<k.length;l++)h[l]=$.Blockly.JavaScript.nameDB_.getName(k[l],$.module$exports$Blockly$Names.NameType.VARIABLE);return c="function "+b+"("+h.join(", ")+") {\n"+c+d+e+g+f+"}",c=$.Blockly.JavaScript.scrub_(a,c),$.Blockly.JavaScript.definitions_["%"+b]=c,null},$.Blockly.JavaScript.procedures_defnoreturn=$.Blockly.JavaScript.procedures_defreturn,$.Blockly.JavaScript.procedures_callreturn=function(a){for(var b=$.Blockly.JavaScript.nameDB_.getName(a.getFieldValue("NAME"),$.module$exports$Blockly$Names.NameType.PROCEDURE),c=[],d=a.getVars(),e=0;e<d.length;e++)c[e]=$.Blockly.JavaScript.valueToCode(a,"ARG"+e,$.Blockly.JavaScript.ORDER_NONE)||"null";return[b+"("+c.join(", ")+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.procedures_callnoreturn=function(a){return $.Blockly.JavaScript.procedures_callreturn(a)[0]+";\n"},$.Blockly.JavaScript.procedures_ifreturn=function(a){var b="if ("+($.Blockly.JavaScript.valueToCode(a,"CONDITION",$.Blockly.JavaScript.ORDER_NONE)||"false")+") {\n";return $.Blockly.JavaScript.STATEMENT_SUFFIX&&(b+=$.Blockly.JavaScript.prefixLines($.Blockly.JavaScript.injectId($.Blockly.JavaScript.STATEMENT_SUFFIX,a),$.Blockly.JavaScript.INDENT)),a.hasReturnValue_?(a=$.Blockly.JavaScript.valueToCode(a,"VALUE",$.Blockly.JavaScript.ORDER_NONE)||"null",b+=$.Blockly.JavaScript.INDENT+"return "+a+";\n"):b+=$.Blockly.JavaScript.INDENT+"return;\n",b+"}\n"},$.Blockly.JavaScript.math_number=function(a){return[a=Number(a.getFieldValue("NUM")),0<=a?$.Blockly.JavaScript.ORDER_ATOMIC:$.Blockly.JavaScript.ORDER_UNARY_NEGATION]},$.Blockly.JavaScript.math_arithmetic=function(a){var b={ADD:[" + ",$.Blockly.JavaScript.ORDER_ADDITION],MINUS:[" - ",$.Blockly.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",$.Blockly.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",$.Blockly.JavaScript.ORDER_DIVISION],POWER:[null,$.Blockly.JavaScript.ORDER_NONE]}[a.getFieldValue("OP")],c=b[0];b=b[1];var d=$.Blockly.JavaScript.valueToCode(a,"A",b)||"0";return a=$.Blockly.JavaScript.valueToCode(a,"B",b)||"0",c?[d+c+a,b]:["Math.pow("+d+", "+a+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.math_single=function(a){var b=a.getFieldValue("OP");if("NEG"===b)return"-"===(a=$.Blockly.JavaScript.valueToCode(a,"NUM",$.Blockly.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(a=" "+a),["-"+a,$.Blockly.JavaScript.ORDER_UNARY_NEGATION];switch(a="SIN"===b||"COS"===b||"TAN"===b?$.Blockly.JavaScript.valueToCode(a,"NUM",$.Blockly.JavaScript.ORDER_DIVISION)||"0":$.Blockly.JavaScript.valueToCode(a,"NUM",$.Blockly.JavaScript.ORDER_NONE)||"0",b){case"ABS":var c="Math.abs("+a+")";break;case"ROOT":c="Math.sqrt("+a+")";break;case"LN":c="Math.log("+a+")";break;case"EXP":c="Math.exp("+a+")";break;case"POW10":c="Math.pow(10,"+a+")";break;case"ROUND":c="Math.round("+a+")";break;case"ROUNDUP":c="Math.ceil("+a+")";break;case"ROUNDDOWN":c="Math.floor("+a+")";break;case"SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case"COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case"TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,$.Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(b){case"LOG10":c="Math.log("+a+") / Math.log(10)";break;case"ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case"ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case"ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b)}return[c,$.Blockly.JavaScript.ORDER_DIVISION]},$.Blockly.JavaScript.math_constant=function(a){return{PI:["Math.PI",$.Blockly.JavaScript.ORDER_MEMBER],E:["Math.E",$.Blockly.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",$.Blockly.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",$.Blockly.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",$.Blockly.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",$.Blockly.JavaScript.ORDER_ATOMIC]}[a.getFieldValue("CONSTANT")]},$.Blockly.JavaScript.math_number_property=function(a){var b={EVEN:[" % 2 === 0",$.Blockly.JavaScript.ORDER_MODULUS,$.Blockly.JavaScript.ORDER_EQUALITY],ODD:[" % 2 === 1",$.Blockly.JavaScript.ORDER_MODULUS,$.Blockly.JavaScript.ORDER_EQUALITY],WHOLE:[" % 1 === 0",$.Blockly.JavaScript.ORDER_MODULUS,$.Blockly.JavaScript.ORDER_EQUALITY],POSITIVE:[" > 0",$.Blockly.JavaScript.ORDER_RELATIONAL,$.Blockly.JavaScript.ORDER_RELATIONAL],NEGATIVE:[" < 0",$.Blockly.JavaScript.ORDER_RELATIONAL,$.Blockly.JavaScript.ORDER_RELATIONAL],DIVISIBLE_BY:[null,$.Blockly.JavaScript.ORDER_MODULUS,$.Blockly.JavaScript.ORDER_EQUALITY],PRIME:[null,$.Blockly.JavaScript.ORDER_NONE,$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},c=a.getFieldValue("PROPERTY"),d=(b=$.$jscomp.makeIterator(b[c])).next().value,e=b.next().value;return b=b.next().value,e=$.Blockly.JavaScript.valueToCode(a,"NUMBER_TO_CHECK",e)||"0",[a="PRIME"===c?$.Blockly.JavaScript.provideFunction_("mathIsPrime","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {\n  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  if (n == 2 || n == 3) {\n    return true;\n  }\n  // False if n is NaN, negative, is 1, or not whole.\n  // And false if n is divisible by 2 or 3.\n  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {\n    return false;\n  }\n  // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {\n    if (n % (x - 1) === 0 || n % (x + 1) === 0) {\n      return false;\n    }\n  }\n  return true;\n}\n")+"("+e+")":"DIVISIBLE_BY"===c?e+" % "+(a=$.Blockly.JavaScript.valueToCode(a,"DIVISOR",$.Blockly.JavaScript.ORDER_MODULUS)||"0")+" === 0":e+d,b]},$.Blockly.JavaScript.math_change=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"DELTA",$.Blockly.JavaScript.ORDER_ADDITION)||"0";return(a=$.Blockly.JavaScript.nameDB_.getName(a.getFieldValue("VAR"),$.module$exports$Blockly$Names.NameType.VARIABLE))+" = (typeof "+a+" === 'number' ? "+a+" : 0) + "+b+";\n"},$.Blockly.JavaScript.math_round=$.Blockly.JavaScript.math_single,$.Blockly.JavaScript.math_trig=$.Blockly.JavaScript.math_single,$.Blockly.JavaScript.math_on_list=function(a){var b=a.getFieldValue("OP");switch(b){case"SUM":a=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_MEMBER)||"[]",a+=".reduce(function(x, y) {return x + y;})";break;case"MIN":a="Math.min.apply(null, "+(a=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"MAX":a="Math.max.apply(null, "+(a=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"AVERAGE":a=(b=$.Blockly.JavaScript.provideFunction_("mathMean","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {\n  return myList.reduce(function(x, y) {return x + y;}) / myList.length;\n}\n"))+"("+(a=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":a=(b=$.Blockly.JavaScript.provideFunction_("mathMedian","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {\n  var localList = myList.filter(function (x) {return typeof x === 'number';});\n  if (!localList.length) return null;\n  localList.sort(function(a, b) {return b - a;});\n  if (localList.length % 2 === 0) {\n    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;\n  } else {\n    return localList[(localList.length - 1) / 2];\n  }\n}\n"))+"("+(a=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":a=(b=$.Blockly.JavaScript.provideFunction_("mathModes","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {\n  var modes = [];\n  var counts = [];\n  var maxCount = 0;\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var found = false;\n    var thisCount;\n    for (var j = 0; j < counts.length; j++) {\n      if (counts[j][0] === value) {\n        thisCount = ++counts[j][1];\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      counts.push([value, 1]);\n      thisCount = 1;\n    }\n    maxCount = Math.max(thisCount, maxCount);\n  }\n  for (var j = 0; j < counts.length; j++) {\n    if (counts[j][1] === maxCount) {\n        modes.push(counts[j][0]);\n    }\n  }\n  return modes;\n}\n"))+"("+(a=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":a=(b=$.Blockly.JavaScript.provideFunction_("mathStandardDeviation","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {\n  var n = numbers.length;\n  if (!n) return null;\n  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;\n  var variance = 0;\n  for (var j = 0; j < n; j++) {\n    variance += Math.pow(numbers[j] - mean, 2);\n  }\n  variance = variance / n;\n  return Math.sqrt(variance);\n}\n"))+"("+(a=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":a=(b=$.Blockly.JavaScript.provideFunction_("mathRandomList","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {\n  var x = Math.floor(Math.random() * list.length);\n  return list[x];\n}\n"))+"("+(a=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+b)}return[a,$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.math_modulo=function(a){return[($.Blockly.JavaScript.valueToCode(a,"DIVIDEND",$.Blockly.JavaScript.ORDER_MODULUS)||"0")+" % "+(a=$.Blockly.JavaScript.valueToCode(a,"DIVISOR",$.Blockly.JavaScript.ORDER_MODULUS)||"0"),$.Blockly.JavaScript.ORDER_MODULUS]},$.Blockly.JavaScript.math_constrain=function(a){return["Math.min(Math.max("+($.Blockly.JavaScript.valueToCode(a,"VALUE",$.Blockly.JavaScript.ORDER_NONE)||"0")+", "+($.Blockly.JavaScript.valueToCode(a,"LOW",$.Blockly.JavaScript.ORDER_NONE)||"0")+"), "+(a=$.Blockly.JavaScript.valueToCode(a,"HIGH",$.Blockly.JavaScript.ORDER_NONE)||"Infinity")+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.math_random_int=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"FROM",$.Blockly.JavaScript.ORDER_NONE)||"0";return a=$.Blockly.JavaScript.valueToCode(a,"TO",$.Blockly.JavaScript.ORDER_NONE)||"0",[$.Blockly.JavaScript.provideFunction_("mathRandomInt","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n")+"("+b+", "+a+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.math_random_float=function(a){return["Math.random()",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.math_atan2=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"X",$.Blockly.JavaScript.ORDER_NONE)||"0";return["Math.atan2("+($.Blockly.JavaScript.valueToCode(a,"Y",$.Blockly.JavaScript.ORDER_NONE)||"0")+", "+b+") / Math.PI * 180",$.Blockly.JavaScript.ORDER_DIVISION]},$.Blockly.JavaScript.controls_repeat_ext=function(a){var b=a.getField("TIMES")?String(Number(a.getFieldValue("TIMES"))):$.Blockly.JavaScript.valueToCode(a,"TIMES",$.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",c=$.Blockly.JavaScript.statementToCode(a,"DO");c=$.Blockly.JavaScript.addLoopTrap(c,a),a="";var d=$.Blockly.JavaScript.nameDB_.getDistinctName("count",$.module$exports$Blockly$Names.NameType.VARIABLE),e=b;return b.match(/^\w+$/)||(0,$.module$exports$Blockly$utils$string.isNumber)(b)||(a+="var "+(e=$.Blockly.JavaScript.nameDB_.getDistinctName("repeat_end",$.module$exports$Blockly$Names.NameType.VARIABLE))+" = "+b+";\n"),a+"for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n"},$.Blockly.JavaScript.controls_repeat=$.Blockly.JavaScript.controls_repeat_ext,$.Blockly.JavaScript.controls_whileUntil=function(a){var b="UNTIL"===a.getFieldValue("MODE"),c=$.Blockly.JavaScript.valueToCode(a,"BOOL",b?$.Blockly.JavaScript.ORDER_LOGICAL_NOT:$.Blockly.JavaScript.ORDER_NONE)||"false",d=$.Blockly.JavaScript.statementToCode(a,"DO");return b&&(c="!"+c),"while ("+c+") {\n"+(d=$.Blockly.JavaScript.addLoopTrap(d,a))+"}\n"},$.Blockly.JavaScript.controls_for=function(a){var b=$.Blockly.JavaScript.nameDB_.getName(a.getFieldValue("VAR"),$.module$exports$Blockly$Names.NameType.VARIABLE),c=$.Blockly.JavaScript.valueToCode(a,"FROM",$.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",d=$.Blockly.JavaScript.valueToCode(a,"TO",$.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",e=$.Blockly.JavaScript.valueToCode(a,"BY",$.Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",f=$.Blockly.JavaScript.statementToCode(a,"DO");if(f=$.Blockly.JavaScript.addLoopTrap(f,a),(0,$.module$exports$Blockly$utils$string.isNumber)(c)&&(0,$.module$exports$Blockly$utils$string.isNumber)(d)&&(0,$.module$exports$Blockly$utils$string.isNumber)(e)){var g=Number(c)<=Number(d);a="for ("+b+" = "+c+"; "+b+(g?" <= ":" >= ")+d+"; "+b,a=(1===(b=Math.abs(Number(e)))?a+(g?"++":"--"):a+(g?" += ":" -= ")+b)+") {\n"+f+"}\n"}else a="",g=c,c.match(/^\w+$/)||(0,$.module$exports$Blockly$utils$string.isNumber)(c)||(a+="var "+(g=$.Blockly.JavaScript.nameDB_.getDistinctName(b+"_start",$.module$exports$Blockly$Names.NameType.VARIABLE))+" = "+c+";\n"),c=d,d.match(/^\w+$/)||(0,$.module$exports$Blockly$utils$string.isNumber)(d)||(a+="var "+(c=$.Blockly.JavaScript.nameDB_.getDistinctName(b+"_end",$.module$exports$Blockly$Names.NameType.VARIABLE))+" = "+d+";\n"),a+="var "+(d=$.Blockly.JavaScript.nameDB_.getDistinctName(b+"_inc",$.module$exports$Blockly$Names.NameType.VARIABLE))+" = ",a=(a=(0,$.module$exports$Blockly$utils$string.isNumber)(e)?a+(Math.abs(e)+";\n"):a+"Math.abs("+e+");\n")+"if ("+g+" > "+c+") {\n"+($.Blockly.JavaScript.INDENT+d)+" = -"+d+";\n",a+="}\n",a+="for ("+b+" = "+g+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+f+"}\n";return a},$.Blockly.JavaScript.controls_forEach=function(a){var b=$.Blockly.JavaScript.nameDB_.getName(a.getFieldValue("VAR"),$.module$exports$Blockly$Names.NameType.VARIABLE),c=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",d=$.Blockly.JavaScript.statementToCode(a,"DO");d=$.Blockly.JavaScript.addLoopTrap(d,a),a="";var e=c;return c.match(/^\w+$/)||(a+="var "+(e=$.Blockly.JavaScript.nameDB_.getDistinctName(b+"_list",$.module$exports$Blockly$Names.NameType.VARIABLE))+" = "+c+";\n"),a+"for (var "+(c=$.Blockly.JavaScript.nameDB_.getDistinctName(b+"_index",$.module$exports$Blockly$Names.NameType.VARIABLE))+" in "+e+") {\n"+(d=$.Blockly.JavaScript.INDENT+b+" = "+e+"["+c+"];\n"+d)+"}\n"},$.Blockly.JavaScript.controls_flow_statements=function(a){var b="";if($.Blockly.JavaScript.STATEMENT_PREFIX&&(b+=$.Blockly.JavaScript.injectId($.Blockly.JavaScript.STATEMENT_PREFIX,a)),$.Blockly.JavaScript.STATEMENT_SUFFIX&&(b+=$.Blockly.JavaScript.injectId($.Blockly.JavaScript.STATEMENT_SUFFIX,a)),$.Blockly.JavaScript.STATEMENT_PREFIX){var c=a.getSurroundLoop();c&&!c.suppressPrefixSuffix&&(b+=$.Blockly.JavaScript.injectId($.Blockly.JavaScript.STATEMENT_PREFIX,c))}switch(a.getFieldValue("FLOW")){case"BREAK":return b+"break;\n";case"CONTINUE":return b+"continue;\n"}throw Error("Unknown flow statement.")},$.Blockly.JavaScript.controls_if=function(a){var b=0,c="";$.Blockly.JavaScript.STATEMENT_PREFIX&&(c+=$.Blockly.JavaScript.injectId($.Blockly.JavaScript.STATEMENT_PREFIX,a));do{var d=$.Blockly.JavaScript.valueToCode(a,"IF"+b,$.Blockly.JavaScript.ORDER_NONE)||"false",e=$.Blockly.JavaScript.statementToCode(a,"DO"+b);$.Blockly.JavaScript.STATEMENT_SUFFIX&&(e=$.Blockly.JavaScript.prefixLines($.Blockly.JavaScript.injectId($.Blockly.JavaScript.STATEMENT_SUFFIX,a),$.Blockly.JavaScript.INDENT)+e),c+=(0<b?" else ":"")+"if ("+d+") {\n"+e+"}",b++}while(a.getInput("IF"+b));return(a.getInput("ELSE")||$.Blockly.JavaScript.STATEMENT_SUFFIX)&&(b=$.Blockly.JavaScript.statementToCode(a,"ELSE"),$.Blockly.JavaScript.STATEMENT_SUFFIX&&(b=$.Blockly.JavaScript.prefixLines($.Blockly.JavaScript.injectId($.Blockly.JavaScript.STATEMENT_SUFFIX,a),$.Blockly.JavaScript.INDENT)+b),c+=" else {\n"+b+"}"),c+"\n"},$.Blockly.JavaScript.controls_ifelse=$.Blockly.JavaScript.controls_if,$.Blockly.JavaScript.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[a.getFieldValue("OP")],c="=="===b||"!="===b?$.Blockly.JavaScript.ORDER_EQUALITY:$.Blockly.JavaScript.ORDER_RELATIONAL;return[($.Blockly.JavaScript.valueToCode(a,"A",c)||"0")+" "+b+" "+(a=$.Blockly.JavaScript.valueToCode(a,"B",c)||"0"),c]},$.Blockly.JavaScript.logic_operation=function(a){var b="AND"===a.getFieldValue("OP")?"&&":"||",c="&&"===b?$.Blockly.JavaScript.ORDER_LOGICAL_AND:$.Blockly.JavaScript.ORDER_LOGICAL_OR,d=$.Blockly.JavaScript.valueToCode(a,"A",c);if(a=$.Blockly.JavaScript.valueToCode(a,"B",c),d||a){var e="&&"===b?"true":"false";d||(d=e),a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]},$.Blockly.JavaScript.logic_negate=function(a){var b=$.Blockly.JavaScript.ORDER_LOGICAL_NOT;return["!"+($.Blockly.JavaScript.valueToCode(a,"BOOL",b)||"true"),b]},$.Blockly.JavaScript.logic_boolean=function(a){return["TRUE"===a.getFieldValue("BOOL")?"true":"false",$.Blockly.JavaScript.ORDER_ATOMIC]},$.Blockly.JavaScript.logic_null=function(a){return["null",$.Blockly.JavaScript.ORDER_ATOMIC]},$.Blockly.JavaScript.logic_ternary=function(a){return[($.Blockly.JavaScript.valueToCode(a,"IF",$.Blockly.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+($.Blockly.JavaScript.valueToCode(a,"THEN",$.Blockly.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(a=$.Blockly.JavaScript.valueToCode(a,"ELSE",$.Blockly.JavaScript.ORDER_CONDITIONAL)||"null"),$.Blockly.JavaScript.ORDER_CONDITIONAL]},$.Blockly.JavaScript.lists_create_empty=function(a){return["[]",$.Blockly.JavaScript.ORDER_ATOMIC]},$.Blockly.JavaScript.lists_create_with=function(a){for(var b=Array(a.itemCount_),c=0;c<a.itemCount_;c++)b[c]=$.Blockly.JavaScript.valueToCode(a,"ADD"+c,$.Blockly.JavaScript.ORDER_NONE)||"null";return["["+b.join(", ")+"]",$.Blockly.JavaScript.ORDER_ATOMIC]},$.Blockly.JavaScript.lists_repeat=function(a){return[$.Blockly.JavaScript.provideFunction_("listsRepeat","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\n")+"("+($.Blockly.JavaScript.valueToCode(a,"ITEM",$.Blockly.JavaScript.ORDER_NONE)||"null")+", "+(a=$.Blockly.JavaScript.valueToCode(a,"NUM",$.Blockly.JavaScript.ORDER_NONE)||"0")+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.lists_length=function(a){return[($.Blockly.JavaScript.valueToCode(a,"VALUE",$.Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",$.Blockly.JavaScript.ORDER_MEMBER]},$.Blockly.JavaScript.lists_isEmpty=function(a){return["!"+($.Blockly.JavaScript.valueToCode(a,"VALUE",$.Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",$.Blockly.JavaScript.ORDER_LOGICAL_NOT]},$.Blockly.JavaScript.lists_indexOf=function(a){var b="FIRST"===a.getFieldValue("END")?"indexOf":"lastIndexOf",c=$.Blockly.JavaScript.valueToCode(a,"FIND",$.Blockly.JavaScript.ORDER_NONE)||"''";return b=($.Blockly.JavaScript.valueToCode(a,"VALUE",$.Blockly.JavaScript.ORDER_MEMBER)||"[]")+"."+b+"("+c+")",a.workspace.options.oneBasedIndex?[b+" + 1",$.Blockly.JavaScript.ORDER_ADDITION]:[b,$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.lists_getIndex=function(a){var b=a.getFieldValue("MODE")||"GET",c=a.getFieldValue("WHERE")||"FROM_START",d=$.Blockly.JavaScript.valueToCode(a,"VALUE","RANDOM"===c?$.Blockly.JavaScript.ORDER_NONE:$.Blockly.JavaScript.ORDER_MEMBER)||"[]";switch(c){case"FIRST":if("GET"===b)return[d+"[0]",$.Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"===b)return[d+".shift()",$.Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"===b)return d+".shift();\n";break;case"LAST":if("GET"===b)return[d+".slice(-1)[0]",$.Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"===b)return[d+".pop()",$.Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"===b)return d+".pop();\n";break;case"FROM_START":if(a=$.Blockly.JavaScript.getAdjusted(a,"AT"),"GET"===b)return[d+"["+a+"]",$.Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"===b)return[d+".splice("+a+", 1)[0]",$.Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"===b)return d+".splice("+a+", 1);\n";break;case"FROM_END":if(a=$.Blockly.JavaScript.getAdjusted(a,"AT",1,!0),"GET"===b)return[d+".slice("+a+")[0]",$.Blockly.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"===b)return[d+".splice("+a+", 1)[0]",$.Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"===b)return d+".splice("+a+", 1);";break;case"RANDOM":if(d=$.Blockly.JavaScript.provideFunction_("listsGetRandomItem","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {\n  var x = Math.floor(Math.random() * list.length);\n  if (remove) {\n    return list.splice(x, 1)[0];\n  } else {\n    return list[x];\n  }\n}\n")+"("+d+", "+("GET"!==b)+")","GET"===b||"GET_REMOVE"===b)return[d,$.Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"===b)return d+";\n"}throw Error("Unhandled combination (lists_getIndex).")},$.Blockly.JavaScript.lists_setIndex=function(a){function b(){if(c.match(/^\w+$/))return"";var g=$.Blockly.JavaScript.nameDB_.getDistinctName("tmpList",$.module$exports$Blockly$Names.NameType.VARIABLE),h="var "+g+" = "+c+";\n";return c=g,h}var c=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_MEMBER)||"[]",d=a.getFieldValue("MODE")||"GET",e=a.getFieldValue("WHERE")||"FROM_START",f=$.Blockly.JavaScript.valueToCode(a,"TO",$.Blockly.JavaScript.ORDER_ASSIGNMENT)||"null";switch(e){case"FIRST":if("SET"===d)return c+"[0] = "+f+";\n";if("INSERT"===d)return c+".unshift("+f+");\n";break;case"LAST":if("SET"===d)return b()+(c+"[")+c+".length - 1] = "+f+";\n";if("INSERT"===d)return c+".push("+f+");\n";break;case"FROM_START":if(a=$.Blockly.JavaScript.getAdjusted(a,"AT"),"SET"===d)return c+"["+a+"] = "+f+";\n";if("INSERT"===d)return c+".splice("+a+", 0, "+f+");\n";break;case"FROM_END":if(a=$.Blockly.JavaScript.getAdjusted(a,"AT",1,!1,$.Blockly.JavaScript.ORDER_SUBTRACTION),e=b(),"SET"===d)return e+(c+"[")+c+".length - "+a+"] = "+f+";\n";if("INSERT"===d)return e+(c+".splice(")+c+".length - "+a+", 0, "+f+");\n";break;case"RANDOM":if(a=b(),a+="var "+(e=$.Blockly.JavaScript.nameDB_.getDistinctName("tmpX",$.module$exports$Blockly$Names.NameType.VARIABLE))+" = Math.floor(Math.random() * "+c+".length);\n","SET"===d)return a+(c+"[")+e+"] = "+f+";\n";if("INSERT"===d)return a+(c+".splice(")+e+", 0, "+f+");\n"}throw Error("Unhandled combination (lists_setIndex).")};var module$contents$Blockly$JavaScript$lists_getSubstringIndex=function(a,b,c){return"FIRST"===b?"0":"FROM_END"===b?a+".length - 1 - "+c:"LAST"===b?a+".length - 1":c};return $.Blockly.JavaScript.lists_getSublist=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_MEMBER)||"[]",c=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");if("FIRST"===c&&"LAST"===d)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!==c&&"FROM_START"===d){switch(c){case"FROM_START":c=$.Blockly.JavaScript.getAdjusted(a,"AT1");break;case"FROM_END":c=b+".length - "+(c=$.Blockly.JavaScript.getAdjusted(a,"AT1",1,!1,$.Blockly.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":c="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(d){case"FROM_START":d=$.Blockly.JavaScript.getAdjusted(a,"AT2",1);break;case"FROM_END":d=b+".length - "+(d=$.Blockly.JavaScript.getAdjusted(a,"AT2",0,!1,$.Blockly.JavaScript.ORDER_SUBTRACTION));break;case"LAST":d=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}b=b+".slice("+c+", "+d+")"}else{var e=$.Blockly.JavaScript.getAdjusted(a,"AT1");a=$.Blockly.JavaScript.getAdjusted(a,"AT2");var f={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=$.Blockly.JavaScript.provideFunction_("subsequence"+f[c]+f[d],"\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"===c||"FROM_START"===c?", at1":"")+("FROM_END"===d||"FROM_START"===d?", at2":"")+") {\n  var start = "+module$contents$Blockly$JavaScript$lists_getSubstringIndex("sequence",c,"at1")+";\n  var end = "+module$contents$Blockly$JavaScript$lists_getSubstringIndex("sequence",d,"at2")+" + 1;\n  return sequence.slice(start, end);\n}\n")+"("+b+("FROM_END"===c||"FROM_START"===c?", "+e:"")+("FROM_END"===d||"FROM_START"===d?", "+a:"")+")"}return[b,$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.lists_sort=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]",c="1"===a.getFieldValue("DIRECTION")?1:-1;return a=a.getFieldValue("TYPE"),[b+".slice().sort("+$.Blockly.JavaScript.provideFunction_("listsGetSortCompare","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {\n  var compareFuncs = {\n    'NUMERIC': function(a, b) {\n        return Number(a) - Number(b); },\n    'TEXT': function(a, b) {\n        return a.toString() > b.toString() ? 1 : -1; },\n    'IGNORE_CASE': function(a, b) {\n        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },\n  };\n  var compare = compareFuncs[type];\n  return function(a, b) { return compare(a, b) * direction; };\n}\n      ")+'("'+a+'", '+c+"))",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.lists_split=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"INPUT",$.Blockly.JavaScript.ORDER_MEMBER),c=$.Blockly.JavaScript.valueToCode(a,"DELIM",$.Blockly.JavaScript.ORDER_NONE)||"''";if("SPLIT"===(a=a.getFieldValue("MODE")))b||(b="''"),a="split";else{if("JOIN"!==a)throw Error("Unknown mode: "+a);b||(b="[]"),a="join"}return[b+"."+a+"("+c+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.lists_reverse=function(a){return[($.Blockly.JavaScript.valueToCode(a,"LIST",$.Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.colour_picker=function(a){return[$.Blockly.JavaScript.quote_(a.getFieldValue("COLOUR")),$.Blockly.JavaScript.ORDER_ATOMIC]},$.Blockly.JavaScript.colour_random=function(a){return[$.Blockly.JavaScript.provideFunction_("colourRandom","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {\n  var num = Math.floor(Math.random() * Math.pow(2, 24));\n  return '#' + ('00000' + num.toString(16)).substr(-6);\n}\n")+"()",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.colour_rgb=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"RED",$.Blockly.JavaScript.ORDER_NONE)||0,c=$.Blockly.JavaScript.valueToCode(a,"GREEN",$.Blockly.JavaScript.ORDER_NONE)||0;return a=$.Blockly.JavaScript.valueToCode(a,"BLUE",$.Blockly.JavaScript.ORDER_NONE)||0,[$.Blockly.JavaScript.provideFunction_("colourRgb","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {\n  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;\n  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;\n  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;\n  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);\n  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);\n  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n")+"("+b+", "+c+", "+a+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.colour_blend=function(a){var b=$.Blockly.JavaScript.valueToCode(a,"COLOUR1",$.Blockly.JavaScript.ORDER_NONE)||"'#000000'",c=$.Blockly.JavaScript.valueToCode(a,"COLOUR2",$.Blockly.JavaScript.ORDER_NONE)||"'#000000'";return a=$.Blockly.JavaScript.valueToCode(a,"RATIO",$.Blockly.JavaScript.ORDER_NONE)||.5,[$.Blockly.JavaScript.provideFunction_("colourBlend","\nfunction "+$.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {\n  ratio = Math.max(Math.min(Number(ratio), 1), 0);\n  var r1 = parseInt(c1.substring(1, 3), 16);\n  var g1 = parseInt(c1.substring(3, 5), 16);\n  var b1 = parseInt(c1.substring(5, 7), 16);\n  var r2 = parseInt(c2.substring(1, 3), 16);\n  var g2 = parseInt(c2.substring(3, 5), 16);\n  var b2 = parseInt(c2.substring(5, 7), 16);\n  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);\n  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);\n  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);\n  r = ('0' + (r || 0).toString(16)).slice(-2);\n  g = ('0' + (g || 0).toString(16)).slice(-2);\n  b = ('0' + (b || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n")+"("+b+", "+c+", "+a+")",$.Blockly.JavaScript.ORDER_FUNCTION_CALL]},$.Blockly.JavaScript.__namespace__=$,$.Blockly.JavaScript})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},177:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(256)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(Blockly){return(Blockly={Msg:{}}).Msg.ADD_COMMENT="Add Comment",Blockly.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",Blockly.Msg.CHANGE_VALUE_TITLE="Change value:",Blockly.Msg.CLEAN_UP="Clean up Blocks",Blockly.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",Blockly.Msg.COLLAPSE_ALL="Collapse Blocks",Blockly.Msg.COLLAPSE_BLOCK="Collapse Block",Blockly.Msg.COLOUR_BLEND_COLOUR1="colour 1",Blockly.Msg.COLOUR_BLEND_COLOUR2="colour 2",Blockly.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",Blockly.Msg.COLOUR_BLEND_RATIO="ratio",Blockly.Msg.COLOUR_BLEND_TITLE="blend",Blockly.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",Blockly.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",Blockly.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",Blockly.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",Blockly.Msg.COLOUR_RANDOM_TITLE="random colour",Blockly.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",Blockly.Msg.COLOUR_RGB_BLUE="blue",Blockly.Msg.COLOUR_RGB_GREEN="green",Blockly.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",Blockly.Msg.COLOUR_RGB_RED="red",Blockly.Msg.COLOUR_RGB_TITLE="colour with",Blockly.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",Blockly.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",Blockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",Blockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",Blockly.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",Blockly.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",Blockly.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",Blockly.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",Blockly.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",Blockly.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",Blockly.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",Blockly.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",Blockly.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",Blockly.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",Blockly.Msg.CONTROLS_IF_MSG_ELSE="else",Blockly.Msg.CONTROLS_IF_MSG_ELSEIF="else if",Blockly.Msg.CONTROLS_IF_MSG_IF="if",Blockly.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",Blockly.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",Blockly.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",Blockly.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",Blockly.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",Blockly.Msg.CONTROLS_REPEAT_INPUT_DO="do",Blockly.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",Blockly.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",Blockly.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",Blockly.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",Blockly.Msg.DELETE_BLOCK="Delete Block",Blockly.Msg.DELETE_VARIABLE="Delete the '%1' variable",Blockly.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",Blockly.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",Blockly.Msg.DIALOG_CANCEL="Cancel",Blockly.Msg.DIALOG_OK="OK",Blockly.Msg.DISABLE_BLOCK="Disable Block",Blockly.Msg.DUPLICATE_BLOCK="Duplicate",Blockly.Msg.DUPLICATE_COMMENT="Duplicate Comment",Blockly.Msg.ENABLE_BLOCK="Enable Block",Blockly.Msg.EXPAND_ALL="Expand Blocks",Blockly.Msg.EXPAND_BLOCK="Expand Block",Blockly.Msg.EXTERNAL_INPUTS="External Inputs",Blockly.Msg.HELP="Help",Blockly.Msg.INLINE_INPUTS="Inline Inputs",Blockly.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",Blockly.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",Blockly.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",Blockly.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",Blockly.Msg.LISTS_GET_INDEX_FIRST="first",Blockly.Msg.LISTS_GET_INDEX_FROM_END="# from end",Blockly.Msg.LISTS_GET_INDEX_FROM_START="#",Blockly.Msg.LISTS_GET_INDEX_GET="get",Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",Blockly.Msg.LISTS_GET_INDEX_LAST="last",Blockly.Msg.LISTS_GET_INDEX_RANDOM="random",Blockly.Msg.LISTS_GET_INDEX_REMOVE="remove",Blockly.Msg.LISTS_GET_INDEX_TAIL="",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",Blockly.Msg.LISTS_GET_SUBLIST_END_LAST="to last",Blockly.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",Blockly.Msg.LISTS_GET_SUBLIST_TAIL="",Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",Blockly.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",Blockly.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",Blockly.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",Blockly.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",Blockly.Msg.LISTS_INLIST="in list",Blockly.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",Blockly.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",Blockly.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",Blockly.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",Blockly.Msg.LISTS_LENGTH_TITLE="length of %1",Blockly.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",Blockly.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",Blockly.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",Blockly.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",Blockly.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",Blockly.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",Blockly.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",Blockly.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",Blockly.Msg.LISTS_SET_INDEX_INPUT_TO="as",Blockly.Msg.LISTS_SET_INDEX_INSERT="insert at",Blockly.Msg.LISTS_SET_INDEX_SET="set",Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",Blockly.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",Blockly.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",Blockly.Msg.LISTS_SORT_ORDER_DESCENDING="descending",Blockly.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",Blockly.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",Blockly.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",Blockly.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",Blockly.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",Blockly.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",Blockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",Blockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",Blockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",Blockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",Blockly.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",Blockly.Msg.LOGIC_BOOLEAN_FALSE="false",Blockly.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",Blockly.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",Blockly.Msg.LOGIC_BOOLEAN_TRUE="true",Blockly.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",Blockly.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",Blockly.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",Blockly.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",Blockly.Msg.LOGIC_NEGATE_TITLE="not %1",Blockly.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",Blockly.Msg.LOGIC_NULL="null",Blockly.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",Blockly.Msg.LOGIC_NULL_TOOLTIP="Returns null.",Blockly.Msg.LOGIC_OPERATION_AND="and",Blockly.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",Blockly.Msg.LOGIC_OPERATION_OR="or",Blockly.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",Blockly.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",Blockly.Msg.LOGIC_TERNARY_CONDITION="test",Blockly.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",Blockly.Msg.LOGIC_TERNARY_IF_FALSE="if false",Blockly.Msg.LOGIC_TERNARY_IF_TRUE="if true",Blockly.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",Blockly.Msg.MATH_ADDITION_SYMBOL="+",Blockly.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",Blockly.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",Blockly.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",Blockly.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",Blockly.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",Blockly.Msg.MATH_CHANGE_TITLE="change %1 by %2",Blockly.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",Blockly.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",Blockly.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).",Blockly.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",Blockly.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",Blockly.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",Blockly.Msg.MATH_DIVISION_SYMBOL="",Blockly.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",Blockly.Msg.MATH_IS_EVEN="is even",Blockly.Msg.MATH_IS_NEGATIVE="is negative",Blockly.Msg.MATH_IS_ODD="is odd",Blockly.Msg.MATH_IS_POSITIVE="is positive",Blockly.Msg.MATH_IS_PRIME="is prime",Blockly.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",Blockly.Msg.MATH_IS_WHOLE="is whole",Blockly.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",Blockly.Msg.MATH_MODULO_TITLE="remainder of %1  %2",Blockly.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",Blockly.Msg.MATH_MULTIPLICATION_SYMBOL="",Blockly.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",Blockly.Msg.MATH_NUMBER_TOOLTIP="A number.",Blockly.Msg.MATH_ONLIST_HELPURL="",Blockly.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",Blockly.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",Blockly.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",Blockly.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",Blockly.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",Blockly.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",Blockly.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",Blockly.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",Blockly.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",Blockly.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",Blockly.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",Blockly.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",Blockly.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",Blockly.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",Blockly.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",Blockly.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",Blockly.Msg.MATH_POWER_SYMBOL="^",Blockly.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",Blockly.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",Blockly.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",Blockly.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",Blockly.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",Blockly.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",Blockly.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",Blockly.Msg.MATH_ROUND_OPERATOR_ROUND="round",Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",Blockly.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",Blockly.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",Blockly.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",Blockly.Msg.MATH_SINGLE_OP_ROOT="square root",Blockly.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",Blockly.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",Blockly.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",Blockly.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",Blockly.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",Blockly.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",Blockly.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",Blockly.Msg.MATH_SUBTRACTION_SYMBOL="-",Blockly.Msg.MATH_TRIG_ACOS="acos",Blockly.Msg.MATH_TRIG_ASIN="asin",Blockly.Msg.MATH_TRIG_ATAN="atan",Blockly.Msg.MATH_TRIG_COS="cos",Blockly.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",Blockly.Msg.MATH_TRIG_SIN="sin",Blockly.Msg.MATH_TRIG_TAN="tan",Blockly.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",Blockly.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",Blockly.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",Blockly.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",Blockly.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",Blockly.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",Blockly.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",Blockly.Msg.NEW_NUMBER_VARIABLE="Create number variable...",Blockly.Msg.NEW_STRING_VARIABLE="Create string variable...",Blockly.Msg.NEW_VARIABLE="Create variable...",Blockly.Msg.NEW_VARIABLE_TITLE="New variable name:",Blockly.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",Blockly.Msg.ORDINAL_NUMBER_SUFFIX="",Blockly.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",Blockly.Msg.PROCEDURES_BEFORE_PARAMS="with:",Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",Blockly.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",Blockly.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",Blockly.Msg.PROCEDURES_CREATE_DO="Create '%1'",Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",Blockly.Msg.PROCEDURES_DEFNORETURN_DO="",Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE="to",Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",Blockly.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",Blockly.Msg.PROCEDURES_DEFRETURN_RETURN="return",Blockly.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",Blockly.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",Blockly.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",Blockly.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",Blockly.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",Blockly.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",Blockly.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",Blockly.Msg.REDO="Redo",Blockly.Msg.REMOVE_COMMENT="Remove Comment",Blockly.Msg.RENAME_VARIABLE="Rename variable...",Blockly.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",Blockly.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",Blockly.Msg.TEXT_APPEND_TITLE="to %1 append text %2",Blockly.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",Blockly.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",Blockly.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",Blockly.Msg.TEXT_CHARAT_FIRST="get first letter",Blockly.Msg.TEXT_CHARAT_FROM_END="get letter # from end",Blockly.Msg.TEXT_CHARAT_FROM_START="get letter #",Blockly.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",Blockly.Msg.TEXT_CHARAT_LAST="get last letter",Blockly.Msg.TEXT_CHARAT_RANDOM="get random letter",Blockly.Msg.TEXT_CHARAT_TAIL="",Blockly.Msg.TEXT_CHARAT_TITLE="in text %1 %2",Blockly.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",Blockly.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",Blockly.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",Blockly.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",Blockly.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",Blockly.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",Blockly.Msg.TEXT_GET_SUBSTRING_TAIL="",Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",Blockly.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",Blockly.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",Blockly.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",Blockly.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",Blockly.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",Blockly.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",Blockly.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",Blockly.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",Blockly.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",Blockly.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",Blockly.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",Blockly.Msg.TEXT_LENGTH_TITLE="length of %1",Blockly.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",Blockly.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",Blockly.Msg.TEXT_PRINT_TITLE="print %1",Blockly.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",Blockly.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",Blockly.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",Blockly.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",Blockly.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",Blockly.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",Blockly.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",Blockly.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",Blockly.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",Blockly.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",Blockly.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",Blockly.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",Blockly.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",Blockly.Msg.TODAY="Today",Blockly.Msg.UNDO="Undo",Blockly.Msg.UNNAMED_KEY="unnamed",Blockly.Msg.VARIABLES_DEFAULT_NAME="item",Blockly.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",Blockly.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",Blockly.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",Blockly.Msg.VARIABLES_SET="set %1 to %2",Blockly.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",Blockly.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",Blockly.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",Blockly.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",Blockly.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",Blockly.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",Blockly.Msg.CONTROLS_FOREACH_INPUT_DO=Blockly.Msg.CONTROLS_REPEAT_INPUT_DO,Blockly.Msg.CONTROLS_FOR_INPUT_DO=Blockly.Msg.CONTROLS_REPEAT_INPUT_DO,Blockly.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=Blockly.Msg.CONTROLS_IF_MSG_ELSEIF,Blockly.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=Blockly.Msg.CONTROLS_IF_MSG_ELSE,Blockly.Msg.CONTROLS_IF_IF_TITLE_IF=Blockly.Msg.CONTROLS_IF_MSG_IF,Blockly.Msg.CONTROLS_IF_MSG_THEN=Blockly.Msg.CONTROLS_REPEAT_INPUT_DO,Blockly.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=Blockly.Msg.CONTROLS_REPEAT_INPUT_DO,Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE=Blockly.Msg.VARIABLES_DEFAULT_NAME,Blockly.Msg.LISTS_GET_INDEX_HELPURL=Blockly.Msg.LISTS_INDEX_OF_HELPURL,Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=Blockly.Msg.LISTS_INLIST,Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=Blockly.Msg.LISTS_INLIST,Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=Blockly.Msg.LISTS_INLIST,Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=Blockly.Msg.LISTS_INLIST,Blockly.Msg.MATH_CHANGE_TITLE_ITEM=Blockly.Msg.VARIABLES_DEFAULT_NAME,Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT=Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT,Blockly.Msg.PROCEDURES_DEFRETURN_DO=Blockly.Msg.PROCEDURES_DEFNORETURN_DO,Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE=Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,Blockly.Msg.PROCEDURES_DEFRETURN_TITLE=Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE,Blockly.Msg.TEXT_APPEND_VARIABLE=Blockly.Msg.VARIABLES_DEFAULT_NAME,Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=Blockly.Msg.VARIABLES_DEFAULT_NAME,Blockly.Msg.MATH_HUE="230",Blockly.Msg.LOOPS_HUE="120",Blockly.Msg.LISTS_HUE="260",Blockly.Msg.LOGIC_HUE="210",Blockly.Msg.VARIABLES_HUE="330",Blockly.Msg.TEXTS_HUE="160",Blockly.Msg.PROCEDURES_HUE="290",Blockly.Msg.COLOUR_HUE="20",Blockly.Msg.VARIABLES_DYNAMIC_HUE="310",Blockly.Msg})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},779:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(514)],__WEBPACK_AMD_DEFINE_FACTORY__=function(Long){"use strict";var ByteBuffer=function(capacity,littleEndian,noAssert){if(void 0===capacity&&(capacity=ByteBuffer.DEFAULT_CAPACITY),void 0===littleEndian&&(littleEndian=ByteBuffer.DEFAULT_ENDIAN),void 0===noAssert&&(noAssert=ByteBuffer.DEFAULT_NOASSERT),!noAssert){if((capacity|=0)<0)throw RangeError("Illegal capacity");littleEndian=!!littleEndian,noAssert=!!noAssert}this.buffer=0===capacity?EMPTY_BUFFER:new ArrayBuffer(capacity),this.view=0===capacity?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=capacity,this.littleEndian=littleEndian,this.noAssert=noAssert};ByteBuffer.VERSION="5.0.1",ByteBuffer.LITTLE_ENDIAN=!0,ByteBuffer.BIG_ENDIAN=!1,ByteBuffer.DEFAULT_CAPACITY=16,ByteBuffer.DEFAULT_ENDIAN=ByteBuffer.BIG_ENDIAN,ByteBuffer.DEFAULT_NOASSERT=!1,ByteBuffer.Long=Long||null;var ByteBufferPrototype=ByteBuffer.prototype;ByteBufferPrototype.__isByteBuffer__,Object.defineProperty(ByteBufferPrototype,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var EMPTY_BUFFER=new ArrayBuffer(0),stringFromCharCode=String.fromCharCode;function stringSource(s){var i=0;return function(){return i<s.length?s.charCodeAt(i++):null}}function stringDestination(){var cs=[],ps=[];return function(){if(0===arguments.length)return ps.join("")+stringFromCharCode.apply(String,cs);cs.length+arguments.length>1024&&(ps.push(stringFromCharCode.apply(String,cs)),cs.length=0),Array.prototype.push.apply(cs,arguments)}}function ieee754_read(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)}function ieee754_write(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}ByteBuffer.accessor=function(){return Uint8Array},ByteBuffer.allocate=function(capacity,littleEndian,noAssert){return new ByteBuffer(capacity,littleEndian,noAssert)},ByteBuffer.concat=function(buffers,encoding,littleEndian,noAssert){"boolean"!=typeof encoding&&"string"==typeof encoding||(noAssert=littleEndian,littleEndian=encoding,encoding=void 0);for(var length,capacity=0,i=0,k=buffers.length;i<k;++i)ByteBuffer.isByteBuffer(buffers[i])||(buffers[i]=ByteBuffer.wrap(buffers[i],encoding)),(length=buffers[i].limit-buffers[i].offset)>0&&(capacity+=length);if(0===capacity)return new ByteBuffer(0,littleEndian,noAssert);var bi,bb=new ByteBuffer(capacity,littleEndian,noAssert);for(i=0;i<k;)(length=(bi=buffers[i++]).limit-bi.offset)<=0||(bb.view.set(bi.view.subarray(bi.offset,bi.limit),bb.offset),bb.offset+=length);return bb.limit=bb.offset,bb.offset=0,bb},ByteBuffer.isByteBuffer=function(bb){return!0===(bb&&bb.__isByteBuffer__)},ByteBuffer.type=function(){return ArrayBuffer},ByteBuffer.wrap=function(buffer,encoding,littleEndian,noAssert){if("string"!=typeof encoding&&(noAssert=littleEndian,littleEndian=encoding,encoding=void 0),"string"==typeof buffer)switch(void 0===encoding&&(encoding="utf8"),encoding){case"base64":return ByteBuffer.fromBase64(buffer,littleEndian);case"hex":return ByteBuffer.fromHex(buffer,littleEndian);case"binary":return ByteBuffer.fromBinary(buffer,littleEndian);case"utf8":return ByteBuffer.fromUTF8(buffer,littleEndian);case"debug":return ByteBuffer.fromDebug(buffer,littleEndian);default:throw Error("Unsupported encoding: "+encoding)}if(null===buffer||"object"!=typeof buffer)throw TypeError("Illegal buffer");var bb;if(ByteBuffer.isByteBuffer(buffer))return(bb=ByteBufferPrototype.clone.call(buffer)).markedOffset=-1,bb;if(buffer instanceof Uint8Array)bb=new ByteBuffer(0,littleEndian,noAssert),buffer.length>0&&(bb.buffer=buffer.buffer,bb.offset=buffer.byteOffset,bb.limit=buffer.byteOffset+buffer.byteLength,bb.view=new Uint8Array(buffer.buffer));else if(buffer instanceof ArrayBuffer)bb=new ByteBuffer(0,littleEndian,noAssert),buffer.byteLength>0&&(bb.buffer=buffer,bb.offset=0,bb.limit=buffer.byteLength,bb.view=buffer.byteLength>0?new Uint8Array(buffer):null);else{if("[object Array]"!==Object.prototype.toString.call(buffer))throw TypeError("Illegal buffer");(bb=new ByteBuffer(buffer.length,littleEndian,noAssert)).limit=buffer.length;for(var i=0;i<buffer.length;++i)bb.view[i]=buffer[i]}return bb},ByteBufferPrototype.writeBitSet=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if(!(value instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}var k,start=offset,bits=value.length,bytes=bits>>3,bit=0;for(offset+=this.writeVarint32(bits,offset);bytes--;)k=1&!!value[bit++]|(1&!!value[bit++])<<1|(1&!!value[bit++])<<2|(1&!!value[bit++])<<3|(1&!!value[bit++])<<4|(1&!!value[bit++])<<5|(1&!!value[bit++])<<6|(1&!!value[bit++])<<7,this.writeByte(k,offset++);if(bit<bits){var m=0;for(k=0;bit<bits;)k|=(1&!!value[bit++])<<m++;this.writeByte(k,offset++)}return relative?(this.offset=offset,this):offset-start},ByteBufferPrototype.readBitSet=function(offset){var relative=void 0===offset;relative&&(offset=this.offset);var k,ret=this.readVarint32(offset),bits=ret.value,bytes=bits>>3,bit=0,value=[];for(offset+=ret.length;bytes--;)k=this.readByte(offset++),value[bit++]=!!(1&k),value[bit++]=!!(2&k),value[bit++]=!!(4&k),value[bit++]=!!(8&k),value[bit++]=!!(16&k),value[bit++]=!!(32&k),value[bit++]=!!(64&k),value[bit++]=!!(128&k);if(bit<bits){var m=0;for(k=this.readByte(offset++);bit<bits;)value[bit++]=!!(k>>m++&1)}return relative&&(this.offset=offset),value},ByteBufferPrototype.readBytes=function(length,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+length>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+"+length+") <= "+this.buffer.byteLength)}var slice=this.slice(offset,offset+length);return relative&&(this.offset+=length),slice},ByteBufferPrototype.writeBytes=ByteBufferPrototype.append,ByteBufferPrototype.writeInt8=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!=0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value|=0,"number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}offset+=1;var capacity0=this.buffer.byteLength;return offset>capacity0&&this.resize((capacity0*=2)>offset?capacity0:offset),offset-=1,this.view[offset]=value,relative&&(this.offset+=1),this},ByteBufferPrototype.writeByte=ByteBufferPrototype.writeInt8,ByteBufferPrototype.readInt8=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.byteLength)}var value=this.view[offset];return 128==(128&value)&&(value=-(255-value+1)),relative&&(this.offset+=1),value},ByteBufferPrototype.readByte=ByteBufferPrototype.readInt8,ByteBufferPrototype.writeUint8=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!=0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value>>>=0,"number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}offset+=1;var capacity1=this.buffer.byteLength;return offset>capacity1&&this.resize((capacity1*=2)>offset?capacity1:offset),offset-=1,this.view[offset]=value,relative&&(this.offset+=1),this},ByteBufferPrototype.writeUInt8=ByteBufferPrototype.writeUint8,ByteBufferPrototype.readUint8=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.byteLength)}var value=this.view[offset];return relative&&(this.offset+=1),value},ByteBufferPrototype.readUInt8=ByteBufferPrototype.readUint8,ByteBufferPrototype.writeInt16=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!=0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value|=0,"number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}offset+=2;var capacity2=this.buffer.byteLength;return offset>capacity2&&this.resize((capacity2*=2)>offset?capacity2:offset),offset-=2,this.littleEndian?(this.view[offset+1]=(65280&value)>>>8,this.view[offset]=255&value):(this.view[offset]=(65280&value)>>>8,this.view[offset+1]=255&value),relative&&(this.offset+=2),this},ByteBufferPrototype.writeShort=ByteBufferPrototype.writeInt16,ByteBufferPrototype.readInt16=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+2) <= "+this.buffer.byteLength)}var value=0;return this.littleEndian?(value=this.view[offset],value|=this.view[offset+1]<<8):(value=this.view[offset]<<8,value|=this.view[offset+1]),32768==(32768&value)&&(value=-(65535-value+1)),relative&&(this.offset+=2),value},ByteBufferPrototype.readShort=ByteBufferPrototype.readInt16,ByteBufferPrototype.writeUint16=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!=0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value>>>=0,"number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}offset+=2;var capacity3=this.buffer.byteLength;return offset>capacity3&&this.resize((capacity3*=2)>offset?capacity3:offset),offset-=2,this.littleEndian?(this.view[offset+1]=(65280&value)>>>8,this.view[offset]=255&value):(this.view[offset]=(65280&value)>>>8,this.view[offset+1]=255&value),relative&&(this.offset+=2),this},ByteBufferPrototype.writeUInt16=ByteBufferPrototype.writeUint16,ByteBufferPrototype.readUint16=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+2) <= "+this.buffer.byteLength)}var value=0;return this.littleEndian?(value=this.view[offset],value|=this.view[offset+1]<<8):(value=this.view[offset]<<8,value|=this.view[offset+1]),relative&&(this.offset+=2),value},ByteBufferPrototype.readUInt16=ByteBufferPrototype.readUint16,ByteBufferPrototype.writeInt32=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!=0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value|=0,"number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}offset+=4;var capacity4=this.buffer.byteLength;return offset>capacity4&&this.resize((capacity4*=2)>offset?capacity4:offset),offset-=4,this.littleEndian?(this.view[offset+3]=value>>>24&255,this.view[offset+2]=value>>>16&255,this.view[offset+1]=value>>>8&255,this.view[offset]=255&value):(this.view[offset]=value>>>24&255,this.view[offset+1]=value>>>16&255,this.view[offset+2]=value>>>8&255,this.view[offset+3]=255&value),relative&&(this.offset+=4),this},ByteBufferPrototype.writeInt=ByteBufferPrototype.writeInt32,ByteBufferPrototype.readInt32=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+4) <= "+this.buffer.byteLength)}var value=0;return this.littleEndian?(value=this.view[offset+2]<<16,value|=this.view[offset+1]<<8,value|=this.view[offset],value+=this.view[offset+3]<<24>>>0):(value=this.view[offset+1]<<16,value|=this.view[offset+2]<<8,value|=this.view[offset+3],value+=this.view[offset]<<24>>>0),value|=0,relative&&(this.offset+=4),value},ByteBufferPrototype.readInt=ByteBufferPrototype.readInt32,ByteBufferPrototype.writeUint32=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!=0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value>>>=0,"number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}offset+=4;var capacity5=this.buffer.byteLength;return offset>capacity5&&this.resize((capacity5*=2)>offset?capacity5:offset),offset-=4,this.littleEndian?(this.view[offset+3]=value>>>24&255,this.view[offset+2]=value>>>16&255,this.view[offset+1]=value>>>8&255,this.view[offset]=255&value):(this.view[offset]=value>>>24&255,this.view[offset+1]=value>>>16&255,this.view[offset+2]=value>>>8&255,this.view[offset+3]=255&value),relative&&(this.offset+=4),this},ByteBufferPrototype.writeUInt32=ByteBufferPrototype.writeUint32,ByteBufferPrototype.readUint32=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+4) <= "+this.buffer.byteLength)}var value=0;return this.littleEndian?(value=this.view[offset+2]<<16,value|=this.view[offset+1]<<8,value|=this.view[offset],value+=this.view[offset+3]<<24>>>0):(value=this.view[offset+1]<<16,value|=this.view[offset+2]<<8,value|=this.view[offset+3],value+=this.view[offset]<<24>>>0),relative&&(this.offset+=4),value},ByteBufferPrototype.readUInt32=ByteBufferPrototype.readUint32,Long&&(ByteBufferPrototype.writeInt64=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"==typeof value)value=Long.fromNumber(value);else if("string"==typeof value)value=Long.fromString(value);else if(!(value&&value instanceof Long))throw TypeError("Illegal value: "+value+" (not an integer or Long)");if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}"number"==typeof value?value=Long.fromNumber(value):"string"==typeof value&&(value=Long.fromString(value)),offset+=8;var capacity6=this.buffer.byteLength;offset>capacity6&&this.resize((capacity6*=2)>offset?capacity6:offset),offset-=8;var lo=value.low,hi=value.high;return this.littleEndian?(this.view[offset+3]=lo>>>24&255,this.view[offset+2]=lo>>>16&255,this.view[offset+1]=lo>>>8&255,this.view[offset]=255&lo,offset+=4,this.view[offset+3]=hi>>>24&255,this.view[offset+2]=hi>>>16&255,this.view[offset+1]=hi>>>8&255,this.view[offset]=255&hi):(this.view[offset]=hi>>>24&255,this.view[offset+1]=hi>>>16&255,this.view[offset+2]=hi>>>8&255,this.view[offset+3]=255&hi,offset+=4,this.view[offset]=lo>>>24&255,this.view[offset+1]=lo>>>16&255,this.view[offset+2]=lo>>>8&255,this.view[offset+3]=255&lo),relative&&(this.offset+=8),this},ByteBufferPrototype.writeLong=ByteBufferPrototype.writeInt64,ByteBufferPrototype.readInt64=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+8) <= "+this.buffer.byteLength)}var lo=0,hi=0;this.littleEndian?(lo=this.view[offset+2]<<16,lo|=this.view[offset+1]<<8,lo|=this.view[offset],lo+=this.view[offset+3]<<24>>>0,offset+=4,hi=this.view[offset+2]<<16,hi|=this.view[offset+1]<<8,hi|=this.view[offset],hi+=this.view[offset+3]<<24>>>0):(hi=this.view[offset+1]<<16,hi|=this.view[offset+2]<<8,hi|=this.view[offset+3],hi+=this.view[offset]<<24>>>0,offset+=4,lo=this.view[offset+1]<<16,lo|=this.view[offset+2]<<8,lo|=this.view[offset+3],lo+=this.view[offset]<<24>>>0);var value=new Long(lo,hi,!1);return relative&&(this.offset+=8),value},ByteBufferPrototype.readLong=ByteBufferPrototype.readInt64,ByteBufferPrototype.writeUint64=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"==typeof value)value=Long.fromNumber(value);else if("string"==typeof value)value=Long.fromString(value);else if(!(value&&value instanceof Long))throw TypeError("Illegal value: "+value+" (not an integer or Long)");if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}"number"==typeof value?value=Long.fromNumber(value):"string"==typeof value&&(value=Long.fromString(value)),offset+=8;var capacity7=this.buffer.byteLength;offset>capacity7&&this.resize((capacity7*=2)>offset?capacity7:offset),offset-=8;var lo=value.low,hi=value.high;return this.littleEndian?(this.view[offset+3]=lo>>>24&255,this.view[offset+2]=lo>>>16&255,this.view[offset+1]=lo>>>8&255,this.view[offset]=255&lo,offset+=4,this.view[offset+3]=hi>>>24&255,this.view[offset+2]=hi>>>16&255,this.view[offset+1]=hi>>>8&255,this.view[offset]=255&hi):(this.view[offset]=hi>>>24&255,this.view[offset+1]=hi>>>16&255,this.view[offset+2]=hi>>>8&255,this.view[offset+3]=255&hi,offset+=4,this.view[offset]=lo>>>24&255,this.view[offset+1]=lo>>>16&255,this.view[offset+2]=lo>>>8&255,this.view[offset+3]=255&lo),relative&&(this.offset+=8),this},ByteBufferPrototype.writeUInt64=ByteBufferPrototype.writeUint64,ByteBufferPrototype.readUint64=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+8) <= "+this.buffer.byteLength)}var lo=0,hi=0;this.littleEndian?(lo=this.view[offset+2]<<16,lo|=this.view[offset+1]<<8,lo|=this.view[offset],lo+=this.view[offset+3]<<24>>>0,offset+=4,hi=this.view[offset+2]<<16,hi|=this.view[offset+1]<<8,hi|=this.view[offset],hi+=this.view[offset+3]<<24>>>0):(hi=this.view[offset+1]<<16,hi|=this.view[offset+2]<<8,hi|=this.view[offset+3],hi+=this.view[offset]<<24>>>0,offset+=4,lo=this.view[offset+1]<<16,lo|=this.view[offset+2]<<8,lo|=this.view[offset+3],lo+=this.view[offset]<<24>>>0);var value=new Long(lo,hi,!0);return relative&&(this.offset+=8),value},ByteBufferPrototype.readUInt64=ByteBufferPrototype.readUint64),ByteBufferPrototype.writeFloat32=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value)throw TypeError("Illegal value: "+value+" (not a number)");if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}offset+=4;var capacity8=this.buffer.byteLength;return offset>capacity8&&this.resize((capacity8*=2)>offset?capacity8:offset),offset-=4,ieee754_write(this.view,value,offset,this.littleEndian,23,4),relative&&(this.offset+=4),this},ByteBufferPrototype.writeFloat=ByteBufferPrototype.writeFloat32,ByteBufferPrototype.readFloat32=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+4) <= "+this.buffer.byteLength)}var value=ieee754_read(this.view,offset,this.littleEndian,23,4);return relative&&(this.offset+=4),value},ByteBufferPrototype.readFloat=ByteBufferPrototype.readFloat32,ByteBufferPrototype.writeFloat64=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value)throw TypeError("Illegal value: "+value+" (not a number)");if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}offset+=8;var capacity9=this.buffer.byteLength;return offset>capacity9&&this.resize((capacity9*=2)>offset?capacity9:offset),offset-=8,ieee754_write(this.view,value,offset,this.littleEndian,52,8),relative&&(this.offset+=8),this},ByteBufferPrototype.writeDouble=ByteBufferPrototype.writeFloat64,ByteBufferPrototype.readFloat64=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+8) <= "+this.buffer.byteLength)}var value=ieee754_read(this.view,offset,this.littleEndian,52,8);return relative&&(this.offset+=8),value},ByteBufferPrototype.readDouble=ByteBufferPrototype.readFloat64,ByteBuffer.MAX_VARINT32_BYTES=5,ByteBuffer.calculateVarint32=function(value){return(value>>>=0)<128?1:value<16384?2:value<1<<21?3:value<1<<28?4:5},ByteBuffer.zigZagEncode32=function(n){return((n|=0)<<1^n>>31)>>>0},ByteBuffer.zigZagDecode32=function(n){return n>>>1^-(1&n)|0},ByteBufferPrototype.writeVarint32=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!=0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value|=0,"number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}var b,size=ByteBuffer.calculateVarint32(value);offset+=size;var capacity10=this.buffer.byteLength;for(offset>capacity10&&this.resize((capacity10*=2)>offset?capacity10:offset),offset-=size,value>>>=0;value>=128;)b=127&value|128,this.view[offset++]=b,value>>>=7;return this.view[offset++]=value,relative?(this.offset=offset,this):size},ByteBufferPrototype.writeVarint32ZigZag=function(value,offset){return this.writeVarint32(ByteBuffer.zigZagEncode32(value),offset)},ByteBufferPrototype.readVarint32=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.byteLength)}var b,c=0,value=0;do{if(!this.noAssert&&offset>this.limit){var err=Error("Truncated");throw err.truncated=!0,err}b=this.view[offset++],c<5&&(value|=(127&b)<<7*c),++c}while(0!=(128&b));return value|=0,relative?(this.offset=offset,value):{value,length:c}},ByteBufferPrototype.readVarint32ZigZag=function(offset){var val=this.readVarint32(offset);return"object"==typeof val?val.value=ByteBuffer.zigZagDecode32(val.value):val=ByteBuffer.zigZagDecode32(val),val},Long&&(ByteBuffer.MAX_VARINT64_BYTES=10,ByteBuffer.calculateVarint64=function(value){"number"==typeof value?value=Long.fromNumber(value):"string"==typeof value&&(value=Long.fromString(value));var part0=value.toInt()>>>0,part1=value.shiftRightUnsigned(28).toInt()>>>0,part2=value.shiftRightUnsigned(56).toInt()>>>0;return 0==part2?0==part1?part0<16384?part0<128?1:2:part0<1<<21?3:4:part1<16384?part1<128?5:6:part1<1<<21?7:8:part2<128?9:10},ByteBuffer.zigZagEncode64=function(value){return"number"==typeof value?value=Long.fromNumber(value,!1):"string"==typeof value?value=Long.fromString(value,!1):!1!==value.unsigned&&(value=value.toSigned()),value.shiftLeft(1).xor(value.shiftRight(63)).toUnsigned()},ByteBuffer.zigZagDecode64=function(value){return"number"==typeof value?value=Long.fromNumber(value,!1):"string"==typeof value?value=Long.fromString(value,!1):!1!==value.unsigned&&(value=value.toSigned()),value.shiftRightUnsigned(1).xor(value.and(Long.ONE).toSigned().negate()).toSigned()},ByteBufferPrototype.writeVarint64=function(value,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"==typeof value)value=Long.fromNumber(value);else if("string"==typeof value)value=Long.fromString(value);else if(!(value&&value instanceof Long))throw TypeError("Illegal value: "+value+" (not an integer or Long)");if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}"number"==typeof value?value=Long.fromNumber(value,!1):"string"==typeof value?value=Long.fromString(value,!1):!1!==value.unsigned&&(value=value.toSigned());var size=ByteBuffer.calculateVarint64(value),part0=value.toInt()>>>0,part1=value.shiftRightUnsigned(28).toInt()>>>0,part2=value.shiftRightUnsigned(56).toInt()>>>0;offset+=size;var capacity11=this.buffer.byteLength;switch(offset>capacity11&&this.resize((capacity11*=2)>offset?capacity11:offset),offset-=size,size){case 10:this.view[offset+9]=part2>>>7&1;case 9:this.view[offset+8]=9!==size?128|part2:127&part2;case 8:this.view[offset+7]=8!==size?part1>>>21|128:part1>>>21&127;case 7:this.view[offset+6]=7!==size?part1>>>14|128:part1>>>14&127;case 6:this.view[offset+5]=6!==size?part1>>>7|128:part1>>>7&127;case 5:this.view[offset+4]=5!==size?128|part1:127&part1;case 4:this.view[offset+3]=4!==size?part0>>>21|128:part0>>>21&127;case 3:this.view[offset+2]=3!==size?part0>>>14|128:part0>>>14&127;case 2:this.view[offset+1]=2!==size?part0>>>7|128:part0>>>7&127;case 1:this.view[offset]=1!==size?128|part0:127&part0}return relative?(this.offset+=size,this):size},ByteBufferPrototype.writeVarint64ZigZag=function(value,offset){return this.writeVarint64(ByteBuffer.zigZagEncode64(value),offset)},ByteBufferPrototype.readVarint64=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.byteLength)}var start=offset,part0=0,part1=0,part2=0,b=0;if(part0=127&(b=this.view[offset++]),128&b&&(part0|=(127&(b=this.view[offset++]))<<7,(128&b||this.noAssert&&void 0===b)&&(part0|=(127&(b=this.view[offset++]))<<14,(128&b||this.noAssert&&void 0===b)&&(part0|=(127&(b=this.view[offset++]))<<21,(128&b||this.noAssert&&void 0===b)&&(part1=127&(b=this.view[offset++]),(128&b||this.noAssert&&void 0===b)&&(part1|=(127&(b=this.view[offset++]))<<7,(128&b||this.noAssert&&void 0===b)&&(part1|=(127&(b=this.view[offset++]))<<14,(128&b||this.noAssert&&void 0===b)&&(part1|=(127&(b=this.view[offset++]))<<21,(128&b||this.noAssert&&void 0===b)&&(part2=127&(b=this.view[offset++]),(128&b||this.noAssert&&void 0===b)&&(part2|=(127&(b=this.view[offset++]))<<7,128&b||this.noAssert&&void 0===b))))))))))throw Error("Buffer overrun");var value=Long.fromBits(part0|part1<<28,part1>>>4|part2<<24,!1);return relative?(this.offset=offset,value):{value,length:offset-start}},ByteBufferPrototype.readVarint64ZigZag=function(offset){var val=this.readVarint64(offset);return val&&val.value instanceof Long?val.value=ByteBuffer.zigZagDecode64(val.value):val=ByteBuffer.zigZagDecode64(val),val}),ByteBufferPrototype.writeCString=function(str,offset){var relative=void 0===offset;relative&&(offset=this.offset);var i,k=str.length;if(!this.noAssert){if("string"!=typeof str)throw TypeError("Illegal str: Not a string");for(i=0;i<k;++i)if(0===str.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}k=utfx.calculateUTF16asUTF8(stringSource(str))[1],offset+=k+1;var capacity12=this.buffer.byteLength;return offset>capacity12&&this.resize((capacity12*=2)>offset?capacity12:offset),offset-=k+1,utfx.encodeUTF16toUTF8(stringSource(str),function(b){this.view[offset++]=b}.bind(this)),this.view[offset++]=0,relative?(this.offset=offset,this):k},ByteBufferPrototype.readCString=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.byteLength)}var sd,start=offset,b=-1;return utfx.decodeUTF8toUTF16(function(){if(0===b)return null;if(offset>=this.limit)throw RangeError("Illegal range: Truncated data, "+offset+" < "+this.limit);return 0===(b=this.view[offset++])?null:b}.bind(this),sd=stringDestination(),!0),relative?(this.offset=offset,sd()):{string:sd(),length:offset-start}},ByteBufferPrototype.writeIString=function(str,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("string"!=typeof str)throw TypeError("Illegal str: Not a string");if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}var k,start=offset;k=utfx.calculateUTF16asUTF8(stringSource(str),this.noAssert)[1],offset+=4+k;var capacity13=this.buffer.byteLength;if(offset>capacity13&&this.resize((capacity13*=2)>offset?capacity13:offset),offset-=4+k,this.littleEndian?(this.view[offset+3]=k>>>24&255,this.view[offset+2]=k>>>16&255,this.view[offset+1]=k>>>8&255,this.view[offset]=255&k):(this.view[offset]=k>>>24&255,this.view[offset+1]=k>>>16&255,this.view[offset+2]=k>>>8&255,this.view[offset+3]=255&k),offset+=4,utfx.encodeUTF16toUTF8(stringSource(str),function(b){this.view[offset++]=b}.bind(this)),offset!==start+4+k)throw RangeError("Illegal range: Truncated data, "+offset+" == "+(offset+4+k));return relative?(this.offset=offset,this):offset-start},ByteBufferPrototype.readIString=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+4) <= "+this.buffer.byteLength)}var start=offset,len=this.readUint32(offset),str=this.readUTF8String(len,ByteBuffer.METRICS_BYTES,offset+=4);return offset+=str.length,relative?(this.offset=offset,str.string):{string:str.string,length:offset-start}},ByteBuffer.METRICS_CHARS="c",ByteBuffer.METRICS_BYTES="b",ByteBufferPrototype.writeUTF8String=function(str,offset){var k,relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}var start=offset;k=utfx.calculateUTF16asUTF8(stringSource(str))[1],offset+=k;var capacity14=this.buffer.byteLength;return offset>capacity14&&this.resize((capacity14*=2)>offset?capacity14:offset),offset-=k,utfx.encodeUTF16toUTF8(stringSource(str),function(b){this.view[offset++]=b}.bind(this)),relative?(this.offset=offset,this):offset-start},ByteBufferPrototype.writeString=ByteBufferPrototype.writeUTF8String,ByteBuffer.calculateUTF8Chars=function(str){return utfx.calculateUTF16asUTF8(stringSource(str))[0]},ByteBuffer.calculateUTF8Bytes=function(str){return utfx.calculateUTF16asUTF8(stringSource(str))[1]},ByteBuffer.calculateString=ByteBuffer.calculateUTF8Bytes,ByteBufferPrototype.readUTF8String=function(length,metrics,offset){"number"==typeof metrics&&(offset=metrics,metrics=void 0);var relative=void 0===offset;if(relative&&(offset=this.offset),void 0===metrics&&(metrics=ByteBuffer.METRICS_CHARS),!this.noAssert){if("number"!=typeof length||length%1!=0)throw TypeError("Illegal length: "+length+" (not an integer)");if(length|=0,"number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}var sd,i=0,start=offset;if(metrics===ByteBuffer.METRICS_CHARS){if(sd=stringDestination(),utfx.decodeUTF8(function(){return i<length&&offset<this.limit?this.view[offset++]:null}.bind(this),(function(cp){++i,utfx.UTF8toUTF16(cp,sd)})),i!==length)throw RangeError("Illegal range: Truncated data, "+i+" == "+length);return relative?(this.offset=offset,sd()):{string:sd(),length:offset-start}}if(metrics===ByteBuffer.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+length>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+"+length+") <= "+this.buffer.byteLength)}var k=offset+length;if(utfx.decodeUTF8toUTF16(function(){return offset<k?this.view[offset++]:null}.bind(this),sd=stringDestination(),this.noAssert),offset!==k)throw RangeError("Illegal range: Truncated data, "+offset+" == "+k);return relative?(this.offset=offset,sd()):{string:sd(),length:offset-start}}throw TypeError("Unsupported metrics: "+metrics)},ByteBufferPrototype.readString=ByteBufferPrototype.readUTF8String,ByteBufferPrototype.writeVString=function(str,offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("string"!=typeof str)throw TypeError("Illegal str: Not a string");if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}var k,l,start=offset;k=utfx.calculateUTF16asUTF8(stringSource(str),this.noAssert)[1],l=ByteBuffer.calculateVarint32(k),offset+=l+k;var capacity15=this.buffer.byteLength;if(offset>capacity15&&this.resize((capacity15*=2)>offset?capacity15:offset),offset-=l+k,offset+=this.writeVarint32(k,offset),utfx.encodeUTF16toUTF8(stringSource(str),function(b){this.view[offset++]=b}.bind(this)),offset!==start+k+l)throw RangeError("Illegal range: Truncated data, "+offset+" == "+(offset+k+l));return relative?(this.offset=offset,this):offset-start},ByteBufferPrototype.readVString=function(offset){var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.byteLength)}var start=offset,len=this.readVarint32(offset),str=this.readUTF8String(len.value,ByteBuffer.METRICS_BYTES,offset+=len.length);return offset+=str.length,relative?(this.offset=offset,str.string):{string:str.string,length:offset-start}},ByteBufferPrototype.append=function(source,encoding,offset){"number"!=typeof encoding&&"string"==typeof encoding||(offset=encoding,encoding=void 0);var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}source instanceof ByteBuffer||(source=ByteBuffer.wrap(source,encoding));var length=source.limit-source.offset;if(length<=0)return this;offset+=length;var capacity16=this.buffer.byteLength;return offset>capacity16&&this.resize((capacity16*=2)>offset?capacity16:offset),offset-=length,this.view.set(source.view.subarray(source.offset,source.limit),offset),source.offset+=length,relative&&(this.offset+=length),this},ByteBufferPrototype.appendTo=function(target,offset){return target.append(this,offset),this},ByteBufferPrototype.assert=function(assert){return this.noAssert=!assert,this},ByteBufferPrototype.capacity=function(){return this.buffer.byteLength},ByteBufferPrototype.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},ByteBufferPrototype.clone=function(copy){var bb=new ByteBuffer(0,this.littleEndian,this.noAssert);return copy?(bb.buffer=new ArrayBuffer(this.buffer.byteLength),bb.view=new Uint8Array(bb.buffer)):(bb.buffer=this.buffer,bb.view=this.view),bb.offset=this.offset,bb.markedOffset=this.markedOffset,bb.limit=this.limit,bb},ByteBufferPrototype.compact=function(begin,end){if(void 0===begin&&(begin=this.offset),void 0===end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!=0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!=0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,begin<0||begin>end||end>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.byteLength)}if(0===begin&&end===this.buffer.byteLength)return this;var len=end-begin;if(0===len)return this.buffer=EMPTY_BUFFER,this.view=null,this.markedOffset>=0&&(this.markedOffset-=begin),this.offset=0,this.limit=0,this;var buffer=new ArrayBuffer(len),view=new Uint8Array(buffer);return view.set(this.view.subarray(begin,end)),this.buffer=buffer,this.view=view,this.markedOffset>=0&&(this.markedOffset-=begin),this.offset=0,this.limit=len,this},ByteBufferPrototype.copy=function(begin,end){if(void 0===begin&&(begin=this.offset),void 0===end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!=0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!=0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,begin<0||begin>end||end>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.byteLength)}if(begin===end)return new ByteBuffer(0,this.littleEndian,this.noAssert);var capacity=end-begin,bb=new ByteBuffer(capacity,this.littleEndian,this.noAssert);return bb.offset=0,bb.limit=capacity,bb.markedOffset>=0&&(bb.markedOffset-=begin),this.copyTo(bb,0,begin,end),bb},ByteBufferPrototype.copyTo=function(target,targetOffset,sourceOffset,sourceLimit){var relative,targetRelative;if(!this.noAssert&&!ByteBuffer.isByteBuffer(target))throw TypeError("Illegal target: Not a ByteBuffer");if(targetOffset=(targetRelative=void 0===targetOffset)?target.offset:0|targetOffset,sourceOffset=(relative=void 0===sourceOffset)?this.offset:0|sourceOffset,sourceLimit=void 0===sourceLimit?this.limit:0|sourceLimit,targetOffset<0||targetOffset>target.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+targetOffset+" <= "+target.buffer.byteLength);if(sourceOffset<0||sourceLimit>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+sourceOffset+" <= "+this.buffer.byteLength);var len=sourceLimit-sourceOffset;return 0===len?target:(target.ensureCapacity(targetOffset+len),target.view.set(this.view.subarray(sourceOffset,sourceLimit),targetOffset),relative&&(this.offset+=len),targetRelative&&(target.offset+=len),this)},ByteBufferPrototype.ensureCapacity=function(capacity){var current=this.buffer.byteLength;return current<capacity?this.resize((current*=2)>capacity?current:capacity):this},ByteBufferPrototype.fill=function(value,begin,end){var relative=void 0===begin;if(relative&&(begin=this.offset),"string"==typeof value&&value.length>0&&(value=value.charCodeAt(0)),void 0===begin&&(begin=this.offset),void 0===end&&(end=this.limit),!this.noAssert){if("number"!=typeof value||value%1!=0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value|=0,"number"!=typeof begin||begin%1!=0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!=0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,begin<0||begin>end||end>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.byteLength)}if(begin>=end)return this;for(;begin<end;)this.view[begin++]=value;return relative&&(this.offset=begin),this},ByteBufferPrototype.flip=function(){return this.limit=this.offset,this.offset=0,this},ByteBufferPrototype.mark=function(offset){if(offset=void 0===offset?this.offset:offset,!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=offset,this},ByteBufferPrototype.order=function(littleEndian){if(!this.noAssert&&"boolean"!=typeof littleEndian)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!littleEndian,this},ByteBufferPrototype.LE=function(littleEndian){return this.littleEndian=void 0===littleEndian||!!littleEndian,this},ByteBufferPrototype.BE=function(bigEndian){return this.littleEndian=void 0!==bigEndian&&!bigEndian,this},ByteBufferPrototype.prepend=function(source,encoding,offset){"number"!=typeof encoding&&"string"==typeof encoding||(offset=encoding,encoding=void 0);var relative=void 0===offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if((offset>>>=0)<0||offset+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.byteLength)}source instanceof ByteBuffer||(source=ByteBuffer.wrap(source,encoding));var len=source.limit-source.offset;if(len<=0)return this;var diff=len-offset;if(diff>0){var buffer=new ArrayBuffer(this.buffer.byteLength+diff),view=new Uint8Array(buffer);view.set(this.view.subarray(offset,this.buffer.byteLength),len),this.buffer=buffer,this.view=view,this.offset+=diff,this.markedOffset>=0&&(this.markedOffset+=diff),this.limit+=diff,offset+=diff}else new Uint8Array(this.buffer);return this.view.set(source.view.subarray(source.offset,source.limit),offset-len),source.offset=source.limit,relative&&(this.offset-=len),this},ByteBufferPrototype.prependTo=function(target,offset){return target.prepend(this,offset),this},ByteBufferPrototype.printDebug=function(out){"function"!=typeof out&&(out=console.log.bind(console)),out(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},ByteBufferPrototype.remaining=function(){return this.limit-this.offset},ByteBufferPrototype.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},ByteBufferPrototype.resize=function(capacity){if(!this.noAssert){if("number"!=typeof capacity||capacity%1!=0)throw TypeError("Illegal capacity: "+capacity+" (not an integer)");if((capacity|=0)<0)throw RangeError("Illegal capacity: 0 <= "+capacity)}if(this.buffer.byteLength<capacity){var buffer=new ArrayBuffer(capacity),view=new Uint8Array(buffer);view.set(this.view),this.buffer=buffer,this.view=view}return this},ByteBufferPrototype.reverse=function(begin,end){if(void 0===begin&&(begin=this.offset),void 0===end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!=0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!=0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,begin<0||begin>end||end>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.byteLength)}return begin===end||Array.prototype.reverse.call(this.view.subarray(begin,end)),this},ByteBufferPrototype.skip=function(length){if(!this.noAssert){if("number"!=typeof length||length%1!=0)throw TypeError("Illegal length: "+length+" (not an integer)");length|=0}var offset=this.offset+length;if(!this.noAssert&&(offset<0||offset>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+length+" <= "+this.buffer.byteLength);return this.offset=offset,this},ByteBufferPrototype.slice=function(begin,end){if(void 0===begin&&(begin=this.offset),void 0===end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!=0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!=0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,begin<0||begin>end||end>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.byteLength)}var bb=this.clone();return bb.offset=begin,bb.limit=end,bb},ByteBufferPrototype.toBuffer=function(forceCopy){var offset=this.offset,limit=this.limit;if(!this.noAssert){if("number"!=typeof offset||offset%1!=0)throw TypeError("Illegal offset: Not an integer");if(offset>>>=0,"number"!=typeof limit||limit%1!=0)throw TypeError("Illegal limit: Not an integer");if(limit>>>=0,offset<0||offset>limit||limit>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+offset+" <= "+limit+" <= "+this.buffer.byteLength)}if(!forceCopy&&0===offset&&limit===this.buffer.byteLength)return this.buffer;if(offset===limit)return EMPTY_BUFFER;var buffer=new ArrayBuffer(limit-offset);return new Uint8Array(buffer).set(new Uint8Array(this.buffer).subarray(offset,limit),0),buffer},ByteBufferPrototype.toArrayBuffer=ByteBufferPrototype.toBuffer,ByteBufferPrototype.toString=function(encoding,begin,end){if(void 0===encoding)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof encoding&&(end=begin=encoding="utf8"),encoding){case"utf8":return this.toUTF8(begin,end);case"base64":return this.toBase64(begin,end);case"hex":return this.toHex(begin,end);case"binary":return this.toBinary(begin,end);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+encoding)}};var lxiv=function(){for(var lxiv={},aout=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],ain=[],i=0,k=aout.length;i<k;++i)ain[aout[i]]=i;return lxiv.encode=function(src,dst){for(var b,t;null!==(b=src());)dst(aout[b>>2&63]),t=(3&b)<<4,null!==(b=src())?(dst(aout[63&((t|=b>>4&15)|b>>4&15)]),t=(15&b)<<2,null!==(b=src())?(dst(aout[63&(t|b>>6&3)]),dst(aout[63&b])):(dst(aout[63&t]),dst(61))):(dst(aout[63&t]),dst(61),dst(61))},lxiv.decode=function(src,dst){var c,t1,t2;function fail(c){throw Error("Illegal character code: "+c)}for(;null!==(c=src());)if(void 0===(t1=ain[c])&&fail(c),null!==(c=src())&&(void 0===(t2=ain[c])&&fail(c),dst(t1<<2>>>0|(48&t2)>>4),null!==(c=src()))){if(void 0===(t1=ain[c])){if(61===c)break;fail(c)}if(dst((15&t2)<<4>>>0|(60&t1)>>2),null!==(c=src())){if(void 0===(t2=ain[c])){if(61===c)break;fail(c)}dst((3&t1)<<6>>>0|t2)}}},lxiv.test=function(str){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(str)},lxiv}();ByteBufferPrototype.toBase64=function(begin,end){if(void 0===begin&&(begin=this.offset),void 0===end&&(end=this.limit),end|=0,(begin|=0)<0||end>this.capacity||begin>end)throw RangeError("begin, end");var sd;return lxiv.encode(function(){return begin<end?this.view[begin++]:null}.bind(this),sd=stringDestination()),sd()},ByteBuffer.fromBase64=function(str,littleEndian){if("string"!=typeof str)throw TypeError("str");var bb=new ByteBuffer(str.length/4*3,littleEndian),i=0;return lxiv.decode(stringSource(str),(function(b){bb.view[i++]=b})),bb.limit=i,bb},ByteBuffer.btoa=function(str){return ByteBuffer.fromBinary(str).toBase64()},ByteBuffer.atob=function(b64){return ByteBuffer.fromBase64(b64).toBinary()},ByteBufferPrototype.toBinary=function(begin,end){if(void 0===begin&&(begin=this.offset),void 0===end&&(end=this.limit),end|=0,(begin|=0)<0||end>this.capacity()||begin>end)throw RangeError("begin, end");if(begin===end)return"";for(var chars=[],parts=[];begin<end;)chars.push(this.view[begin++]),chars.length>=1024&&(parts.push(String.fromCharCode.apply(String,chars)),chars=[]);return parts.join("")+String.fromCharCode.apply(String,chars)},ByteBuffer.fromBinary=function(str,littleEndian){if("string"!=typeof str)throw TypeError("str");for(var charCode,i=0,k=str.length,bb=new ByteBuffer(k,littleEndian);i<k;){if((charCode=str.charCodeAt(i))>255)throw RangeError("illegal char code: "+charCode);bb.view[i++]=charCode}return bb.limit=k,bb},ByteBufferPrototype.toDebug=function(columns){for(var b,i=-1,k=this.buffer.byteLength,hex="",asc="",out="";i<k;){if(-1!==i&&(hex+=(b=this.view[i])<16?"0"+b.toString(16).toUpperCase():b.toString(16).toUpperCase(),columns&&(asc+=b>32&&b<127?String.fromCharCode(b):".")),++i,columns&&i>0&&i%16==0&&i!==k){for(;hex.length<51;)hex+=" ";out+=hex+asc+"\n",hex=asc=""}i===this.offset&&i===this.limit?hex+=i===this.markedOffset?"!":"|":i===this.offset?hex+=i===this.markedOffset?"[":"<":i===this.limit?hex+=i===this.markedOffset?"]":">":hex+=i===this.markedOffset?"'":columns||0!==i&&i!==k?" ":""}if(columns&&" "!==hex){for(;hex.length<51;)hex+=" ";out+=hex+asc+"\n"}return columns?out:hex},ByteBuffer.fromDebug=function(str,littleEndian,noAssert){for(var ch,b,k=str.length,bb=new ByteBuffer((k+1)/3|0,littleEndian,noAssert),i=0,j=0,rs=!1,ho=!1,hm=!1,hl=!1,fail=!1;i<k;){switch(ch=str.charAt(i++)){case"!":if(!noAssert){if(ho||hm||hl){fail=!0;break}ho=hm=hl=!0}bb.offset=bb.markedOffset=bb.limit=j,rs=!1;break;case"|":if(!noAssert){if(ho||hl){fail=!0;break}ho=hl=!0}bb.offset=bb.limit=j,rs=!1;break;case"[":if(!noAssert){if(ho||hm){fail=!0;break}ho=hm=!0}bb.offset=bb.markedOffset=j,rs=!1;break;case"<":if(!noAssert){if(ho){fail=!0;break}ho=!0}bb.offset=j,rs=!1;break;case"]":if(!noAssert){if(hl||hm){fail=!0;break}hl=hm=!0}bb.limit=bb.markedOffset=j,rs=!1;break;case">":if(!noAssert){if(hl){fail=!0;break}hl=!0}bb.limit=j,rs=!1;break;case"'":if(!noAssert){if(hm){fail=!0;break}hm=!0}bb.markedOffset=j,rs=!1;break;case" ":rs=!1;break;default:if(!noAssert&&rs){fail=!0;break}if(b=parseInt(ch+str.charAt(i++),16),!noAssert&&(isNaN(b)||b<0||b>255))throw TypeError("Illegal str: Not a debug encoded string");bb.view[j++]=b,rs=!0}if(fail)throw TypeError("Illegal str: Invalid symbol at "+i)}if(!noAssert){if(!ho||!hl)throw TypeError("Illegal str: Missing offset or limit");if(j<bb.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+j+" < "+k)}return bb},ByteBufferPrototype.toHex=function(begin,end){if(begin=void 0===begin?this.offset:begin,end=void 0===end?this.limit:end,!this.noAssert){if("number"!=typeof begin||begin%1!=0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!=0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,begin<0||begin>end||end>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.byteLength)}for(var b,out=new Array(end-begin);begin<end;)(b=this.view[begin++])<16?out.push("0",b.toString(16)):out.push(b.toString(16));return out.join("")},ByteBuffer.fromHex=function(str,littleEndian,noAssert){if(!noAssert){if("string"!=typeof str)throw TypeError("Illegal str: Not a string");if(str.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var b,k=str.length,bb=new ByteBuffer(k/2|0,littleEndian),i=0,j=0;i<k;i+=2){if(b=parseInt(str.substring(i,i+2),16),!noAssert&&(!isFinite(b)||b<0||b>255))throw TypeError("Illegal str: Contains non-hex characters");bb.view[j++]=b}return bb.limit=j,bb};var utfx=function(){var utfx={MAX_CODEPOINT:1114111,encodeUTF8:function(src,dst){var cp=null;for("number"==typeof src&&(cp=src,src=function(){return null});null!==cp||null!==(cp=src());)cp<128?dst(127&cp):cp<2048?(dst(cp>>6&31|192),dst(63&cp|128)):cp<65536?(dst(cp>>12&15|224),dst(cp>>6&63|128),dst(63&cp|128)):(dst(cp>>18&7|240),dst(cp>>12&63|128),dst(cp>>6&63|128),dst(63&cp|128)),cp=null},decodeUTF8:function(src,dst){for(var a,b,c,d,fail=function(b){b=b.slice(0,b.indexOf(null));var err=Error(b.toString());throw err.name="TruncatedError",err.bytes=b,err};null!==(a=src());)if(0==(128&a))dst(a);else if(192==(224&a))null===(b=src())&&fail([a,b]),dst((31&a)<<6|63&b);else if(224==(240&a))(null===(b=src())||null===(c=src()))&&fail([a,b,c]),dst((15&a)<<12|(63&b)<<6|63&c);else{if(240!=(248&a))throw RangeError("Illegal starting byte: "+a);(null===(b=src())||null===(c=src())||null===(d=src()))&&fail([a,b,c,d]),dst((7&a)<<18|(63&b)<<12|(63&c)<<6|63&d)}},UTF16toUTF8:function(src,dst){for(var c1,c2=null;null!==(c1=null!==c2?c2:src());)c1>=55296&&c1<=57343&&null!==(c2=src())&&c2>=56320&&c2<=57343?(dst(1024*(c1-55296)+c2-56320+65536),c2=null):dst(c1);null!==c2&&dst(c2)},UTF8toUTF16:function(src,dst){var cp=null;for("number"==typeof src&&(cp=src,src=function(){return null});null!==cp||null!==(cp=src());)cp<=65535?dst(cp):(dst(55296+((cp-=65536)>>10)),dst(cp%1024+56320)),cp=null},encodeUTF16toUTF8:function(src,dst){utfx.UTF16toUTF8(src,(function(cp){utfx.encodeUTF8(cp,dst)}))},decodeUTF8toUTF16:function(src,dst){utfx.decodeUTF8(src,(function(cp){utfx.UTF8toUTF16(cp,dst)}))},calculateCodePoint:function(cp){return cp<128?1:cp<2048?2:cp<65536?3:4},calculateUTF8:function(src){for(var cp,l=0;null!==(cp=src());)l+=cp<128?1:cp<2048?2:cp<65536?3:4;return l},calculateUTF16asUTF8:function(src){var n=0,l=0;return utfx.UTF16toUTF8(src,(function(cp){++n,l+=cp<128?1:cp<2048?2:cp<65536?3:4})),[n,l]}};return utfx}();return ByteBufferPrototype.toUTF8=function(begin,end){if(void 0===begin&&(begin=this.offset),void 0===end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!=0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!=0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,begin<0||begin>end||end>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.byteLength)}var sd;try{utfx.decodeUTF8toUTF16(function(){return begin<end?this.view[begin++]:null}.bind(this),sd=stringDestination())}catch(e){if(begin!==end)throw RangeError("Illegal range: Truncated data, "+begin+" != "+end)}return sd()},ByteBuffer.fromUTF8=function(str,littleEndian,noAssert){if(!noAssert&&"string"!=typeof str)throw TypeError("Illegal str: Not a string");var bb=new ByteBuffer(utfx.calculateUTF16asUTF8(stringSource(str),!0)[1],littleEndian,noAssert),i=0;return utfx.encodeUTF16toUTF8(stringSource(str),(function(b){bb.view[i++]=b})),bb.limit=i,bb},ByteBuffer},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},833:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(645),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(667),_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1__),_images_gmenew_png__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(677),_images_gmeimport_png__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(154),_images_gmeexport_png__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(653),_images_gmebackups_png__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(336),_images_gmesettings_png__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(140),_images_gmesave_png__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(601),_images_gmeclose_png__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(158),_images_gmmlogo_png__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(159),___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]})),___CSS_LOADER_URL_REPLACEMENT_0___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default()(_images_gmenew_png__WEBPACK_IMPORTED_MODULE_2__.Z),___CSS_LOADER_URL_REPLACEMENT_1___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default()(_images_gmeimport_png__WEBPACK_IMPORTED_MODULE_3__.Z),___CSS_LOADER_URL_REPLACEMENT_2___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default()(_images_gmeexport_png__WEBPACK_IMPORTED_MODULE_4__.Z),___CSS_LOADER_URL_REPLACEMENT_3___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default()(_images_gmebackups_png__WEBPACK_IMPORTED_MODULE_5__.Z),___CSS_LOADER_URL_REPLACEMENT_4___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default()(_images_gmesettings_png__WEBPACK_IMPORTED_MODULE_6__.Z),___CSS_LOADER_URL_REPLACEMENT_5___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default()(_images_gmesave_png__WEBPACK_IMPORTED_MODULE_7__.Z),___CSS_LOADER_URL_REPLACEMENT_6___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default()(_images_gmeclose_png__WEBPACK_IMPORTED_MODULE_8__.Z),___CSS_LOADER_URL_REPLACEMENT_7___=_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default()(_images_gmmlogo_png__WEBPACK_IMPORTED_MODULE_9__.Z);___CSS_LOADER_EXPORT___.push([module.id,"/* THEMES COMPAT */\n\n:root {\n    --gm_primary_text: #000000;\n    --gm_secondary_text: #505050;\n    --gm_window_color: #009688;\n    --gm_window_text: #ffffff;\n    --gm_primary_background: #e2e2e2;\n    --gm_behind_lobby_background: #1a2733;\n    --gm_table_color: #c1cdd2;\n    --gm_table_alt_color: #d2dbde;\n}\n\n/* GAME MODE EDITOR */\n\n#gmeditor {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: var(--gm_behind_lobby_background);\n}\n\n#gmeditorwindow {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 90%;\n    height: 90%;\n    box-sizing: border-box;\n    margin: 0;\n    padding-top: 34px;\n    background-color: var(--gm_primary_background);\n    border-radius: 8px 8px 4px 4px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n#gmeditor_helptext {\n    font-family: 'futurept_b1';\n    font-size: 15px;\n    line-height: 25px;\n    flex-grow: 1;\n    text-align: center;\n}\n\n#gmeditor_buttoncontainer {\n    display: flex;\n    width: 100%;\n    align-items: center;\n    justify-content: space-between;\n    align-content: stretch;\n}\n\n#gmeditor_leftbuttons {\n    display: flex;\n    flex-grow: 1;\n    justify-content: flex-start;\n    margin: 5px;\n}\n\n#gmeditor_rightbuttons {\n    display: flex;\n    flex-grow: 1;\n    justify-content: flex-end;\n    margin: 5px;\n}\n\n.gmeditor_iconbutton {\n    background-repeat: no-repeat;\n    background-position: center;\n    width: 28px;\n    height: 24px;\n    display: inline-block;\n    margin: 0 2px;\n}\n\n#gmeditor_newbutton {\n    background-image: url("+___CSS_LOADER_URL_REPLACEMENT_0___+");\n}\n\n#gmeditor_importbutton {\n    background-image: url("+___CSS_LOADER_URL_REPLACEMENT_1___+");\n}\n\n#gmeditor_exportbutton {\n    background-image: url("+___CSS_LOADER_URL_REPLACEMENT_2___+");\n}\n\n#gmeditor_backupsbutton {\n    background-image: url("+___CSS_LOADER_URL_REPLACEMENT_3___+");\n}\n\n#gmeditor_settingsbutton {\n    background-image: url("+___CSS_LOADER_URL_REPLACEMENT_4___+");\n}\n\n#gmeditor_savebutton {\n    background-image: url("+___CSS_LOADER_URL_REPLACEMENT_5___+");\n}\n\n#gmeditor_closebutton {\n    background-image: url("+___CSS_LOADER_URL_REPLACEMENT_6___+");\n}\n\n#gmblocklyarea {\n    width: 100%;\n    padding: 10px;\n    box-sizing: border-box;\n    flex-grow: 1;\n}\n\n#gmblocklydiv {\n    position: absolute;\n    padding: 10px;\n    box-sizing: border-box;\n}\n\n.blockly-ws-search button {\n    width: 20px;\n}\n\n/* LOBBY MODS */\n\n.modebuttoncontainer {\n    display: flex;\n    position: absolute;\n    right: 15px;\n    bottom: 55px;\n    width: 116px;\n}\n\n#newbonklobby_modebutton {\n    width: calc(50% - 62px);\n    right: 55px;\n}\n\n#newbonklobby_modebutton.gm_withbonkhost {\n    width: calc(100% - 42px);\n    left: 0;\n    bottom: -30px;\n    position: absolute !important;\n}\n\n#gmeditor_openbutton {\n    position: absolute;\n    right: 15px;\n    bottom: 55px;\n    height: 30px;\n    width: 30px;\n    margin-left: 5px;\n    background-image: url("+___CSS_LOADER_URL_REPLACEMENT_7___+');\n    background-size: 95%;\n    background-repeat: no-repeat;\n    background-position-x: center;\n    background-position-y: center;\n}\n\n#gm_basemodetext {\n    display: inline-block;\n    color: var(--gm_secondary_text);\n    font-size: 14px;\n    pointer-events: none;\n    margin-left: 5px;\n}\n\n/* DIALOG CLASSES */\n\n.gm_behindblocker {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    outline: 3000px solid rgba(0,0,0,0.30);\n    width: 1px;\n    height: 1px;\n}\n\n.gm_dialogwindowcontainer {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    visibility: hidden;\n    z-index: 999999;\n}\n\n.gm_dialogwindow {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    width: fit-content;\n    max-width: 400px;\n    height: fit-content;\n    background-color: var(--gm_primary_background);\n    margin: auto;\n    font-family: "futurept_b1";\n    border-radius: 7px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.gm_dialogtopbar {\n    background-color: var(--gm_window_color);\n    width: 100%;\n    height: 30px;\n    line-height: 30px;\n    color: var(--gm_window_text);\n    font-family: "futurept_b1";\n    text-align: center;\n    font-size: 20px;\n    border-top-left-radius: 3px;\n    border-top-right-radius: 3px;\n}\n\n.gm_dialogtext {\n    color: var(--gm_primary_text);\n    text-align: center;\n    left: 0;\n    right: 0;\n    top: 53px;\n    margin-top: 20px;\n    margin-bottom: 10px;\n}\n\n.gm_dialogbuttoncontainer {\n    display: flex;\n    align-content: stretch;\n    width: 90%;\n    justify-content: space-around;\n}\n\n.gm_dialogbuttoncontainer div {\n    padding: 5px;\n    margin: 10px;\n    max-width: 150px;\n    min-width: 100px;\n    flex-grow: 1;\n}\n\n.gm_dialogoptions {\n    color: var(--gm_primary_text);\n    text-align: left;\n    left: 0;\n    right: 0;\n    top: 53px;\n    width: fit-content;\n    margin: 20px 20px 10px 20px;\n}\n\n.gm_dialogtextfield {\n    font-family: Arial, Helvetica, sans-serif;\n    text-align: center;\n    font-size: 15px;\n    background: #fdfdfd;\n    border: 1px solid #bdbdbd;\n    color: #4e4e4e;\n    width: 100%;\n    min-width: 300px;\n    height: 30px;\n    padding-right: 4px;\n    margin-top: 3px;\n    resize: vertical;\n}\n\n/* WORKSPACE SEARCH COLOUR FIX */\n\npath.blocklyPath.blockly-ws-search-highlight {\n    fill: black;\n    fill-opacity: 1;\n}\n\n/* VAR INSPECTOR */\n\n#gm_varinspector {\n    display: none;\n    position: absolute;\n    z-index: 9999;\n    width: 500px;\n    height: 500px;\n    resize: both;    \n    overflow: auto;\n\n    background-color: var(--gm_primary_background);\n    padding-top: 34px;\n    border-radius: 7px;\n    box-shadow: 1px 1px 5px -2px rgb(0 0 0 / 63%);\n}\n\n#gm_varinspector .windowTopBar {\n    cursor: grab;\n}\n\n#gm_varinspector .windowTopBar:active {\n    cursor: grabbing;\n}\n\n#gmvi_content {\n    flex-direction: column;\n    font-family: \'futurept_b1\';\n\n    overflow-x: hidden;\n    overflow-y: auto;\n\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n}\n\n.gmvi_tab_content {\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    color: var(--gm_primary_text);\n    font-family: "futurept_b1";\n}\n\n.gmvi_var {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    align-content: stretch;\n\n    width: 100%;\n    padding: 4px;\n    box-sizing: border-box;\n    background-color: var(--gm_table_color);\n}\n\n.gmvi_var:nth-child(odd) {\n    background-color: var(--gm_table_alt_color);\n}\n\n.gmvi_var div {\n    flex-basis: 0;\n    flex-grow: 1;\n}',""]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},645:module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function(){return this.map((function(item){var content=cssWithMappingToString(item);return item[2]?"@media ".concat(item[2]," {").concat(content,"}"):content})).join("")},list.i=function(modules,mediaQuery,dedupe){"string"==typeof modules&&(modules=[[null,modules,""]]);var alreadyImportedModules={};if(dedupe)for(var i=0;i<this.length;i++){var id=this[i][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);dedupe&&alreadyImportedModules[item[0]]||(mediaQuery&&(item[2]?item[2]="".concat(mediaQuery," and ").concat(item[2]):item[2]=mediaQuery),list.push(item))}},list}},667:module=>{"use strict";module.exports=function(url,options){return options||(options={}),"string"!=typeof(url=url&&url.__esModule?url.default:url)?url:(/^['"].*['"]$/.test(url)&&(url=url.slice(1,-1)),options.hash&&(url+=options.hash),/["'() \t\n]/.test(url)||options.needQuotes?'"'.concat(url.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):url)}},162:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";function b(a,b){return void 0===b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof __webpack_require__.g&&__webpack_require__.g.global===__webpack_require__.g?__webpack_require__.g:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout((function(){i.revokeObjectURL(j.href)}),4e4),setTimeout((function(){e(j)}),0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout((function(){e(i)}))}}:function(b,d,e,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout((function(){l.revokeObjectURL(m)}),4e4)}});f.saveAs=g.saveAs=g,module.exports=g},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},766:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var HowlerGlobal=function(){this.init()};HowlerGlobal.prototype={init:function(){var self=this||Howler;return self._counter=1e3,self._html5AudioPool=[],self.html5PoolSize=10,self._codecs={},self._howls=[],self._muted=!1,self._volume=1,self._canPlayEvent="canplaythrough",self._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,self.masterGain=null,self.noAudio=!1,self.usingWebAudio=!0,self.autoSuspend=!0,self.ctx=null,self.autoUnlock=!0,self._setup(),self},volume:function(vol){var self=this||Howler;if(vol=parseFloat(vol),self.ctx||setupAudioContext(),void 0!==vol&&vol>=0&&vol<=1){if(self._volume=vol,self._muted)return self;self.usingWebAudio&&self.masterGain.gain.setValueAtTime(vol,Howler.ctx.currentTime);for(var i=0;i<self._howls.length;i++)if(!self._howls[i]._webAudio)for(var ids=self._howls[i]._getSoundIds(),j=0;j<ids.length;j++){var sound=self._howls[i]._soundById(ids[j]);sound&&sound._node&&(sound._node.volume=sound._volume*vol)}return self}return self._volume},mute:function(muted){var self=this||Howler;self.ctx||setupAudioContext(),self._muted=muted,self.usingWebAudio&&self.masterGain.gain.setValueAtTime(muted?0:self._volume,Howler.ctx.currentTime);for(var i=0;i<self._howls.length;i++)if(!self._howls[i]._webAudio)for(var ids=self._howls[i]._getSoundIds(),j=0;j<ids.length;j++){var sound=self._howls[i]._soundById(ids[j]);sound&&sound._node&&(sound._node.muted=!!muted||sound._muted)}return self},stop:function(){for(var self=this||Howler,i=0;i<self._howls.length;i++)self._howls[i].stop();return self},unload:function(){for(var self=this||Howler,i=self._howls.length-1;i>=0;i--)self._howls[i].unload();return self.usingWebAudio&&self.ctx&&void 0!==self.ctx.close&&(self.ctx.close(),self.ctx=null,setupAudioContext()),self},codecs:function(ext){return(this||Howler)._codecs[ext.replace(/^x-/,"")]},_setup:function(){var self=this||Howler;if(self.state=self.ctx&&self.ctx.state||"suspended",self._autoSuspend(),!self.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(self._canPlayEvent="canplay")}catch(e){self.noAudio=!0}else self.noAudio=!0;try{(new Audio).muted&&(self.noAudio=!0)}catch(e){}return self.noAudio||self._setupCodecs(),self},_setupCodecs:function(){var self=this||Howler,audioTest=null;try{audioTest="undefined"!=typeof Audio?new Audio:null}catch(err){return self}if(!audioTest||"function"!=typeof audioTest.canPlayType)return self;var mpegTest=audioTest.canPlayType("audio/mpeg;").replace(/^no$/,""),ua=self._navigator?self._navigator.userAgent:"",checkOpera=ua.match(/OPR\/([0-6].)/g),isOldOpera=checkOpera&&parseInt(checkOpera[0].split("/")[1],10)<33,checkSafari=-1!==ua.indexOf("Safari")&&-1===ua.indexOf("Chrome"),safariVersion=ua.match(/Version\/(.*?) /),isOldSafari=checkSafari&&safariVersion&&parseInt(safariVersion[1],10)<15;return self._codecs={mp3:!(isOldOpera||!mpegTest&&!audioTest.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!mpegTest,opus:!!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(audioTest.canPlayType('audio/wav; codecs="1"')||audioTest.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!audioTest.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!audioTest.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(audioTest.canPlayType("audio/x-m4a;")||audioTest.canPlayType("audio/m4a;")||audioTest.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(audioTest.canPlayType("audio/x-m4b;")||audioTest.canPlayType("audio/m4b;")||audioTest.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(audioTest.canPlayType("audio/x-mp4;")||audioTest.canPlayType("audio/mp4;")||audioTest.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(isOldSafari||!audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(isOldSafari||!audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(audioTest.canPlayType("audio/x-flac;")||audioTest.canPlayType("audio/flac;")).replace(/^no$/,"")},self},_unlockAudio:function(){var self=this||Howler;if(!self._audioUnlocked&&self.ctx){self._audioUnlocked=!1,self.autoUnlock=!1,self._mobileUnloaded||44100===self.ctx.sampleRate||(self._mobileUnloaded=!0,self.unload()),self._scratchBuffer=self.ctx.createBuffer(1,1,22050);var unlock=function(e){for(;self._html5AudioPool.length<self.html5PoolSize;)try{var audioNode=new Audio;audioNode._unlocked=!0,self._releaseHtml5Audio(audioNode)}catch(e){self.noAudio=!0;break}for(var i=0;i<self._howls.length;i++)if(!self._howls[i]._webAudio)for(var ids=self._howls[i]._getSoundIds(),j=0;j<ids.length;j++){var sound=self._howls[i]._soundById(ids[j]);sound&&sound._node&&!sound._node._unlocked&&(sound._node._unlocked=!0,sound._node.load())}self._autoResume();var source=self.ctx.createBufferSource();source.buffer=self._scratchBuffer,source.connect(self.ctx.destination),void 0===source.start?source.noteOn(0):source.start(0),"function"==typeof self.ctx.resume&&self.ctx.resume(),source.onended=function(){source.disconnect(0),self._audioUnlocked=!0,document.removeEventListener("touchstart",unlock,!0),document.removeEventListener("touchend",unlock,!0),document.removeEventListener("click",unlock,!0),document.removeEventListener("keydown",unlock,!0);for(var i=0;i<self._howls.length;i++)self._howls[i]._emit("unlock")}};return document.addEventListener("touchstart",unlock,!0),document.addEventListener("touchend",unlock,!0),document.addEventListener("click",unlock,!0),document.addEventListener("keydown",unlock,!0),self}},_obtainHtml5Audio:function(){var self=this||Howler;if(self._html5AudioPool.length)return self._html5AudioPool.pop();var testPlay=(new Audio).play();return testPlay&&"undefined"!=typeof Promise&&(testPlay instanceof Promise||"function"==typeof testPlay.then)&&testPlay.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(audio){var self=this||Howler;return audio._unlocked&&self._html5AudioPool.push(audio),self},_autoSuspend:function(){var self=this;if(self.autoSuspend&&self.ctx&&void 0!==self.ctx.suspend&&Howler.usingWebAudio){for(var i=0;i<self._howls.length;i++)if(self._howls[i]._webAudio)for(var j=0;j<self._howls[i]._sounds.length;j++)if(!self._howls[i]._sounds[j]._paused)return self;return self._suspendTimer&&clearTimeout(self._suspendTimer),self._suspendTimer=setTimeout((function(){if(self.autoSuspend){self._suspendTimer=null,self.state="suspending";var handleSuspension=function(){self.state="suspended",self._resumeAfterSuspend&&(delete self._resumeAfterSuspend,self._autoResume())};self.ctx.suspend().then(handleSuspension,handleSuspension)}}),3e4),self}},_autoResume:function(){var self=this;if(self.ctx&&void 0!==self.ctx.resume&&Howler.usingWebAudio)return"running"===self.state&&"interrupted"!==self.ctx.state&&self._suspendTimer?(clearTimeout(self._suspendTimer),self._suspendTimer=null):"suspended"===self.state||"running"===self.state&&"interrupted"===self.ctx.state?(self.ctx.resume().then((function(){self.state="running";for(var i=0;i<self._howls.length;i++)self._howls[i]._emit("resume")})),self._suspendTimer&&(clearTimeout(self._suspendTimer),self._suspendTimer=null)):"suspending"===self.state&&(self._resumeAfterSuspend=!0),self}};var Howler=new HowlerGlobal,Howl=function(o){o.src&&0!==o.src.length?this.init(o):console.error("An array of source files must be passed with any new Howl.")};Howl.prototype={init:function(o){var self=this;return Howler.ctx||setupAudioContext(),self._autoplay=o.autoplay||!1,self._format="string"!=typeof o.format?o.format:[o.format],self._html5=o.html5||!1,self._muted=o.mute||!1,self._loop=o.loop||!1,self._pool=o.pool||5,self._preload="boolean"!=typeof o.preload&&"metadata"!==o.preload||o.preload,self._rate=o.rate||1,self._sprite=o.sprite||{},self._src="string"!=typeof o.src?o.src:[o.src],self._volume=void 0!==o.volume?o.volume:1,self._xhr={method:o.xhr&&o.xhr.method?o.xhr.method:"GET",headers:o.xhr&&o.xhr.headers?o.xhr.headers:null,withCredentials:!(!o.xhr||!o.xhr.withCredentials)&&o.xhr.withCredentials},self._duration=0,self._state="unloaded",self._sounds=[],self._endTimers={},self._queue=[],self._playLock=!1,self._onend=o.onend?[{fn:o.onend}]:[],self._onfade=o.onfade?[{fn:o.onfade}]:[],self._onload=o.onload?[{fn:o.onload}]:[],self._onloaderror=o.onloaderror?[{fn:o.onloaderror}]:[],self._onplayerror=o.onplayerror?[{fn:o.onplayerror}]:[],self._onpause=o.onpause?[{fn:o.onpause}]:[],self._onplay=o.onplay?[{fn:o.onplay}]:[],self._onstop=o.onstop?[{fn:o.onstop}]:[],self._onmute=o.onmute?[{fn:o.onmute}]:[],self._onvolume=o.onvolume?[{fn:o.onvolume}]:[],self._onrate=o.onrate?[{fn:o.onrate}]:[],self._onseek=o.onseek?[{fn:o.onseek}]:[],self._onunlock=o.onunlock?[{fn:o.onunlock}]:[],self._onresume=[],self._webAudio=Howler.usingWebAudio&&!self._html5,void 0!==Howler.ctx&&Howler.ctx&&Howler.autoUnlock&&Howler._unlockAudio(),Howler._howls.push(self),self._autoplay&&self._queue.push({event:"play",action:function(){self.play()}}),self._preload&&"none"!==self._preload&&self.load(),self},load:function(){var url=null;if(Howler.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var i=0;i<this._src.length;i++){var ext,str;if(this._format&&this._format[i])ext=this._format[i];else{if("string"!=typeof(str=this._src[i])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(ext=/^data:audio\/([^;,]+);/i.exec(str))||(ext=/\.([^.]+)$/.exec(str.split("?",1)[0])),ext&&(ext=ext[1].toLowerCase())}if(ext||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),ext&&Howler.codecs(ext)){url=this._src[i];break}}if(url)return this._src=url,this._state="loading","https:"===window.location.protocol&&"http:"===url.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new Sound(this),this._webAudio&&loadBuffer(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(sprite,internal){var self=this,id=null;if("number"==typeof sprite)id=sprite,sprite=null;else{if("string"==typeof sprite&&"loaded"===self._state&&!self._sprite[sprite])return null;if(void 0===sprite&&(sprite="__default",!self._playLock)){for(var num=0,i=0;i<self._sounds.length;i++)self._sounds[i]._paused&&!self._sounds[i]._ended&&(num++,id=self._sounds[i]._id);1===num?sprite=null:id=null}}var sound=id?self._soundById(id):self._inactiveSound();if(!sound)return null;if(id&&!sprite&&(sprite=sound._sprite||"__default"),"loaded"!==self._state){sound._sprite=sprite,sound._ended=!1;var soundId=sound._id;return self._queue.push({event:"play",action:function(){self.play(soundId)}}),soundId}if(id&&!sound._paused)return internal||self._loadQueue("play"),sound._id;self._webAudio&&Howler._autoResume();var seek=Math.max(0,sound._seek>0?sound._seek:self._sprite[sprite][0]/1e3),duration=Math.max(0,(self._sprite[sprite][0]+self._sprite[sprite][1])/1e3-seek),timeout=1e3*duration/Math.abs(sound._rate),start=self._sprite[sprite][0]/1e3,stop=(self._sprite[sprite][0]+self._sprite[sprite][1])/1e3;sound._sprite=sprite,sound._ended=!1;var setParams=function(){sound._paused=!1,sound._seek=seek,sound._start=start,sound._stop=stop,sound._loop=!(!sound._loop&&!self._sprite[sprite][2])};if(!(seek>=stop)){var node=sound._node;if(self._webAudio){var playWebAudio=function(){self._playLock=!1,setParams(),self._refreshBuffer(sound);var vol=sound._muted||self._muted?0:sound._volume;node.gain.setValueAtTime(vol,Howler.ctx.currentTime),sound._playStart=Howler.ctx.currentTime,void 0===node.bufferSource.start?sound._loop?node.bufferSource.noteGrainOn(0,seek,86400):node.bufferSource.noteGrainOn(0,seek,duration):sound._loop?node.bufferSource.start(0,seek,86400):node.bufferSource.start(0,seek,duration),timeout!==1/0&&(self._endTimers[sound._id]=setTimeout(self._ended.bind(self,sound),timeout)),internal||setTimeout((function(){self._emit("play",sound._id),self._loadQueue()}),0)};"running"===Howler.state&&"interrupted"!==Howler.ctx.state?playWebAudio():(self._playLock=!0,self.once("resume",playWebAudio),self._clearTimer(sound._id))}else{var playHtml5=function(){node.currentTime=seek,node.muted=sound._muted||self._muted||Howler._muted||node.muted,node.volume=sound._volume*Howler.volume(),node.playbackRate=sound._rate;try{var play=node.play();if(play&&"undefined"!=typeof Promise&&(play instanceof Promise||"function"==typeof play.then)?(self._playLock=!0,setParams(),play.then((function(){self._playLock=!1,node._unlocked=!0,internal?self._loadQueue():self._emit("play",sound._id)})).catch((function(){self._playLock=!1,self._emit("playerror",sound._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),sound._ended=!0,sound._paused=!0}))):internal||(self._playLock=!1,setParams(),self._emit("play",sound._id)),node.playbackRate=sound._rate,node.paused)return void self._emit("playerror",sound._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==sprite||sound._loop?self._endTimers[sound._id]=setTimeout(self._ended.bind(self,sound),timeout):(self._endTimers[sound._id]=function(){self._ended(sound),node.removeEventListener("ended",self._endTimers[sound._id],!1)},node.addEventListener("ended",self._endTimers[sound._id],!1))}catch(err){self._emit("playerror",sound._id,err)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===node.src&&(node.src=self._src,node.load());var loadedNoReadyState=window&&window.ejecta||!node.readyState&&Howler._navigator.isCocoonJS;if(node.readyState>=3||loadedNoReadyState)playHtml5();else{self._playLock=!0,self._state="loading";var listener=function(){self._state="loaded",playHtml5(),node.removeEventListener(Howler._canPlayEvent,listener,!1)};node.addEventListener(Howler._canPlayEvent,listener,!1),self._clearTimer(sound._id)}}return sound._id}self._ended(sound)},pause:function(id){var self=this;if("loaded"!==self._state||self._playLock)return self._queue.push({event:"pause",action:function(){self.pause(id)}}),self;for(var ids=self._getSoundIds(id),i=0;i<ids.length;i++){self._clearTimer(ids[i]);var sound=self._soundById(ids[i]);if(sound&&!sound._paused&&(sound._seek=self.seek(ids[i]),sound._rateSeek=0,sound._paused=!0,self._stopFade(ids[i]),sound._node))if(self._webAudio){if(!sound._node.bufferSource)continue;void 0===sound._node.bufferSource.stop?sound._node.bufferSource.noteOff(0):sound._node.bufferSource.stop(0),self._cleanBuffer(sound._node)}else isNaN(sound._node.duration)&&sound._node.duration!==1/0||sound._node.pause();arguments[1]||self._emit("pause",sound?sound._id:null)}return self},stop:function(id,internal){var self=this;if("loaded"!==self._state||self._playLock)return self._queue.push({event:"stop",action:function(){self.stop(id)}}),self;for(var ids=self._getSoundIds(id),i=0;i<ids.length;i++){self._clearTimer(ids[i]);var sound=self._soundById(ids[i]);sound&&(sound._seek=sound._start||0,sound._rateSeek=0,sound._paused=!0,sound._ended=!0,self._stopFade(ids[i]),sound._node&&(self._webAudio?sound._node.bufferSource&&(void 0===sound._node.bufferSource.stop?sound._node.bufferSource.noteOff(0):sound._node.bufferSource.stop(0),self._cleanBuffer(sound._node)):isNaN(sound._node.duration)&&sound._node.duration!==1/0||(sound._node.currentTime=sound._start||0,sound._node.pause(),sound._node.duration===1/0&&self._clearSound(sound._node))),internal||self._emit("stop",sound._id))}return self},mute:function(muted,id){var self=this;if("loaded"!==self._state||self._playLock)return self._queue.push({event:"mute",action:function(){self.mute(muted,id)}}),self;if(void 0===id){if("boolean"!=typeof muted)return self._muted;self._muted=muted}for(var ids=self._getSoundIds(id),i=0;i<ids.length;i++){var sound=self._soundById(ids[i]);sound&&(sound._muted=muted,sound._interval&&self._stopFade(sound._id),self._webAudio&&sound._node?sound._node.gain.setValueAtTime(muted?0:sound._volume,Howler.ctx.currentTime):sound._node&&(sound._node.muted=!!Howler._muted||muted),self._emit("mute",sound._id))}return self},volume:function(){var vol,id,sound,self=this,args=arguments;if(0===args.length)return self._volume;if(1===args.length||2===args.length&&void 0===args[1]){var ids=self._getSoundIds(),index=ids.indexOf(args[0]);index>=0?id=parseInt(args[0],10):vol=parseFloat(args[0])}else args.length>=2&&(vol=parseFloat(args[0]),id=parseInt(args[1],10));if(!(void 0!==vol&&vol>=0&&vol<=1))return(sound=id?self._soundById(id):self._sounds[0])?sound._volume:0;if("loaded"!==self._state||self._playLock)return self._queue.push({event:"volume",action:function(){self.volume.apply(self,args)}}),self;void 0===id&&(self._volume=vol),id=self._getSoundIds(id);for(var i=0;i<id.length;i++)(sound=self._soundById(id[i]))&&(sound._volume=vol,args[2]||self._stopFade(id[i]),self._webAudio&&sound._node&&!sound._muted?sound._node.gain.setValueAtTime(vol,Howler.ctx.currentTime):sound._node&&!sound._muted&&(sound._node.volume=vol*Howler.volume()),self._emit("volume",sound._id));return self},fade:function(from,to,len,id){var self=this;if("loaded"!==self._state||self._playLock)return self._queue.push({event:"fade",action:function(){self.fade(from,to,len,id)}}),self;from=Math.min(Math.max(0,parseFloat(from)),1),to=Math.min(Math.max(0,parseFloat(to)),1),len=parseFloat(len),self.volume(from,id);for(var ids=self._getSoundIds(id),i=0;i<ids.length;i++){var sound=self._soundById(ids[i]);if(sound){if(id||self._stopFade(ids[i]),self._webAudio&&!sound._muted){var currentTime=Howler.ctx.currentTime,end=currentTime+len/1e3;sound._volume=from,sound._node.gain.setValueAtTime(from,currentTime),sound._node.gain.linearRampToValueAtTime(to,end)}self._startFadeInterval(sound,from,to,len,ids[i],void 0===id)}}return self},_startFadeInterval:function(sound,from,to,len,id,isGroup){var self=this,vol=from,diff=to-from,steps=Math.abs(diff/.01),stepLen=Math.max(4,steps>0?len/steps:len),lastTick=Date.now();sound._fadeTo=to,sound._interval=setInterval((function(){var tick=(Date.now()-lastTick)/len;lastTick=Date.now(),vol+=diff*tick,vol=Math.round(100*vol)/100,vol=diff<0?Math.max(to,vol):Math.min(to,vol),self._webAudio?sound._volume=vol:self.volume(vol,sound._id,!0),isGroup&&(self._volume=vol),(to<from&&vol<=to||to>from&&vol>=to)&&(clearInterval(sound._interval),sound._interval=null,sound._fadeTo=null,self.volume(to,sound._id),self._emit("fade",sound._id))}),stepLen)},_stopFade:function(id){var sound=this._soundById(id);return sound&&sound._interval&&(this._webAudio&&sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime),clearInterval(sound._interval),sound._interval=null,this.volume(sound._fadeTo,id),sound._fadeTo=null,this._emit("fade",id)),this},loop:function(){var loop,id,sound,self=this,args=arguments;if(0===args.length)return self._loop;if(1===args.length){if("boolean"!=typeof args[0])return!!(sound=self._soundById(parseInt(args[0],10)))&&sound._loop;loop=args[0],self._loop=loop}else 2===args.length&&(loop=args[0],id=parseInt(args[1],10));for(var ids=self._getSoundIds(id),i=0;i<ids.length;i++)(sound=self._soundById(ids[i]))&&(sound._loop=loop,self._webAudio&&sound._node&&sound._node.bufferSource&&(sound._node.bufferSource.loop=loop,loop&&(sound._node.bufferSource.loopStart=sound._start||0,sound._node.bufferSource.loopEnd=sound._stop,self.playing(ids[i])&&(self.pause(ids[i],!0),self.play(ids[i],!0)))));return self},rate:function(){var rate,id,sound,self=this,args=arguments;if(0===args.length)id=self._sounds[0]._id;else if(1===args.length){var ids=self._getSoundIds(),index=ids.indexOf(args[0]);index>=0?id=parseInt(args[0],10):rate=parseFloat(args[0])}else 2===args.length&&(rate=parseFloat(args[0]),id=parseInt(args[1],10));if("number"!=typeof rate)return(sound=self._soundById(id))?sound._rate:self._rate;if("loaded"!==self._state||self._playLock)return self._queue.push({event:"rate",action:function(){self.rate.apply(self,args)}}),self;void 0===id&&(self._rate=rate),id=self._getSoundIds(id);for(var i=0;i<id.length;i++)if(sound=self._soundById(id[i])){self.playing(id[i])&&(sound._rateSeek=self.seek(id[i]),sound._playStart=self._webAudio?Howler.ctx.currentTime:sound._playStart),sound._rate=rate,self._webAudio&&sound._node&&sound._node.bufferSource?sound._node.bufferSource.playbackRate.setValueAtTime(rate,Howler.ctx.currentTime):sound._node&&(sound._node.playbackRate=rate);var seek=self.seek(id[i]),duration=(self._sprite[sound._sprite][0]+self._sprite[sound._sprite][1])/1e3-seek,timeout=1e3*duration/Math.abs(sound._rate);!self._endTimers[id[i]]&&sound._paused||(self._clearTimer(id[i]),self._endTimers[id[i]]=setTimeout(self._ended.bind(self,sound),timeout)),self._emit("rate",sound._id)}return self},seek:function(){var seek,id,self=this,args=arguments;if(0===args.length)self._sounds.length&&(id=self._sounds[0]._id);else if(1===args.length){var ids=self._getSoundIds(),index=ids.indexOf(args[0]);index>=0?id=parseInt(args[0],10):self._sounds.length&&(id=self._sounds[0]._id,seek=parseFloat(args[0]))}else 2===args.length&&(seek=parseFloat(args[0]),id=parseInt(args[1],10));if(void 0===id)return 0;if("number"==typeof seek&&("loaded"!==self._state||self._playLock))return self._queue.push({event:"seek",action:function(){self.seek.apply(self,args)}}),self;var sound=self._soundById(id);if(sound){if(!("number"==typeof seek&&seek>=0)){if(self._webAudio){var realTime=self.playing(id)?Howler.ctx.currentTime-sound._playStart:0,rateSeek=sound._rateSeek?sound._rateSeek-sound._seek:0;return sound._seek+(rateSeek+realTime*Math.abs(sound._rate))}return sound._node.currentTime}var playing=self.playing(id);playing&&self.pause(id,!0),sound._seek=seek,sound._ended=!1,self._clearTimer(id),self._webAudio||!sound._node||isNaN(sound._node.duration)||(sound._node.currentTime=seek);var seekAndEmit=function(){playing&&self.play(id,!0),self._emit("seek",id)};if(playing&&!self._webAudio){var emitSeek=function(){self._playLock?setTimeout(emitSeek,0):seekAndEmit()};setTimeout(emitSeek,0)}else seekAndEmit()}return self},playing:function(id){if("number"==typeof id){var sound=this._soundById(id);return!!sound&&!sound._paused}for(var i=0;i<this._sounds.length;i++)if(!this._sounds[i]._paused)return!0;return!1},duration:function(id){var duration=this._duration,sound=this._soundById(id);return sound&&(duration=this._sprite[sound._sprite][1]/1e3),duration},state:function(){return this._state},unload:function(){for(var self=this,sounds=self._sounds,i=0;i<sounds.length;i++)sounds[i]._paused||self.stop(sounds[i]._id),self._webAudio||(self._clearSound(sounds[i]._node),sounds[i]._node.removeEventListener("error",sounds[i]._errorFn,!1),sounds[i]._node.removeEventListener(Howler._canPlayEvent,sounds[i]._loadFn,!1),sounds[i]._node.removeEventListener("ended",sounds[i]._endFn,!1),Howler._releaseHtml5Audio(sounds[i]._node)),delete sounds[i]._node,self._clearTimer(sounds[i]._id);var index=Howler._howls.indexOf(self);index>=0&&Howler._howls.splice(index,1);var remCache=!0;for(i=0;i<Howler._howls.length;i++)if(Howler._howls[i]._src===self._src||self._src.indexOf(Howler._howls[i]._src)>=0){remCache=!1;break}return cache&&remCache&&delete cache[self._src],Howler.noAudio=!1,self._state="unloaded",self._sounds=[],self=null,null},on:function(event,fn,id,once){var events=this["_on"+event];return"function"==typeof fn&&events.push(once?{id,fn,once}:{id,fn}),this},off:function(event,fn,id){var events=this["_on"+event],i=0;if("number"==typeof fn&&(id=fn,fn=null),fn||id)for(i=0;i<events.length;i++){var isId=id===events[i].id;if(fn===events[i].fn&&isId||!fn&&isId){events.splice(i,1);break}}else if(event)this["_on"+event]=[];else{var keys=Object.keys(this);for(i=0;i<keys.length;i++)0===keys[i].indexOf("_on")&&Array.isArray(this[keys[i]])&&(this[keys[i]]=[])}return this},once:function(event,fn,id){return this.on(event,fn,id,1),this},_emit:function(event,id,msg){for(var events=this["_on"+event],i=events.length-1;i>=0;i--)events[i].id&&events[i].id!==id&&"load"!==event||(setTimeout(function(fn){fn.call(this,id,msg)}.bind(this,events[i].fn),0),events[i].once&&this.off(event,events[i].fn,events[i].id));return this._loadQueue(event),this},_loadQueue:function(event){if(this._queue.length>0){var task=this._queue[0];task.event===event&&(this._queue.shift(),this._loadQueue()),event||task.action()}return this},_ended:function(sound){var sprite=sound._sprite;if(!this._webAudio&&sound._node&&!sound._node.paused&&!sound._node.ended&&sound._node.currentTime<sound._stop)return setTimeout(this._ended.bind(this,sound),100),this;var loop=!(!sound._loop&&!this._sprite[sprite][2]);if(this._emit("end",sound._id),!this._webAudio&&loop&&this.stop(sound._id,!0).play(sound._id),this._webAudio&&loop){this._emit("play",sound._id),sound._seek=sound._start||0,sound._rateSeek=0,sound._playStart=Howler.ctx.currentTime;var timeout=1e3*(sound._stop-sound._start)/Math.abs(sound._rate);this._endTimers[sound._id]=setTimeout(this._ended.bind(this,sound),timeout)}return this._webAudio&&!loop&&(sound._paused=!0,sound._ended=!0,sound._seek=sound._start||0,sound._rateSeek=0,this._clearTimer(sound._id),this._cleanBuffer(sound._node),Howler._autoSuspend()),this._webAudio||loop||this.stop(sound._id,!0),this},_clearTimer:function(id){if(this._endTimers[id]){if("function"!=typeof this._endTimers[id])clearTimeout(this._endTimers[id]);else{var sound=this._soundById(id);sound&&sound._node&&sound._node.removeEventListener("ended",this._endTimers[id],!1)}delete this._endTimers[id]}return this},_soundById:function(id){for(var i=0;i<this._sounds.length;i++)if(id===this._sounds[i]._id)return this._sounds[i];return null},_inactiveSound:function(){this._drain();for(var i=0;i<this._sounds.length;i++)if(this._sounds[i]._ended)return this._sounds[i].reset();return new Sound(this)},_drain:function(){var limit=this._pool,cnt=0,i=0;if(!(this._sounds.length<limit)){for(i=0;i<this._sounds.length;i++)this._sounds[i]._ended&&cnt++;for(i=this._sounds.length-1;i>=0;i--){if(cnt<=limit)return;this._sounds[i]._ended&&(this._webAudio&&this._sounds[i]._node&&this._sounds[i]._node.disconnect(0),this._sounds.splice(i,1),cnt--)}}},_getSoundIds:function(id){if(void 0===id){for(var ids=[],i=0;i<this._sounds.length;i++)ids.push(this._sounds[i]._id);return ids}return[id]},_refreshBuffer:function(sound){return sound._node.bufferSource=Howler.ctx.createBufferSource(),sound._node.bufferSource.buffer=cache[this._src],sound._panner?sound._node.bufferSource.connect(sound._panner):sound._node.bufferSource.connect(sound._node),sound._node.bufferSource.loop=sound._loop,sound._loop&&(sound._node.bufferSource.loopStart=sound._start||0,sound._node.bufferSource.loopEnd=sound._stop||0),sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate,Howler.ctx.currentTime),this},_cleanBuffer:function(node){var isIOS=Howler._navigator&&Howler._navigator.vendor.indexOf("Apple")>=0;if(Howler._scratchBuffer&&node.bufferSource&&(node.bufferSource.onended=null,node.bufferSource.disconnect(0),isIOS))try{node.bufferSource.buffer=Howler._scratchBuffer}catch(e){}return node.bufferSource=null,this},_clearSound:function(node){/MSIE |Trident\//.test(Howler._navigator&&Howler._navigator.userAgent)||(node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var Sound=function(howl){this._parent=howl,this.init()};Sound.prototype={init:function(){var parent=this._parent;return this._muted=parent._muted,this._loop=parent._loop,this._volume=parent._volume,this._rate=parent._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++Howler._counter,parent._sounds.push(this),this.create(),this},create:function(){var parent=this._parent,volume=Howler._muted||this._muted||this._parent._muted?0:this._volume;return parent._webAudio?(this._node=void 0===Howler.ctx.createGain?Howler.ctx.createGainNode():Howler.ctx.createGain(),this._node.gain.setValueAtTime(volume,Howler.ctx.currentTime),this._node.paused=!0,this._node.connect(Howler.masterGain)):Howler.noAudio||(this._node=Howler._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(Howler._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=parent._src,this._node.preload=!0===parent._preload?"auto":parent._preload,this._node.volume=volume*Howler.volume(),this._node.load()),this},reset:function(){var parent=this._parent;return this._muted=parent._muted,this._loop=parent._loop,this._volume=parent._volume,this._rate=parent._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++Howler._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var parent=this._parent;parent._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(parent._sprite).length&&(parent._sprite={__default:[0,1e3*parent._duration]}),"loaded"!==parent._state&&(parent._state="loaded",parent._emit("load"),parent._loadQueue()),this._node.removeEventListener(Howler._canPlayEvent,this._loadFn,!1)},_endListener:function(){var parent=this._parent;parent._duration===1/0&&(parent._duration=Math.ceil(10*this._node.duration)/10,parent._sprite.__default[1]===1/0&&(parent._sprite.__default[1]=1e3*parent._duration),parent._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var cache={},loadBuffer=function(self){var url=self._src;if(cache[url])return self._duration=cache[url].duration,void loadSound(self);if(/^data:[^;]+;base64,/.test(url)){for(var data=atob(url.split(",")[1]),dataView=new Uint8Array(data.length),i=0;i<data.length;++i)dataView[i]=data.charCodeAt(i);decodeAudioData(dataView.buffer,self)}else{var xhr=new XMLHttpRequest;xhr.open(self._xhr.method,url,!0),xhr.withCredentials=self._xhr.withCredentials,xhr.responseType="arraybuffer",self._xhr.headers&&Object.keys(self._xhr.headers).forEach((function(key){xhr.setRequestHeader(key,self._xhr.headers[key])})),xhr.onload=function(){var code=(xhr.status+"")[0];"0"===code||"2"===code||"3"===code?decodeAudioData(xhr.response,self):self._emit("loaderror",null,"Failed loading audio file with status: "+xhr.status+".")},xhr.onerror=function(){self._webAudio&&(self._html5=!0,self._webAudio=!1,self._sounds=[],delete cache[url],self.load())},safeXhrSend(xhr)}},safeXhrSend=function(xhr){try{xhr.send()}catch(e){xhr.onerror()}},decodeAudioData=function(arraybuffer,self){var error=function(){self._emit("loaderror",null,"Decoding audio data failed.")},success=function(buffer){buffer&&self._sounds.length>0?(cache[self._src]=buffer,loadSound(self,buffer)):error()};"undefined"!=typeof Promise&&1===Howler.ctx.decodeAudioData.length?Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error):Howler.ctx.decodeAudioData(arraybuffer,success,error)},loadSound=function(self,buffer){buffer&&!self._duration&&(self._duration=buffer.duration),0===Object.keys(self._sprite).length&&(self._sprite={__default:[0,1e3*self._duration]}),"loaded"!==self._state&&(self._state="loaded",self._emit("load"),self._loadQueue())},setupAudioContext=function(){if(Howler.usingWebAudio){try{"undefined"!=typeof AudioContext?Howler.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?Howler.ctx=new webkitAudioContext:Howler.usingWebAudio=!1}catch(e){Howler.usingWebAudio=!1}Howler.ctx||(Howler.usingWebAudio=!1);var iOS=/iP(hone|od|ad)/.test(Howler._navigator&&Howler._navigator.platform),appVersion=Howler._navigator&&Howler._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),version=appVersion?parseInt(appVersion[1],10):null;if(iOS&&version&&version<9){var safari=/safari/.test(Howler._navigator&&Howler._navigator.userAgent.toLowerCase());Howler._navigator&&!safari&&(Howler.usingWebAudio=!1)}Howler.usingWebAudio&&(Howler.masterGain=void 0===Howler.ctx.createGain?Howler.ctx.createGainNode():Howler.ctx.createGain(),Howler.masterGain.gain.setValueAtTime(Howler._muted?0:Howler._volume,Howler.ctx.currentTime),Howler.masterGain.connect(Howler.ctx.destination)),Howler._setup()}};void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return{Howler,Howl}}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),exports.Howler=Howler,exports.Howl=Howl,void 0!==__webpack_require__.g?(__webpack_require__.g.HowlerGlobal=HowlerGlobal,__webpack_require__.g.Howler=Howler,__webpack_require__.g.Howl=Howl,__webpack_require__.g.Sound=Sound):"undefined"!=typeof window&&(window.HowlerGlobal=HowlerGlobal,window.Howler=Howler,window.Howl=Howl,window.Sound=Sound)}(),function(){"use strict";var _super;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(pan){if(!this.ctx||!this.ctx.listener)return this;for(var i=this._howls.length-1;i>=0;i--)this._howls[i].stereo(pan);return this},HowlerGlobal.prototype.pos=function(x,y,z){return this.ctx&&this.ctx.listener?(y="number"!=typeof y?this._pos[1]:y,z="number"!=typeof z?this._pos[2]:z,"number"!=typeof x?this._pos:(this._pos=[x,y,z],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(x,y,z,xUp,yUp,zUp){if(!this.ctx||!this.ctx.listener)return this;var or=this._orientation;return y="number"!=typeof y?or[1]:y,z="number"!=typeof z?or[2]:z,xUp="number"!=typeof xUp?or[3]:xUp,yUp="number"!=typeof yUp?or[4]:yUp,zUp="number"!=typeof zUp?or[5]:zUp,"number"!=typeof x?or:(this._orientation=[x,y,z,xUp,yUp,zUp],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(x,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(y,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(z,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(xUp,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(yUp,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(zUp,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(x,y,z,xUp,yUp,zUp),this)},Howl.prototype.init=(_super=Howl.prototype.init,function(o){return this._orientation=o.orientation||[1,0,0],this._stereo=o.stereo||null,this._pos=o.pos||null,this._pannerAttr={coneInnerAngle:void 0!==o.coneInnerAngle?o.coneInnerAngle:360,coneOuterAngle:void 0!==o.coneOuterAngle?o.coneOuterAngle:360,coneOuterGain:void 0!==o.coneOuterGain?o.coneOuterGain:0,distanceModel:void 0!==o.distanceModel?o.distanceModel:"inverse",maxDistance:void 0!==o.maxDistance?o.maxDistance:1e4,panningModel:void 0!==o.panningModel?o.panningModel:"HRTF",refDistance:void 0!==o.refDistance?o.refDistance:1,rolloffFactor:void 0!==o.rolloffFactor?o.rolloffFactor:1},this._onstereo=o.onstereo?[{fn:o.onstereo}]:[],this._onpos=o.onpos?[{fn:o.onpos}]:[],this._onorientation=o.onorientation?[{fn:o.onorientation}]:[],_super.call(this,o)}),Howl.prototype.stereo=function(pan,id){var self=this;if(!self._webAudio)return self;if("loaded"!==self._state)return self._queue.push({event:"stereo",action:function(){self.stereo(pan,id)}}),self;var pannerType=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===id){if("number"!=typeof pan)return self._stereo;self._stereo=pan,self._pos=[pan,0,0]}for(var ids=self._getSoundIds(id),i=0;i<ids.length;i++){var sound=self._soundById(ids[i]);if(sound){if("number"!=typeof pan)return sound._stereo;sound._stereo=pan,sound._pos=[pan,0,0],sound._node&&(sound._pannerAttr.panningModel="equalpower",sound._panner&&sound._panner.pan||setupPanner(sound,pannerType),"spatial"===pannerType?void 0!==sound._panner.positionX?(sound._panner.positionX.setValueAtTime(pan,Howler.ctx.currentTime),sound._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),sound._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):sound._panner.setPosition(pan,0,0):sound._panner.pan.setValueAtTime(pan,Howler.ctx.currentTime)),self._emit("stereo",sound._id)}}return self},Howl.prototype.pos=function(x,y,z,id){var self=this;if(!self._webAudio)return self;if("loaded"!==self._state)return self._queue.push({event:"pos",action:function(){self.pos(x,y,z,id)}}),self;if(y="number"!=typeof y?0:y,z="number"!=typeof z?-.5:z,void 0===id){if("number"!=typeof x)return self._pos;self._pos=[x,y,z]}for(var ids=self._getSoundIds(id),i=0;i<ids.length;i++){var sound=self._soundById(ids[i]);if(sound){if("number"!=typeof x)return sound._pos;sound._pos=[x,y,z],sound._node&&(sound._panner&&!sound._panner.pan||setupPanner(sound,"spatial"),void 0!==sound._panner.positionX?(sound._panner.positionX.setValueAtTime(x,Howler.ctx.currentTime),sound._panner.positionY.setValueAtTime(y,Howler.ctx.currentTime),sound._panner.positionZ.setValueAtTime(z,Howler.ctx.currentTime)):sound._panner.setPosition(x,y,z)),self._emit("pos",sound._id)}}return self},Howl.prototype.orientation=function(x,y,z,id){var self=this;if(!self._webAudio)return self;if("loaded"!==self._state)return self._queue.push({event:"orientation",action:function(){self.orientation(x,y,z,id)}}),self;if(y="number"!=typeof y?self._orientation[1]:y,z="number"!=typeof z?self._orientation[2]:z,void 0===id){if("number"!=typeof x)return self._orientation;self._orientation=[x,y,z]}for(var ids=self._getSoundIds(id),i=0;i<ids.length;i++){var sound=self._soundById(ids[i]);if(sound){if("number"!=typeof x)return sound._orientation;sound._orientation=[x,y,z],sound._node&&(sound._panner||(sound._pos||(sound._pos=self._pos||[0,0,-.5]),setupPanner(sound,"spatial")),void 0!==sound._panner.orientationX?(sound._panner.orientationX.setValueAtTime(x,Howler.ctx.currentTime),sound._panner.orientationY.setValueAtTime(y,Howler.ctx.currentTime),sound._panner.orientationZ.setValueAtTime(z,Howler.ctx.currentTime)):sound._panner.setOrientation(x,y,z)),self._emit("orientation",sound._id)}}return self},Howl.prototype.pannerAttr=function(){var o,id,sound,self=this,args=arguments;if(!self._webAudio)return self;if(0===args.length)return self._pannerAttr;if(1===args.length){if("object"!=typeof args[0])return(sound=self._soundById(parseInt(args[0],10)))?sound._pannerAttr:self._pannerAttr;o=args[0],void 0===id&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),self._pannerAttr={coneInnerAngle:void 0!==o.pannerAttr.coneInnerAngle?o.pannerAttr.coneInnerAngle:self._coneInnerAngle,coneOuterAngle:void 0!==o.pannerAttr.coneOuterAngle?o.pannerAttr.coneOuterAngle:self._coneOuterAngle,coneOuterGain:void 0!==o.pannerAttr.coneOuterGain?o.pannerAttr.coneOuterGain:self._coneOuterGain,distanceModel:void 0!==o.pannerAttr.distanceModel?o.pannerAttr.distanceModel:self._distanceModel,maxDistance:void 0!==o.pannerAttr.maxDistance?o.pannerAttr.maxDistance:self._maxDistance,refDistance:void 0!==o.pannerAttr.refDistance?o.pannerAttr.refDistance:self._refDistance,rolloffFactor:void 0!==o.pannerAttr.rolloffFactor?o.pannerAttr.rolloffFactor:self._rolloffFactor,panningModel:void 0!==o.pannerAttr.panningModel?o.pannerAttr.panningModel:self._panningModel})}else 2===args.length&&(o=args[0],id=parseInt(args[1],10));for(var ids=self._getSoundIds(id),i=0;i<ids.length;i++)if(sound=self._soundById(ids[i])){var pa=sound._pannerAttr;pa={coneInnerAngle:void 0!==o.coneInnerAngle?o.coneInnerAngle:pa.coneInnerAngle,coneOuterAngle:void 0!==o.coneOuterAngle?o.coneOuterAngle:pa.coneOuterAngle,coneOuterGain:void 0!==o.coneOuterGain?o.coneOuterGain:pa.coneOuterGain,distanceModel:void 0!==o.distanceModel?o.distanceModel:pa.distanceModel,maxDistance:void 0!==o.maxDistance?o.maxDistance:pa.maxDistance,refDistance:void 0!==o.refDistance?o.refDistance:pa.refDistance,rolloffFactor:void 0!==o.rolloffFactor?o.rolloffFactor:pa.rolloffFactor,panningModel:void 0!==o.panningModel?o.panningModel:pa.panningModel};var panner=sound._panner;panner?(panner.coneInnerAngle=pa.coneInnerAngle,panner.coneOuterAngle=pa.coneOuterAngle,panner.coneOuterGain=pa.coneOuterGain,panner.distanceModel=pa.distanceModel,panner.maxDistance=pa.maxDistance,panner.refDistance=pa.refDistance,panner.rolloffFactor=pa.rolloffFactor,panner.panningModel=pa.panningModel):(sound._pos||(sound._pos=self._pos||[0,0,-.5]),setupPanner(sound,"spatial"))}return self},Sound.prototype.init=function(_super){return function(){var parent=this._parent;this._orientation=parent._orientation,this._stereo=parent._stereo,this._pos=parent._pos,this._pannerAttr=parent._pannerAttr,_super.call(this),this._stereo?parent.stereo(this._stereo):this._pos&&parent.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(_super){return function(){var parent=this._parent;return this._orientation=parent._orientation,this._stereo=parent._stereo,this._pos=parent._pos,this._pannerAttr=parent._pannerAttr,this._stereo?parent.stereo(this._stereo):this._pos?parent.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,parent._refreshBuffer(this)),_super.call(this)}}(Sound.prototype.reset);var setupPanner=function(sound,type){"spatial"===(type=type||"spatial")?(sound._panner=Howler.ctx.createPanner(),sound._panner.coneInnerAngle=sound._pannerAttr.coneInnerAngle,sound._panner.coneOuterAngle=sound._pannerAttr.coneOuterAngle,sound._panner.coneOuterGain=sound._pannerAttr.coneOuterGain,sound._panner.distanceModel=sound._pannerAttr.distanceModel,sound._panner.maxDistance=sound._pannerAttr.maxDistance,sound._panner.refDistance=sound._pannerAttr.refDistance,sound._panner.rolloffFactor=sound._pannerAttr.rolloffFactor,sound._panner.panningModel=sound._pannerAttr.panningModel,void 0!==sound._panner.positionX?(sound._panner.positionX.setValueAtTime(sound._pos[0],Howler.ctx.currentTime),sound._panner.positionY.setValueAtTime(sound._pos[1],Howler.ctx.currentTime),sound._panner.positionZ.setValueAtTime(sound._pos[2],Howler.ctx.currentTime)):sound._panner.setPosition(sound._pos[0],sound._pos[1],sound._pos[2]),void 0!==sound._panner.orientationX?(sound._panner.orientationX.setValueAtTime(sound._orientation[0],Howler.ctx.currentTime),sound._panner.orientationY.setValueAtTime(sound._orientation[1],Howler.ctx.currentTime),sound._panner.orientationZ.setValueAtTime(sound._orientation[2],Howler.ctx.currentTime)):sound._panner.setOrientation(sound._orientation[0],sound._orientation[1],sound._orientation[2])):(sound._panner=Howler.ctx.createStereoPanner(),sound._panner.pan.setValueAtTime(sound._stereo,Howler.ctx.currentTime)),sound._panner.connect(sound._node),sound._paused||sound._parent.pause(sound._id,!0).play(sound._id,!0)}}()},514:function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";function Long(low,high,unsigned){this.low=0|low,this.high=0|high,this.unsigned=!!unsigned}function isLong(obj){return!0===(obj&&obj.__isLong__)}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(value,unsigned){var obj,cachedObj,cache;return unsigned?(cache=0<=(value>>>=0)&&value<256)&&(cachedObj=UINT_CACHE[value])?cachedObj:(obj=fromBits(value,(0|value)<0?-1:0,!0),cache&&(UINT_CACHE[value]=obj),obj):(cache=-128<=(value|=0)&&value<128)&&(cachedObj=INT_CACHE[value])?cachedObj:(obj=fromBits(value,value<0?-1:0,!1),cache&&(INT_CACHE[value]=obj),obj)}function fromNumber(value,unsigned){if(isNaN(value)||!isFinite(value))return unsigned?UZERO:ZERO;if(unsigned){if(value<0)return UZERO;if(value>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(value<=-TWO_PWR_63_DBL)return MIN_VALUE;if(value+1>=TWO_PWR_63_DBL)return MAX_VALUE}return value<0?fromNumber(-value,unsigned).neg():fromBits(value%TWO_PWR_32_DBL|0,value/TWO_PWR_32_DBL|0,unsigned)}function fromBits(lowBits,highBits,unsigned){return new Long(lowBits,highBits,unsigned)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(str,unsigned,radix){if(0===str.length)throw Error("empty string");if("NaN"===str||"Infinity"===str||"+Infinity"===str||"-Infinity"===str)return ZERO;if("number"==typeof unsigned?(radix=unsigned,unsigned=!1):unsigned=!!unsigned,(radix=radix||10)<2||36<radix)throw RangeError("radix");var p;if((p=str.indexOf("-"))>0)throw Error("interior hyphen");if(0===p)return fromString(str.substring(1),unsigned,radix).neg();for(var radixToPower=fromNumber(pow_dbl(radix,8)),result=ZERO,i=0;i<str.length;i+=8){var size=Math.min(8,str.length-i),value=parseInt(str.substring(i,i+size),radix);if(size<8){var power=fromNumber(pow_dbl(radix,size));result=result.mul(power).add(fromNumber(value))}else result=(result=result.mul(radixToPower)).add(fromNumber(value))}return result.unsigned=unsigned,result}function fromValue(val){return val instanceof Long?val:"number"==typeof val?fromNumber(val):"string"==typeof val?fromString(val):fromBits(val.low,val.high,val.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(1<<24),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;return LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function(radix){if((radix=radix||10)<2||36<radix)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var radixLong=fromNumber(radix),div=this.div(radixLong),rem1=div.mul(radixLong).sub(this);return div.toString(radix)+rem1.toInt().toString(radix)}return"-"+this.neg().toString(radix)}for(var radixToPower=fromNumber(pow_dbl(radix,6),this.unsigned),rem=this,result="";;){var remDiv=rem.div(radixToPower),digits=(rem.sub(remDiv.mul(radixToPower)).toInt()>>>0).toString(radix);if((rem=remDiv).isZero())return digits+result;for(;digits.length<6;)digits="0"+digits;result=""+digits+result}},LongPrototype.getHighBits=function(){return this.high},LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},LongPrototype.getLowBits=function(){return this.low},LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var val=0!=this.high?this.high:this.low,bit=31;bit>0&&0==(val&1<<bit);bit--);return 0!=this.high?bit+33:bit+1},LongPrototype.isZero=function(){return 0===this.high&&0===this.low},LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function(){return 1==(1&this.low)},LongPrototype.isEven=function(){return 0==(1&this.low)},LongPrototype.equals=function(other){return isLong(other)||(other=fromValue(other)),(this.unsigned===other.unsigned||this.high>>>31!=1||other.high>>>31!=1)&&this.high===other.high&&this.low===other.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function(other){return!this.eq(other)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.lessThan=function(other){return this.comp(other)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function(other){return this.comp(other)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function(other){return this.comp(other)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function(other){return this.comp(other)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function(other){if(isLong(other)||(other=fromValue(other)),this.eq(other))return 0;var thisNeg=this.isNegative(),otherNeg=other.isNegative();return thisNeg&&!otherNeg?-1:!thisNeg&&otherNeg?1:this.unsigned?other.high>>>0>this.high>>>0||other.high===this.high&&other.low>>>0>this.low>>>0?-1:1:this.sub(other).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function(addend){isLong(addend)||(addend=fromValue(addend));var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=addend.high>>>16,b32=65535&addend.high,b16=addend.low>>>16,c48=0,c32=0,c16=0,c00=0;return c16+=(c00+=a00+(65535&addend.low))>>>16,c32+=(c16+=a16+b16)>>>16,c48+=(c32+=a32+b32)>>>16,c48+=a48+b48,fromBits((c16&=65535)<<16|(c00&=65535),(c48&=65535)<<16|(c32&=65535),this.unsigned)},LongPrototype.subtract=function(subtrahend){return isLong(subtrahend)||(subtrahend=fromValue(subtrahend)),this.add(subtrahend.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function(multiplier){if(this.isZero())return ZERO;if(isLong(multiplier)||(multiplier=fromValue(multiplier)),multiplier.isZero())return ZERO;if(this.eq(MIN_VALUE))return multiplier.isOdd()?MIN_VALUE:ZERO;if(multiplier.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return multiplier.isNegative()?this.neg().mul(multiplier.neg()):this.neg().mul(multiplier).neg();if(multiplier.isNegative())return this.mul(multiplier.neg()).neg();if(this.lt(TWO_PWR_24)&&multiplier.lt(TWO_PWR_24))return fromNumber(this.toNumber()*multiplier.toNumber(),this.unsigned);var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=multiplier.high>>>16,b32=65535&multiplier.high,b16=multiplier.low>>>16,b00=65535&multiplier.low,c48=0,c32=0,c16=0,c00=0;return c16+=(c00+=a00*b00)>>>16,c32+=(c16+=a16*b00)>>>16,c16&=65535,c32+=(c16+=a00*b16)>>>16,c48+=(c32+=a32*b00)>>>16,c32&=65535,c48+=(c32+=a16*b16)>>>16,c32&=65535,c48+=(c32+=a00*b32)>>>16,c48+=a48*b00+a32*b16+a16*b32+a00*b48,fromBits((c16&=65535)<<16|(c00&=65535),(c48&=65535)<<16|(c32&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function(divisor){if(isLong(divisor)||(divisor=fromValue(divisor)),divisor.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?UZERO:ZERO;var approx,rem,res;if(this.unsigned){if(divisor.unsigned||(divisor=divisor.toUnsigned()),divisor.gt(this))return UZERO;if(divisor.gt(this.shru(1)))return UONE;res=UZERO}else{if(this.eq(MIN_VALUE))return divisor.eq(ONE)||divisor.eq(NEG_ONE)?MIN_VALUE:divisor.eq(MIN_VALUE)?ONE:(approx=this.shr(1).div(divisor).shl(1)).eq(ZERO)?divisor.isNegative()?ONE:NEG_ONE:(rem=this.sub(divisor.mul(approx)),res=approx.add(rem.div(divisor)));if(divisor.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return divisor.isNegative()?this.neg().div(divisor.neg()):this.neg().div(divisor).neg();if(divisor.isNegative())return this.div(divisor.neg()).neg();res=ZERO}for(rem=this;rem.gte(divisor);){approx=Math.max(1,Math.floor(rem.toNumber()/divisor.toNumber()));for(var log2=Math.ceil(Math.log(approx)/Math.LN2),delta=log2<=48?1:pow_dbl(2,log2-48),approxRes=fromNumber(approx),approxRem=approxRes.mul(divisor);approxRem.isNegative()||approxRem.gt(rem);)approxRem=(approxRes=fromNumber(approx-=delta,this.unsigned)).mul(divisor);approxRes.isZero()&&(approxRes=ONE),res=res.add(approxRes),rem=rem.sub(approxRem)}return res},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function(divisor){return isLong(divisor)||(divisor=fromValue(divisor)),this.sub(this.div(divisor).mul(divisor))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.and=function(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low&other.low,this.high&other.high,this.unsigned)},LongPrototype.or=function(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low|other.low,this.high|other.high,this.unsigned)},LongPrototype.xor=function(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low^other.low,this.high^other.high,this.unsigned)},LongPrototype.shiftLeft=function(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low<<numBits,this.high<<numBits|this.low>>>32-numBits,this.unsigned):fromBits(0,this.low<<numBits-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low>>>numBits|this.high<<32-numBits,this.high>>numBits,this.unsigned):fromBits(this.high>>numBits-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function(numBits){if(isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63))return this;var high=this.high;return numBits<32?fromBits(this.low>>>numBits|high<<32-numBits,high>>>numBits,this.unsigned):fromBits(32===numBits?high:high>>>numBits-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(le){return le?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var hi=this.high,lo=this.low;return[255&lo,lo>>>8&255,lo>>>16&255,lo>>>24&255,255&hi,hi>>>8&255,hi>>>16&255,hi>>>24&255]},LongPrototype.toBytesBE=function(){var hi=this.high,lo=this.low;return[hi>>>24&255,hi>>>16&255,hi>>>8&255,255&hi,lo>>>24&255,lo>>>16&255,lo>>>8&255,255&lo]},Long})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},820:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__='<xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">\n  <category name="Logic" colour="#5b80a5">\n    <block type="controls_if"></block>\n    <block type="logic_compare">\n      <field name="OP">EQ</field>\n    </block>\n    <block type="logic_operation">\n      <field name="OP">AND</field>\n    </block>\n    <block type="logic_negate"></block>\n    <block type="logic_boolean">\n      <field name="BOOL">TRUE</field>\n    </block>\n    <block type="logic_null"></block>\n    <block type="logic_ternary"></block>\n  </category>\n  <category name="Loops" colour="#5ba55b">\n    <block type="controls_repeat_ext">\n      <value name="TIMES">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="controls_whileUntil">\n      <field name="MODE">WHILE</field>\n    </block>\n    <block type="controls_for">\n      <field name="VAR" id="{WqvPolv4NnHnXhJ#i?A">i</field>\n      <value name="FROM">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n      <value name="TO">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n      <value name="BY">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="controls_forEach">\n      <field name="VAR" id="|lGd7TPL8ZGM}[=cdJ{$">j</field>\n    </block>\n    <block type="controls_flow_statements">\n      <field name="FLOW">BREAK</field>\n    </block>\n  </category>\n  <category name="Math" colour="#5b67a5">\n    <block type="math_number">\n      <field name="NUM">0</field>\n    </block>\n    <block type="math_arithmetic">\n      <field name="OP">ADD</field>\n      <value name="A">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n      <value name="B">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_single">\n      <field name="OP">ROOT</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM">9</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_trig">\n      <field name="OP">SIN</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM">45</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_constant">\n      <field name="CONSTANT">PI</field>\n    </block>\n    <block type="math_number_property">\n      <mutation divisor_input="false"></mutation>\n      <field name="PROPERTY">EVEN</field>\n      <value name="NUMBER_TO_CHECK">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_round">\n      <field name="OP">ROUND</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM">3.1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_on_list">\n      <mutation op="SUM"></mutation>\n      <field name="OP">SUM</field>\n    </block>\n    <block type="math_modulo">\n      <value name="DIVIDEND">\n        <shadow type="math_number">\n          <field name="NUM">64</field>\n        </shadow>\n      </value>\n      <value name="DIVISOR">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_constrain">\n      <value name="VALUE">\n        <shadow type="math_number">\n          <field name="NUM">50</field>\n        </shadow>\n      </value>\n      <value name="LOW">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n      <value name="HIGH">\n        <shadow type="math_number">\n          <field name="NUM">100</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_random_int">\n      <value name="FROM">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n      <value name="TO">\n        <shadow type="math_number">\n          <field name="NUM">100</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_random_float"></block>\n    <block type="deg_to_rad">\n      <value name="degree_value">\n        <shadow type="math_number">\n          <field name="NUM">180</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="rad_to_deg">\n      <value name="radian_value">\n        <shadow type="math_number">\n          <field name="NUM">3.14</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_atan2">\n      <value name="x">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n      <value name="y">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_distance">\n      <value name="a_x">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="a_y">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="b_x">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n      <value name="b_y">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <category name="Lists" colour="#745ba5">\n    <block type="lists_create_with">\n      <mutation items="0"></mutation>\n    </block>\n    <block type="lists_create_with">\n      <mutation items="3"></mutation>\n    </block>\n    <block type="lists_repeat">\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM">5</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="lists_length"></block>\n    <block type="lists_isEmpty"></block>\n    <block type="lists_indexOf">\n      <field name="END">FIRST</field>\n      <value name="VALUE">\n        <block type="variables_get">\n          <mutation playerid_input="false" show_dropdown="true"></mutation>\n          <field name="VAR" id="OHL[BKPS.tSBl273}]t$">list</field>\n        </block>\n      </value>\n    </block>\n    <block type="lists_getIndex">\n      <mutation statement="false" at="true"></mutation>\n      <field name="MODE">GET</field>\n      <field name="WHERE">FROM_START</field>\n      <value name="VALUE">\n        <block type="variables_get">\n          <mutation playerid_input="false" show_dropdown="true"></mutation>\n          <field name="VAR" id="OHL[BKPS.tSBl273}]t$">list</field>\n        </block>\n      </value>\n    </block>\n    <block type="lists_setIndex">\n      <mutation at="true"></mutation>\n      <field name="MODE">SET</field>\n      <field name="WHERE">FROM_START</field>\n      <value name="LIST">\n        <block type="variables_get">\n          <mutation playerid_input="false" show_dropdown="true"></mutation>\n          <field name="VAR" id="OHL[BKPS.tSBl273}]t$">list</field>\n        </block>\n      </value>\n    </block>\n    <block type="lists_getSublist">\n      <mutation at1="true" at2="true"></mutation>\n      <field name="WHERE1">FROM_START</field>\n      <field name="WHERE2">FROM_START</field>\n      <value name="LIST">\n        <block type="variables_get">\n          <mutation playerid_input="false" show_dropdown="true"></mutation>\n          <field name="VAR" id="OHL[BKPS.tSBl273}]t$">list</field>\n        </block>\n      </value>\n    </block>\n    <block type="lists_split">\n      <mutation mode="SPLIT"></mutation>\n      <field name="MODE">SPLIT</field>\n      <value name="DELIM">\n        <shadow type="text">\n          <field name="TEXT">,</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="lists_sort">\n      <field name="TYPE">NUMERIC</field>\n      <field name="DIRECTION">1</field>\n    </block>\n  </category>\n  <category name="Text" colour="#5ba58c">\n    <block type="text">\n      <field name="TEXT"></field>\n    </block>\n    <block type="text_join">\n      <mutation items="2"></mutation>\n    </block>\n    <block type="text_append">\n      <field name="VAR" id=")?E@rk:Ve@UsZ3VblUrR">item</field>\n      <value name="TEXT">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>\n    <block type="text_length">\n      <value name="VALUE">\n        <shadow type="text">\n          <field name="TEXT">abc</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="text_isEmpty">\n      <value name="VALUE">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>\n    <block type="text_indexOf">\n      <field name="END">FIRST</field>\n      <value name="VALUE">\n        <block type="variables_get">\n          <mutation playerid_input="false" show_dropdown="true"></mutation>\n          <field name="VAR" id="BM=;WeRTa{JMwH|%:(Zf">text</field>\n        </block>\n      </value>\n      <value name="FIND">\n        <shadow type="text">\n          <field name="TEXT">abc</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="text_charAt">\n      <mutation at="true"></mutation>\n      <field name="WHERE">FROM_START</field>\n      <value name="VALUE">\n        <block type="variables_get">\n          <field name="VAR" id="BM=;WeRTa{JMwH|%:(Zf">text</field>\n          <mutation playerid_input="false" show_dropdown="true"></mutation>\n        </block>\n      </value>\n    </block>\n    <block type="text_getSubstring">\n      <mutation at1="true" at2="true"></mutation>\n      <field name="WHERE1">FROM_START</field>\n      <field name="WHERE2">FROM_START</field>\n      <value name="STRING">\n        <block type="variables_get">\n          <field name="VAR" id="BM=;WeRTa{JMwH|%:(Zf">text</field>\n          <mutation playerid_input="false" show_dropdown="true"></mutation>\n        </block>\n      </value>\n    </block>\n    <block type="text_changeCase">\n      <field name="CASE">UPPERCASE</field>\n      <value name="TEXT">\n        <shadow type="text">\n          <field name="TEXT">abc</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="text_trim">\n      <field name="MODE">BOTH</field>\n      <value name="TEXT">\n        <shadow type="text">\n          <field name="TEXT">abc</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <category name="Colour" colour="#a5745b">\n    <block type="colour_picker">\n      <field name="COLOUR">#ff0000</field>\n    </block>\n    <block type="colour_hex">\n      <value name="hex_code">\n        <shadow type="text">\n          <field name="TEXT">FF0000</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="colour_random"></block>\n    <block type="colour_rgb">\n      <value name="RED">\n        <shadow type="math_number">\n          <field name="NUM">100</field>\n        </shadow>\n      </value>\n      <value name="GREEN">\n        <shadow type="math_number">\n          <field name="NUM">50</field>\n        </shadow>\n      </value>\n      <value name="BLUE">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="colour_blend">\n      <value name="COLOUR1">\n        <shadow type="colour_picker">\n          <field name="COLOUR">#ff0000</field>\n        </shadow>\n      </value>\n      <value name="COLOUR2">\n        <shadow type="colour_picker">\n          <field name="COLOUR">#3333ff</field>\n        </shadow>\n      </value>\n      <value name="RATIO">\n        <shadow type="math_number">\n          <field name="NUM">0.5</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <sep></sep>\n  <category name="Variables" colour="#a55b80" custom="VARIABLE"></category>\n  <category name="Functions" colour="#995ba5" custom="PROCEDURE"></category>\n  <sep></sep>\n  <category name="Bonk Events" colour="#a5745b">\n    <block type="on_round_start"></block>\n    <block type="on_each_phys_frame"></block>\n    <block type="on_each_render_frame"></block>\n    <block type="on_player_die"></block>\n    <block type="on_player_collide">\n      <field name="collide_type">collide_player</field>\n      <field name="return_info">FALSE</field>\n      <field name="player_id" id="0YRMwNZi;j8;w+8P%,=/">hit player id</field>\n      <field name="arrow_id" id="n`,#/rH4N9zK3kN%kqf;">hit arrow number</field>\n      <field name="platform_id" id=":SJf9G~6AmE3!:UU}OmF">hit platform id</field>\n      <field name="normal_x" id="_eo=O8;[pMsW1Ays:dqa">hit normal x</field>\n      <field name="normal_y" id="Wg5!le%r1|G4{=IH{Gyq">hit normal y</field>\n    </block>\n    <block type="on_arrow_collide">\n      <field name="collide_type">collide_player</field>\n      <field name="return_info">FALSE</field>\n      <field name="self_arrow_id" id="vc=L=v@m=U6zy=gd!ABw">own arrow number</field>\n      <field name="player_id" id="0YRMwNZi;j8;w+8P%,=/">hit player id</field>\n      <field name="arrow_id" id="n`,#/rH4N9zK3kN%kqf;">hit arrow number</field>\n      <field name="platform_id" id=":SJf9G~6AmE3!:UU}OmF">hit platform id</field>\n      <field name="normal_x" id="_eo=O8;[pMsW1Ays:dqa">hit normal x</field>\n      <field name="normal_y" id="Wg5!le%r1|G4{=IH{Gyq">hit normal y</field>\n    </block>\n    <block type="on_platform_collide">\n      <field name="collide_type">collide_player</field>\n      <field name="return_info">FALSE</field>\n      <field name="self_platform_id" id="V6vQ,J11COF*;i]GkIlj">own platform id</field>\n      <field name="player_id" id="0YRMwNZi;j8;w+8P%,=/">hit player id</field>\n      <field name="arrow_id" id="n`,#/rH4N9zK3kN%kqf;">hit arrow number</field>\n      <field name="platform_id" id=":SJf9G~6AmE3!:UU}OmF">hit platform id</field>\n      <field name="normal_x" id="_eo=O8;[pMsW1Ays:dqa">hit normal x</field>\n      <field name="normal_y" id="Wg5!le%r1|G4{=IH{Gyq">hit normal y</field>\n    </block>\n  </category>\n  <category name="Map Objects" colour="#5b80a5">\n    <block type="get_map_size"></block>\n    <block type="get_platform_order"></block>\n    <block type="get_platform_by_name">\n      <value name="platform_name">\n        <shadow type="text">\n          <field name="TEXT">platform</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="get_platform_name">\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="raycast">\n      <field name="collide_a">TRUE</field>\n      <field name="collide_b">TRUE</field>\n      <field name="collide_c">TRUE</field>\n      <field name="collide_d">TRUE</field>\n      <field name="collide_player">FALSE</field>\n      <field name="point_x" id="d~|`8[0U:G4^,mAO:SDY">hit point x</field>\n      <field name="point_y" id="M;q2y5Pmh-ax72@!1IZ7">hit point y</field>\n      <field name="normal_x" id="MnUZ%.[qb*QxyBjN!1[w">hit normal x</field>\n      <field name="normal_y" id="5=tEmDRp@!~p-ywup)ow">hit normal y</field>\n      <value name="a_x">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="a_y">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="b_x">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n      <value name="b_y">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="set_platform_prop">\n      <field name="platform_prop">p_x</field>\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="set_value">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="change_platform_prop">\n      <field name="platform_prop">p_x</field>\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="change_value">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="get_platform_prop">\n      <field name="platform_prop">p_x</field>\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="set_shape_prop">\n      <field name="shape_prop">s_c_x</field>\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="shape_id">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n      <value name="set_value">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="change_shape_prop">\n      <field name="shape_prop">s_c_x</field>\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="shape_id">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n      <value name="change_value">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="get_shape_prop">\n      <field name="shape_prop">s_c_x</field>\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="shape_id">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="get_shape_amount">\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="delete_platform">\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="delete_shape">\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="shape_id">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="add_shape">\n      <value name="shape">\n        <shadow type="rectangle_shape">\n          <field name="nophys">FALSE</field>\n          <field name="nograp">FALSE</field>\n          <field name="ingrap">FALSE</field>\n          <field name="death">FALSE</field>\n          <value name="color">\n            <shadow type="colour_picker">\n              <field name="COLOUR">#ff0000</field>\n            </shadow>\n          </value>\n          <value name="xpos">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="ypos">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="width">\n            <shadow type="math_number">\n              <field name="NUM">5</field>\n            </shadow>\n          </value>\n          <value name="height">\n            <shadow type="math_number">\n              <field name="NUM">2</field>\n            </shadow>\n          </value>\n          <value name="angle">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n        </shadow>\n      </value>\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="clone_platform">\n      <value name="platform_id">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <field name="return_id">FALSE</field>\n    </block>\n    <block type="create_platform">\n      <field name="return_id">FALSE</field>\n      <field name="type">s</field>\n      <field name="colgroup">1</field>\n      <field name="colplayers">TRUE</field>\n      <field name="cola">TRUE</field>\n      <field name="colb">TRUE</field>\n      <field name="colc">TRUE</field>\n      <field name="cold">TRUE</field>\n      <value name="shape_list">\n        <block type="lists_create_with">\n          <mutation items="1"></mutation>\n          <value name="ADD0">\n            <shadow type="rectangle_shape">\n              <field name="nophys">FALSE</field>\n              <field name="nograp">FALSE</field>\n              <field name="ingrap">FALSE</field>\n              <field name="death">FALSE</field>\n              <value name="color">\n                <shadow type="colour_picker">\n                  <field name="COLOUR">#ff0000</field>\n                </shadow>\n              </value>\n              <value name="xpos">\n                <shadow type="math_number">\n                  <field name="NUM">0</field>\n                </shadow>\n              </value>\n              <value name="ypos">\n                <shadow type="math_number">\n                  <field name="NUM">0</field>\n                </shadow>\n              </value>\n              <value name="width">\n                <shadow type="math_number">\n                  <field name="NUM">5</field>\n                </shadow>\n              </value>\n              <value name="height">\n                <shadow type="math_number">\n                  <field name="NUM">2</field>\n                </shadow>\n              </value>\n              <value name="angle">\n                <shadow type="math_number">\n                  <field name="NUM">0</field>\n                </shadow>\n              </value>\n            </shadow>\n          </value>\n        </block>\n        <shadow type="lists_create_with">\n          <mutation items="1"></mutation>\n          <value name="ADD0">\n            <shadow type="rectangle_shape">\n              <field name="nophys">FALSE</field>\n              <field name="nograp">FALSE</field>\n              <field name="ingrap">FALSE</field>\n              <field name="death">FALSE</field>\n              <value name="color">\n                <shadow type="colour_picker">\n                  <field name="COLOUR">#ff0000</field>\n                </shadow>\n              </value>\n              <value name="xpos">\n                <shadow type="math_number">\n                  <field name="NUM">0</field>\n                </shadow>\n              </value>\n              <value name="ypos">\n                <shadow type="math_number">\n                  <field name="NUM">0</field>\n                </shadow>\n              </value>\n              <value name="width">\n                <shadow type="math_number">\n                  <field name="NUM">5</field>\n                </shadow>\n              </value>\n              <value name="height">\n                <shadow type="math_number">\n                  <field name="NUM">2</field>\n                </shadow>\n              </value>\n              <value name="angle">\n                <shadow type="math_number">\n                  <field name="NUM">0</field>\n                </shadow>\n              </value>\n            </shadow>\n          </value>\n        </shadow>\n      </value>\n      <value name="xpos">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="ypos">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="angle">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="bounciness">\n        <shadow type="math_number">\n          <field name="NUM">0.8</field>\n        </shadow>\n      </value>\n      <value name="density">\n        <shadow type="math_number">\n          <field name="NUM">0.3</field>\n        </shadow>\n      </value>\n      <value name="friction">\n        <shadow type="math_number">\n          <field name="NUM">0.5</field>\n        </shadow>\n      </value>\n      <value name="fricp">\n        <shadow type="logic_boolean">\n          <field name="BOOL">FALSE</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="rectangle_shape">\n      <field name="nophys">FALSE</field>\n      <field name="nograp">FALSE</field>\n      <field name="ingrap">FALSE</field>\n      <field name="death">FALSE</field>\n      <value name="color">\n        <shadow type="colour_picker">\n          <field name="COLOUR">#ff0000</field>\n        </shadow>\n      </value>\n      <value name="xpos">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="ypos">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="width">\n        <shadow type="math_number">\n          <field name="NUM">5</field>\n        </shadow>\n      </value>\n      <value name="height">\n        <shadow type="math_number">\n          <field name="NUM">2</field>\n        </shadow>\n      </value>\n      <value name="angle">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="circle_shape">\n      <field name="nophys">FALSE</field>\n      <field name="nograp">FALSE</field>\n      <field name="ingrap">FALSE</field>\n      <field name="death">FALSE</field>\n      <value name="color">\n        <shadow type="colour_picker">\n          <field name="COLOUR">#ff0000</field>\n        </shadow>\n      </value>\n      <value name="xpos">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="ypos">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="radius">\n        <shadow type="math_number">\n          <field name="NUM">5</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="polygon_shape">\n      <field name="nophys">FALSE</field>\n      <field name="nograp">FALSE</field>\n      <field name="ingrap">FALSE</field>\n      <field name="death">FALSE</field>\n      <value name="color">\n        <shadow type="colour_picker">\n          <field name="COLOUR">#ff0000</field>\n        </shadow>\n      </value>\n      <value name="xpos">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="ypos">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="vertex">\n        <shadow type="lists_create_with">\n          <mutation items="6"></mutation>\n          <value name="ADD0">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="ADD1">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="ADD2">\n            <shadow type="math_number">\n              <field name="NUM">10</field>\n            </shadow>\n          </value>\n          <value name="ADD3">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="ADD4">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="ADD5">\n            <shadow type="math_number">\n              <field name="NUM">10</field>\n            </shadow>\n          </value>\n        </shadow>\n      </value>\n      <value name="angle">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="scale">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <category name="Players &amp; Arrows" colour="#5b67a5">\n    <block type="set_player_prop">\n      <field name="player">self</field>\n      <field name="player_prop">x</field>\n      <value name="set_number">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="change_player_prop">\n      <field name="player">self</field>\n      <field name="player_prop">x</field>\n      <value name="change_number">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="get_player_prop">\n      <field name="player">self</field>\n      <field name="property">x</field>\n    </block>\n    <block type="set_last_arrow_prop">\n      <field name="player">self</field>\n      <field name="arrow">last</field>\n      <field name="arrow_prop">x</field>\n      <value name="set_number">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="change_last_arrow_prop">\n      <field name="player">self</field>\n      <field name="arrow">last</field>\n      <field name="arrow_prop">x</field>\n      <value name="change_number">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="get_last_arrow_prop">\n      <field name="player">self</field>\n      <field name="arrow">last</field>\n      <field name="property">x</field>\n    </block>\n    <block type="pressing_key">\n      <field name="player">self</field>\n      <field name="key">up</field>\n    </block>\n    <block type="input_override">\n      <field name="player">self</field>\n      <field name="key">up</field>\n      <value name="override_value">\n        <shadow type="logic_boolean">\n          <field name="BOOL">FALSE</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="stop_input_override">\n      <field name="player">self</field>\n      <field name="key">up</field>\n    </block>\n    <block type="create_arrow">\n      <value name="arrow_xpos">\n        <shadow type="math_number">\n          <field name="NUM">50</field>\n        </shadow>\n      </value>\n      <value name="arrow_ypos">\n        <shadow type="math_number">\n          <field name="NUM">20</field>\n        </shadow>\n      </value>\n      <value name="arrow_xvel">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n      <value name="arrow_yvel">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="arrow_angle">\n        <shadow type="math_number">\n          <field name="NUM">90</field>\n        </shadow>\n      </value>\n      <value name="arrow_time">\n        <shadow type="math_number">\n          <field name="NUM">150</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="get_own_id"></block>\n    <block type="get_player_id_list"></block>\n    <block type="player_on_team">\n      <field name="player">self</field>\n      <field name="team">2</field>\n    </block>\n    <block type="get_arrow_amount">\n      <field name="player">self</field>\n    </block>\n    <block type="delete_arrows">\n      <field name="player">self</field>\n      <field name="arrow">all</field>\n    </block>\n    <block type="player_die">\n      <field name="player">self</field>\n    </block>\n  </category>\n  <category name="Drawing" colour="#5ba58c">\n    <block type="draw_clear"></block>\n    <block type="get_screen_prop">\n      <field name="screen_prop">width</field>\n    </block>\n    <block type="get_player_color">\n      <field name="player">self</field>\n    </block>\n    <block type="get_player_name">\n      <field name="player">self</field>\n    </block>\n    <block type="draw_line">\n      <field name="line_anchored">FALSE</field>\n      <value name="line_x1">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="line_y1">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="line_x2">\n        <shadow type="math_number">\n          <field name="NUM">5</field>\n        </shadow>\n      </value>\n      <value name="line_y2">\n        <shadow type="math_number">\n          <field name="NUM">5</field>\n        </shadow>\n      </value>\n      <value name="line_width">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n      <value name="line_color">\n        <shadow type="colour_picker">\n          <field name="COLOUR">#ff0000</field>\n        </shadow>\n      </value>\n      <value name="line_alpha">\n        <shadow type="math_number">\n          <field name="NUM">100</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="draw_rect">\n      <field name="rect_anchored">FALSE</field>\n      <value name="rect_x1">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="rect_y1">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="rect_x2">\n        <shadow type="math_number">\n          <field name="NUM">5</field>\n        </shadow>\n      </value>\n      <value name="rect_y2">\n        <shadow type="math_number">\n          <field name="NUM">5</field>\n        </shadow>\n      </value>\n      <value name="rect_angle">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="rect_color">\n        <shadow type="colour_picker">\n          <field name="COLOUR">#ff0000</field>\n        </shadow>\n      </value>\n      <value name="rect_alpha">\n        <shadow type="math_number">\n          <field name="NUM">100</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="draw_circle">\n      <field name="circ_anchored">FALSE</field>\n      <value name="circ_x">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="circ_y">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="circ_radius">\n        <shadow type="math_number">\n          <field name="NUM">5</field>\n        </shadow>\n      </value>\n      <value name="circ_color">\n        <shadow type="colour_picker">\n          <field name="COLOUR">#ff0000</field>\n        </shadow>\n      </value>\n      <value name="circ_alpha">\n        <shadow type="math_number">\n          <field name="NUM">100</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="draw_poly">\n      <field name="poly_anchored">FALSE</field>\n      <value name="poly_vertex">\n        <shadow type="lists_create_with">\n          <mutation items="8"></mutation>\n          <value name="ADD0">\n            <shadow type="math_number">\n              <field name="NUM">5</field>\n            </shadow>\n          </value>\n          <value name="ADD1">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="ADD2">\n            <shadow type="math_number">\n              <field name="NUM">10</field>\n            </shadow>\n          </value>\n          <value name="ADD3">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="ADD4">\n            <shadow type="math_number">\n              <field name="NUM">5</field>\n            </shadow>\n          </value>\n          <value name="ADD5">\n            <shadow type="math_number">\n              <field name="NUM">3</field>\n            </shadow>\n          </value>\n          <value name="ADD6">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="ADD7">\n            <shadow type="math_number">\n              <field name="NUM">3</field>\n            </shadow>\n          </value>\n        </shadow>\n      </value>\n      <value name="poly_color">\n        <shadow type="colour_picker">\n          <field name="COLOUR">#ff0000</field>\n        </shadow>\n      </value>\n      <value name="poly_alpha">\n        <shadow type="math_number">\n          <field name="NUM">100</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="draw_text">\n      <field name="text_centered">FALSE</field>\n      <field name="text_anchored">FALSE</field>\n      <value name="text_string">\n        <shadow type="text">\n          <field name="TEXT">Hello!</field>\n        </shadow>\n      </value>\n      <value name="text_x">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="text_y">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="text_size">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n      <value name="text_color">\n        <shadow type="colour_picker">\n          <field name="COLOUR">#ff0000</field>\n        </shadow>\n      </value>\n      <value name="text_alpha">\n        <shadow type="math_number">\n          <field name="NUM">100</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <category name="Misc" colour="#a55b5b">\n    <block type="play_sound">\n      <value name="sound_volume">\n        <shadow type="math_number">\n          <field name="NUM">0.5</field>\n        </shadow>\n      </value>\n      <field name="pan_type">const</field>\n      <value name="sound_pan">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="play_sound">\n      <value name="sound_volume">\n        <shadow type="math_number">\n          <field name="NUM">0.5</field>\n        </shadow>\n      </value>\n      <field name="pan_type">world</field>\n      <value name="sound_pan">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n        <block type="get_player_prop">\n          <field name="player">self</field>\n          <field name="property">x</field>\n        </block>\n      </value>\n    </block>\n    <block type="set_camera_prop">\n      <field name="player">self</field>\n      <field name="camera_prop">xpos</field>\n      <value name="set_number">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="change_camera_prop">\n      <field name="player">self</field>\n      <field name="camera_prop">xpos</field>\n      <value name="change_number">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="get_camera_prop">\n      <field name="player">self</field>\n      <field name="camera_prop">xpos</field>\n    </block>\n    <block type="change_camera_lerp">\n      <field name="player">self</field>\n      <field name="enable">false</field>\n    </block>\n    <block type="change_death_barrier">\n      <field name="enable">false</field>\n    </block>\n  </category>\n</xml>'},190:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(379),_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(795),_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__),_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(565),_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_2__),_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(216),_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_3__),_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(589),_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_4__),_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(833),options={};options.styleTagTransform=_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_4___default(),options.setAttributes=_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_2___default(),options.insert=function(element){let parent=window.gmStyles;null==parent&&(window.gmStyles=document.createElement("div"),parent=window.gmStyles);const lastInsertedElement=window._lastElementInsertedByStyleLoader;lastInsertedElement?lastInsertedElement.nextSibling?parent.insertBefore(element,lastInsertedElement.nextSibling):parent.appendChild(element):parent.insertBefore(element,parent.firstChild),window._lastElementInsertedByStyleLoader=element},options.domAPI=_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default(),options.insertStyleElement=_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_3___default();_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_5__.Z,options),_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_5__.Z&&_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_5__.Z.locals&&_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_5__.Z.locals},379:module=>{"use strict";var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},216:module=>{"use strict";module.exports=function(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},565:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=function(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},795:module=>{"use strict";module.exports=function(options){var styleElement=options.insertStyleElement(options);return{update:function(obj){!function(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function(){!function(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},589:module=>{"use strict";module.exports=function(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}},336:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACxQAAAsUBidZ/7wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHCSURBVEiJ1ZXBahNhFIXPDWpjSAUX1mbXKuhrqDtBVHyEIhZLRC3oK/QB3PkMxaXoxoWCol0LXVkE0WjaRgouhPznc5EfHMZpMtG66IVhhp9zzzkX5p5fOuwVdYHAMUmnJCHpW0QM/1kdaAGrtl/bTrbJz9D2K+AucLzUc6HWBMAV4LGkjqQ9SS+Aj5IiIhYlXZTUlvQ5IpYi4nlKaS0izjcajRuTnN/JjreBLjBTgWkC92wP8kTP8nRPJpFfzeSbwJmx4BH+XBZhogDQtt3LzhcnkUtSSmmtQP6HwJESfkXS6YhYiYitGu4fAsuSBoWzH/s22H5ne5B/yYMtoOVRrR8kb6Pw3ZEUwIf/JUB+197ucqWUHtkG6FQJ9CQREQt/K5B7h5L6lQDbG7Z3gaPTkgNN23u2XxbPixMoItYlnZS0NK2ApFuSZjPHvi5mbX+13QcW6jIDZ23v2v5UDr8q8PUcFe/riGTyTdtD4HJdR6t5J/rA7arFA2aAru0d2wnoVnGNi+trOa7nJH3X77hWjutLkk5I+hIRNyPiaS33JZE28MD229KFk2y/Ae4DrXEc01yZTUnzGi1kLyJ+Tu34UNYvjYqQ50rXP00AAAAASUVORK5CYII="},158:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACxQAAAsUBidZ/7wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACsSURBVEiJ7ZRRDoIwFATBC4B40dZTqigJXmj88Jk0L6luCzF8sH+E7kyBR5tmz+YCtEAEjgWd3jqtsjjyzl2RGHy0zlndzU2ROPgI9D8FVuyAixUn4JRZc03WDBJckSyGf5OsBs9IZuCxGtxJPh8T4KnCDwWedMZx1/Vx73y20c1O1xL4BAzKCFfD3b16iTKK1RIKfn8KjpW0FBR4RhLVpwgK3EkCynG95+95ARDkx5DX/PP7AAAAAElFTkSuQmCC"},653:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACxQAAAsUBidZ/7wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEhSURBVEiJ1ZU/SwMxGIefiIt4ICgFoUNxESzoKkKRLvWLODrUUT+Cm5NfouBSqEs7O1hwUwRFcHFwFXTy53IH13iXS1I73A9eCHn/PHkTkkDdZbKBpBWgHVnnwxjz5oyQtKt4fUrqFtVdqljZBFi3bBs4Sq0BjIFVYCipE9rBTUHccc6/Jmnk6qSqg1BlnTQXBQBIgI1FAma0HJFzC/TT8de8gENJLw5/H9iMAVwCjxVwWzvAqT1ZdgYjYAr8eNo0zfkj1xYdACdea4cr4MkZYV20nmfhfH4vl7+XzZd2IOkcOPOsfwHcFTlcWzQA7j0Bz8BWKKAJ7HsCvsscLkALKH8dZ/UKvIcAEmCYmq+6IYDrgMJO/deXaevBGFP5TtVDvzVa0PDXywDUAAAAAElFTkSuQmCC"},154:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACxQAAAsUBidZ/7wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEfSURBVEiJ1ZW9SsNQGIafVy12FKziINbFC9DNGxJHN70DC92FoqMX0aGD4BAX8W9xEMXVxcVuldehORLbpGh6IvosOV/y8T58nCQH/jsCsL0GLBX0GLiS5NIW20eezIntmTLZc5n1E7CT07MFtIB327s/nSQreJPUy+np2X4FOkDT9vOEvAdJ7SJBIZKObQMcABsFbcvANdAee5Luwe13ZEXYPrV9Pnp/bALbe8BKCcc60LDdSuszSd0vAtvzwCFQLyEI7KfXO4DRV29zyvAsSZ5gO1L4i6THKgVJWPyqoAasVilYjBQ+AC7zBAuRBDeS+nmCWiTBRbYIglmG//0YJNkiCBqkh09VgkGk8M8PLBCOzCbDKaalL+k+Qs4f4gNi+3bWxe/oUQAAAABJRU5ErkJggg=="},677:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACxQAAAsUBidZ/7wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADVSURBVEiJ7ZWxDcIwEEXvwKFPNmACxqCAmgL2oGYYFkjBFinYgA1IBULyv3wKUkWJE0iQQMqXTrLu7P98tmSL/Lu0Lkky8d7PaxeoJs65maqePqYC2AJgKLz3h14AMzuTjKthZvsSAgCbNi8X4qhqXk2a2b0cTkXkCODmnGs8rklrO2FFIpICWH8LIPLqJAWwGgRA8iEieSUoIsvOJuUlZ13nm1kGYFdXG+KIghoBI2AEhF9TRzLuYlIURaNPY4HkwsyuXQAhvf1lNimKoouq9t7Q7+kJyBmRw45Of6gAAAAASUVORK5CYII="},601:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACxQAAAsUBidZ/7wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADFSURBVEiJ7ZMxCsJAEEU3kFptzR28hl5AsFIrLSwtvYnewErwRoKNhQp2IW/ybVYQCQbjBkX85bK8N3xmnPvnJyIpMbOppKgWAbAFZGbzOuBDQMBOUiMoXFIbOAJ5lmW9oHDnnAM2fvplHfCRh+8ltYLCv78aSc0n8NFbW5OmaQc4AJMCcQKcfDXdl+F+wj6QAfmj5HZQwKoSvEhiZjP/Ng66NcDgTrJ4u5oSiYJUUyKptDVx6Yc4XgNO0jmKoku1Mf/5ZK7dYgZXbSH4kAAAAABJRU5ErkJggg=="},140:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAVJJREFUSMfllT9KA0EYxd+IkBRiJVGsLCwsFQIprbyAVsZiPYTBY2ipIsZrJOoBFEEPoEkRBI8QWM3PZoLrZGZ2/FeID7b59n3v7fe+3VnpXwBoMYlWSu9Uoseap7b6kwbLibXSKAxwBXSBLaAGHAK5J6Lc3qtZbtf2mphB5oiMKIfLyULiM8BTgmAZnoFZ3w72JS1GEuxJOrFXP8Kbl7Tnm6AJDANPdQZUC9wq0A5wh8B2KKY60HcaHovijknP4faBepH34TU1xtxKOna0LowxQ9fA1i6d8pHV8BtYjFytSN6mpHdi7AYw+EZEA6AREt+JLLntWfJ5ZMnNMXe64LEiqRIYblfSOjDOfEPSUoBbsVoTE/zKh+aaZA75NUHQ5WQKgffDrgNsAgvAKfDiEc6BA2DOcjuUHXYR4xuPwXVKb+r/4CGx9mWDO0/t/tNR/Em8ASiL3Dzcv8azAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA0LTEzVDE0OjQzOjAzKzAwOjAwfCpNXQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNC0xM1QxNDo0MzowMyswMDowMA139eEAAAAodEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL3RtcC9tYWdpY2stZEprWU1DZ05qxfNUAAAAAElFTkSuQmCC"},159:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAp8SURBVHic7Z1bjFVXGcf/Hy2Wyp0GlBpptDIIktIWGmINKFJIpY0N1NZQFRORFsNDfZEYn0w1sRgfIDEiFTQm+tBa2zS2CWirISQ1clMTiykgSVstFxkuM2CnlfLzYZ3DDOOZM3uvvfbl7Fm/hExm2Hut76z1nb1u3/ffUiQSiUQikUgkEolEIpFIJBKJRCLlAcwCNgBzy7YlUgDANGA1sAN4nX62l21bXbEyKweul7RI0l2SlkmaN4RNFyXdaGY9BZoXyRNgO/AWyVlfts11ZFSJdU+RNCbF9evyMmQkU6YDHEl5/e3A/FwsGcGU6QCHPe55OETFwBhgMzA7RHkRD4DFKcb/Jr3AuIz1zgD2N8o7EZ2gJIDpHg4A4D0XAJYCpweVF52gLIAeDwfY61GPAY8C/x2izFPAx/L4jJE2AAc9HADg9hR1jAOeatx3uU2Z0QmKBnjS0wG2Jiy/C3glQec3icNBkQDf8ej8y8A7wK3DlH0ffkNMdIKiANZ4dFCTM8AXgVGDyhwNfJdk3/gR7wRlnwV8XNLLGYt5Q9KLkk5JGifpM5I+LAll+3xbzOzrGW2rPGU7wGxJh8q0YQj2S1pkZn1lG5I3Ze4ESu70r2p0S/rcSOh8Sbq2rIqBayVtLKv+FiDpsqTPm9lrZRtTFGU+AbZIuq3E+gdjkr5lZi+VbUiReM8BcFE6k+VO9Y42fh42s+PD3DdR0o8kPaTsE7WQPC3pQTOjbEOKxKvxcZE8Z9T6PL9X/Q5xRO7U76ikCXLRP+vlYgGqxCFJC83sQtmGFI2vAyyXtCuwLWXRI+kOM/M5nu54fCeBdwW1ohyaj/o1I7XzJf9J4LKgVpSDSfqBmT1XtiFlknoIAKZJOuFzbwDONeqdGKCstyVNNbPeAGV1LD5PgKUqtvN3Sbpf0mQzm2xmk+RWH6uUbR5ybKR3vhe4pI0i6AbuSWDPPY1r03KsiPaqHcBrQbu5Nd3AnBQ2zSG9E7wLVG05WjiphgBglqQZOdkykDVmlviQqHHtmpR1jJL0QMp7Rja4RM282ZnBvp0p6zoKvDdkG3UaaSeBuyXtkMvVy4ttGe59IuX1N0vayqCgksgwABOA9cCBwN9+gEkZ7Jqcsq5m1NBOUgSaRgYALAC24ZI2snI2gD1nM9S/D1gHjA/RNiMKYDzwcKMRfTkTwI4sDtCkF+fUC0K0zYgDuBs46dn4WYaASQE6fzAHcMPdhJBtVHuAO3Dh22mjc1dlqHNl4M4fyAWcpkGUq0kKsNWjoYtcBvqwIWQb1RpgnmcjD7sF3KKuewN2cjtm5dFWtQU47tHIRWwF+1C7YNEiNkD+4XHPFEl7SHgYJGmPigkze7GAOgqlCAfw3TWcIul53Li+kgGrA9xsfxVuvvC8iosxTOwAwFzc1nmlh4zcz/WB/ZJCafuclwvl8l4qZgBJ7zezU4kudlHTaxu/viHpd3IO9FLSMoogVwfAybl0S3pPnvUUxF/MLFEeA27P4E1JY1v9t6S/qt8h9pjZW8GsTEneQ8BXVY/Ol1yHJWW1Wne+5L50t0r6hlxE0xlKVELNzQGALkmP5VV+CaSZAKZRMxujEvMkcskNbDz6n5VUxUOVC5J+KZeWbpJmDvj3EbW2uU9upTEsuPODtCeLpYWlB3cAwCT9TFLidXyB/FbSV8zsX80/4FLUH5H0ZTPrA6ZL6lK/Q8yUdDbFOO2jYpZWNLO6ABsL2JDx4dfA6EG2zsapgYDTDswU7oYTpPI5Fl+crdUrAvBpnBRbFnmWPPgbg0K/uLrzm5wGlmb4/Os87ZuevfVLBriJ/xdhrAqfGmTrLODNIa69BHwbN5SlbQOfWIgen7oqBU57N0sgSJ7sH2Rru86H/qfXc7hU9qRtcIunfQfC90hyQi0DH5dU1eiZK9lDuAnfbkntHrnNb+NnJb1M8q3cr/mZV+4EMJQDbJN00vPevAUZTktXOv8Pkt6X4t45kvYB97W7CKdZuFZ+n6XzHcDM/i5pifycoE/S9+SeIKPl9vlnSfqCpN9IupTRvBs8O7/JeEnP4rQHB68iRgEPSfq9nO0+Y3mpDhB08uHR0IckrTKzV9uU+VE5SZkl8pOUeUrScUmPprzvKjMa9R6TtFNOBWWqXJr8BzOUK0l3mtkfM5ZRHWi9vGo1yfoVCbX/gWuAn3tOsg5S7UlqV959Uji0d4JLuM2iVN9k4DrgsEcD9+Lk4m+imsvU+/Pqh1KhghstuBdGXKJaG1V7gWvCtXyFoIJbrVRzq3pL9tauKDgn2AykeUVcu/K2eTTw2gH3G27+URWaT6NfkCD5BPeqnU8Ca4HHcWcc3vEEHbcFiTtu3Zfytk1m9s0BZYyT9CdV78SyW9KP5TarLsqdRnap/1RypoY+rp5SZmRRoZA+K/mZFmV0AecDfIOrwnKftuzUvPifpLi2T07V9Coa2oBr5Nb4dZCH9dJu7LghQAobdAl8Xy4+r9NJHLQ6kI50AClc2DXuxO+0wkRHnW/8DKFjmJZUYesdDwETL4AjGcbeZuLKxAHlXUlcyTKoe7A6a1uMSIB/ejR2N3BvgrJ9dQx92FFEe9UKYCrpdwZrk7zaqauAkDyg9HOhLxWgY+jDDCqei1gpgLHAsZTfsloJWIzYJwBOG3CrpA+lvDWLjmGWe4fjopyG4+4c66gHwG0Dvo1pxv/LFKtjmIQoYpUE3EniOtzxqy/nAthxLkCnRxm7pADzCSdkWbYDRCHLJOCkbB+helK2k/ALRjkJ3B2yjWoJbndwO07TLy9WZrAvrY7hZZzWYnzUJ4H6ydkD/DBkG9UaXNpXEQy7BdzCthWedd2SR1vVFurzShuAtq/hDUEdN4KK0PJr6hiuGO5CsukY5p41FB3AnymSXqC1juHExt+y6hjm/i7jjg0IGQrKfbFl6ICQvWa2MFBZLamdA0gS8Gc5KbZO5225aN//5FVBHYcAKZ2mX5W5Tn6iU4mpqwPUSdT5MXJMIK3rEHC9XCh4q2ykXrnZ9RFJRxs/35X0CTlNgirusx+StNDMgk8Ka+kA0pWo4cnq7+wjko6Y2ZBra+ADkn4qabn8tAjy5GlJD5pZHXIYqgswGpdvV0U2hv68VfLwygCMlbRX1codbGYwrTCzXcNdnJToAEOA0zGo4mSyW9J8Mwvy+proAG0ADkpKnW5VAPslLTKzvqwF1XUZGIpgj9rALJDTZsxMdID2/Dvn8n1n9CcVKMI4OkB7sr7I4R1Jz8jtL8xplHeDpDslbZJLXU/LSUlLGtqMkTwBnvRYqjVj/l4Abh6m/C7glUH3teMETosxUgQ4jUEftuEST5LUMY5+zaJ2ThA7v0hwYlI9Hp3/KpDqRVmNujbiJOxi51cBnBqXD96ndzgdw8FilrHzywBY7NH5vSSUv21T7wycpmLs/DLB6fClJcjSDKdtvDl2fokAmzwcINQrcgsj7gMMzcyU1x80s1Jf/+JDdIChOaN0GzVP5GVInsTDoDbgIosWyYkwLpM0T63b7KKkG82sp0DzIkUDTANWAzuA1weM/aW9/DlSIrhcxA3A3LJtiUQikUgkEolEIpFIJBKJRCKRSGQI/geCWEvyH1UDYwAAAABJRU5ErkJggg=="},201:module=>{module.exports=[{type:"create_arrow",message0:"create arrow %1 x position %2 y position %3 x velocity %4 y velocity %5 angle %6 steps until despawn %7",args0:[{type:"input_dummy"},{type:"input_value",name:"arrow_xpos",check:"Number",align:"RIGHT"},{type:"input_value",name:"arrow_ypos",check:"Number",align:"RIGHT"},{type:"input_value",name:"arrow_xvel",check:"Number",align:"RIGHT"},{type:"input_value",name:"arrow_yvel",check:"Number",align:"RIGHT"},{type:"input_value",name:"arrow_angle",check:"Number",align:"RIGHT"},{type:"input_value",name:"arrow_time",check:"Number",align:"RIGHT"}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:230,tooltip:"Create an arrow.",helpUrl:""},{type:"player_die",message0:"kill %1 %2 %3 , %4 respawn",args0:[{type:"field_dropdown",name:"player",options:[["your player","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"allow_respawn",options:[["allow","true"],["don't allow","false"]]}],inputsInline:!0,previousStatement:null,colour:230,tooltip:"Kill a player. Not allowing a player to respawn makes the player stay killed until the round ends, even when respawn on death is activated.",helpUrl:""},{type:"draw_line",lastDummyAlign0:"RIGHT",message0:"draw line %1 from x %2 y %3 to x %4 y %5 width %6 colour %7 alpha (0 to 100) %8 anchored to player? %9 %10 only visible to player? %11 %12 doesn't move with camera? %13",args0:[{type:"input_dummy"},{type:"input_value",name:"line_x1",check:"Number",align:"RIGHT"},{type:"input_value",name:"line_y1",check:"Number",align:"RIGHT"},{type:"input_value",name:"line_x2",check:"Number",align:"RIGHT"},{type:"input_value",name:"line_y2",check:"Number",align:"RIGHT"},{type:"input_value",name:"line_width",check:"Number",align:"RIGHT"},{type:"input_value",name:"line_color",check:"Colour",align:"RIGHT"},{type:"input_value",name:"line_alpha",check:"Number",align:"RIGHT"},{type:"field_checkbox",name:"line_anchored",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"line_onlyplayer",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"line_nocameramove",checked:!1}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:160,tooltip:'Draw a line to the screen. If the drawing is anchored to player, the "don\'t move with camera" option will be ignored.',helpUrl:""},{type:"draw_rect",lastDummyAlign0:"RIGHT",message0:"draw rectangle %1 x %2 y %3 width %4 height %5 angle %6 colour %7 alpha (0 to 100) %8 anchored to player? %9 %10 only visible to player? %11 %12 doesn't move with camera? %13",args0:[{type:"input_dummy"},{type:"input_value",name:"rect_x1",check:"Number",align:"RIGHT"},{type:"input_value",name:"rect_y1",check:"Number",align:"RIGHT"},{type:"input_value",name:"rect_x2",check:"Number",align:"RIGHT"},{type:"input_value",name:"rect_y2",check:"Number",align:"RIGHT"},{type:"input_value",name:"rect_angle",check:"Number",align:"RIGHT"},{type:"input_value",name:"rect_color",check:"Colour",align:"RIGHT"},{type:"input_value",name:"rect_alpha",check:"Number",align:"RIGHT"},{type:"field_checkbox",name:"rect_anchored",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"rect_onlyplayer",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"rect_nocameramove",checked:!1}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:160,tooltip:'Draw a rectangle to the screen.  If the drawing is anchored to player, the "don\'t move with camera" option will be ignored.',helpUrl:""},{type:"draw_circle",lastDummyAlign0:"RIGHT",message0:"draw circle %1 at x %2 y %3 with radius %4 colour %5 alpha (0 to 100) %6 anchored to player? %7 %8 only visible to player? %9 %10 doesn't move with camera? %11",args0:[{type:"input_dummy"},{type:"input_value",name:"circ_x",check:"Number",align:"RIGHT"},{type:"input_value",name:"circ_y",check:"Number",align:"RIGHT"},{type:"input_value",name:"circ_radius",check:"Number",align:"RIGHT"},{type:"input_value",name:"circ_color",check:"Colour",align:"RIGHT"},{type:"input_value",name:"circ_alpha",check:"Number",align:"RIGHT"},{type:"field_checkbox",name:"circ_anchored",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"circ_onlyplayer",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"circ_nocameramove",checked:!1}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:160,tooltip:'Draw a circle to the screen.  If the drawing is anchored to player, the "don\'t move with camera" option will be ignored.',helpUrl:""},{type:"draw_text",lastDummyAlign0:"RIGHT",message0:"draw text %1 text %2 at x %3 y %4 size %5 colour %6 alpha (0 to 100) %7 centered? %8 %9 anchored to player? %10 %11 only visible to player? %12 %13 doesn't move with camera? %14",args0:[{type:"input_dummy"},{type:"input_value",name:"text_string",check:"String",align:"RIGHT"},{type:"input_value",name:"text_x",check:"Number",align:"RIGHT"},{type:"input_value",name:"text_y",check:"Number",align:"RIGHT"},{type:"input_value",name:"text_size",check:"Number",align:"RIGHT"},{type:"input_value",name:"text_color",check:"Colour",align:"RIGHT"},{type:"input_value",name:"text_alpha",check:"Number",align:"RIGHT"},{type:"field_checkbox",name:"text_centered",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"text_anchored",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"text_onlyplayer",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"text_nocameramove",checked:!1}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:160,tooltip:"Draw text to the screen.  If the drawing is anchored to player, the \"don't move with camera\" option will be ignored. Text is resource intensive, so it's a bad idea to have more than 20 of them on screen.",helpUrl:""},{type:"draw_clear",message0:"clear player's drawings",inputsInline:!1,previousStatement:null,nextStatement:null,colour:160,tooltip:"Clear all previous drawings from the player.",helpUrl:""},{type:"on_each_phys_frame",message0:"on physics step %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"code"}],colour:20,tooltip:"Executes every time the physics get calculated (30 times a second).",helpUrl:""},{type:"on_each_render_frame",message0:"on render %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"code"}],colour:20,tooltip:'Executes every time the game is rendered (varies depending on your FPS). Game modifying blocks such as "set player\'s x position" do not work here.',helpUrl:""},{type:"on_player_collide",message0:"when the player collides with  %1 %2 store info in variables %3 %4 %5 %6 %7 %8 %9 %10 %11",args0:[{type:"field_dropdown",name:"collide_type",options:[["another player","collide_player"],["an arrow","collide_arrow"],["a platform","collide_platform"]]},{type:"input_dummy"},{type:"field_checkbox",name:"return_info",checked:!1},{type:"field_variable",name:"player_id",variable:"hit player id"},{type:"field_variable",name:"arrow_id",variable:"hit arrow number"},{type:"field_variable",name:"platform_id",variable:"hit platform id"},{type:"field_variable",name:"shape_id",variable:"hit shape number"},{type:"field_variable",name:"normal_x",variable:"hit normal x"},{type:"field_variable",name:"normal_y",variable:"hit normal y"},{type:"input_dummy"},{type:"input_statement",name:"code"}],colour:20,tooltip:"Executes when the player collides with a specified type of object.",helpUrl:""},{type:"on_round_start",message0:"on round start %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"code"}],colour:20,tooltip:"Executes when a round starts.",helpUrl:""},{type:"set_player_prop",message0:"set %1 %2 %3 %4 to %5",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"player_prop",options:[["x position","x"],["y position","y"],["x velocity","xv"],["y velocity","yv"],["angle","a"]]},{type:"input_value",name:"set_number",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"Set a player's property to a specified value.",helpUrl:""},{type:"get_player_prop",message0:"get %1 %2 %3 %4",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"property",options:[["x position","x"],["y position","y"],["x velocity","xv"],["y velocity","yv"],["angle","a"],["size","size"]]}],inputsInline:!0,output:"Number",colour:230,tooltip:"Get a player's property. If the player doesn't exist, it will return 0.",helpUrl:""},{type:"set_last_arrow_prop",message0:"set %1 %2 %3 %4 %5 %6 %7 to %8",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"arrow",options:[["last arrow","last"],["arrow number","id"],["arrows","all"]]},{type:"input_dummy"},{type:"input_value",name:"arrow_id",check:"Number"},{type:"field_dropdown",name:"arrow_prop",options:[["x position","x"],["y position","y"],["x velocity","xv"],["y velocity","yv"],["angle","a"],["amount of steps until despawn","fte"]]},{type:"input_value",name:"set_number",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"Set a player's arrow's property to a specified value.",helpUrl:""},{type:"pressing_key",message0:"%1 %2 %3 is pressing %4",args0:[{type:"field_dropdown",name:"player",options:[["your player","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"key",options:[["up","up"],["down","down"],["left","left"],["right","right"],["heavy","action"],["special","action2"]]}],inputsInline:!0,output:"Boolean",colour:230,tooltip:"Returns true if the player is pressing the specified key.",helpUrl:""},{type:"on_arrow_collide",message0:"when player's arrow collides with  %1 %2 store info in variables %3 %4 %5 %6 %7 %8 %9 %10 %11 %12",args0:[{type:"field_dropdown",name:"collide_type",options:[["a player","collide_player"],["another arrow","collide_arrow"],["a platform","collide_platform"]]},{type:"input_dummy"},{type:"field_checkbox",name:"return_info",checked:!1},{type:"field_variable",name:"self_arrow_id",variable:"own arrow number"},{type:"field_variable",name:"player_id",variable:"hit player id"},{type:"field_variable",name:"arrow_id",variable:"hit arrow number"},{type:"field_variable",name:"platform_id",variable:"hit platform id"},{type:"field_variable",name:"shape_id",variable:"hit shape number"},{type:"field_variable",name:"normal_x",variable:"hit normal x"},{type:"field_variable",name:"normal_y",variable:"hit normal y"},{type:"input_dummy"},{type:"input_statement",name:"code"}],colour:20,tooltip:"Executes when any of the player's arrows collides with a specified type of object.",helpUrl:""},{type:"unit_to_pixel",message0:"get screen pos of %1",args0:[{type:"input_value",name:"unit_value",check:"Number"}],output:"Number",tooltip:"[NO LONGER WORKS]  Turn physics length units into pixels.",helpUrl:""},{type:"pixel_to_unit",message0:"get physics pos of %1",args0:[{type:"input_value",name:"unit_value",check:"Number"}],output:"Number",tooltip:"[NO LONGER WORKS] Turn pixels into physics length units.",helpUrl:""},{type:"raycast",lastDummyAlign0:"RIGHT",message0:"raycast from x: %1 y: %2 to x: %3 y: %4 collide with A: %5 %6 B: %7 %8 C: %9 %10 D: %11 %12 players (including self): %13 %14 and return %15 %16 %17 %18 %19 %20 %21 %22",args0:[{type:"input_value",name:"a_x",check:"Number",align:"RIGHT"},{type:"input_value",name:"a_y",check:"Number",align:"RIGHT"},{type:"input_value",name:"b_x",check:"Number",align:"RIGHT"},{type:"input_value",name:"b_y",check:"Number",align:"RIGHT"},{type:"field_checkbox",name:"collide_a",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"collide_b",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"collide_c",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"collide_d",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"collide_player",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_variable",name:"point_x",variable:"hit point x"},{type:"field_variable",name:"point_y",variable:"hit point y"},{type:"input_dummy",align:"RIGHT"},{type:"field_variable",name:"normal_x",variable:"hit normal x"},{type:"field_variable",name:"normal_y",variable:"hit normal y"},{type:"input_dummy",align:"RIGHT"},{type:"field_variable",name:"object_type",variable:"hit object type"},{type:"field_variable",name:"object_id",variable:"hit object id"}],inputsInline:!1,output:"Boolean",colour:195,tooltip:'"Throws" a ray from point A to point B. if it hits something, it returns true and sets the specified variables to hit point, normal, object type and id. The "hit object type" returned is text, and it can be either "platform" or "player".',helpUrl:""},{type:"draw_poly",lastDummyAlign0:"RIGHT",message0:"draw polygon %1 with vertex list %2 (2 items = 1 vertex) %3 colour %4 alpha (0 to 100) %5 anchored to player? %6 %7 only visible to player? %8 %9 doesn't move with camera? %10",args0:[{type:"input_dummy"},{type:"input_value",name:"poly_vertex",check:"Array",align:"RIGHT"},{type:"input_dummy",align:"RIGHT"},{type:"input_value",name:"poly_color",check:"Colour",align:"RIGHT"},{type:"input_value",name:"poly_alpha",check:"Number",align:"RIGHT"},{type:"field_checkbox",name:"poly_anchored",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"poly_onlyplayer",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_checkbox",name:"poly_nocameramove",checked:!1}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:160,tooltip:'Draw a polygon to the screen. Every pair of items correspond to the x and y coordinates of a vertex.  If the drawing is anchored to player, the "don\'t move with camera" option will be ignored.',helpUrl:""},{type:"deg_to_rad",message0:"degrees to radians %1",args0:[{type:"input_value",name:"degree_value",check:"Number"}],output:"Number",colour:230,tooltip:"Turn degrees into radians.",helpUrl:""},{type:"rad_to_deg",message0:"radians to degrees %1",args0:[{type:"input_value",name:"radian_value",check:"Number"}],output:"Number",colour:230,tooltip:"Turn radians into degrees.",helpUrl:""},{type:"delete_arrows",message0:"delete %1 %2 %3 %4 %5 %6",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"arrow",options:[["arrows","all"],["last arrow","last"],["arrow number","id"]]},{type:"input_dummy"},{type:"input_value",name:"arrow_id",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"Delete an arrow or all arrows that belong to a player.",helpUrl:""},{type:"math_atan2",message0:"atan2 of x: %1 y: %2",args0:[{type:"input_value",name:"x",check:"Number"},{type:"input_value",name:"y",check:"Number"}],inputsInline:!0,output:"Number",colour:230,tooltip:"Returns the atan2 of the specified coordinate, in degrees.",helpUrl:""},{type:"math_distance",message0:"distance between x: %1 y: %2 and x: %3 y: %4",args0:[{type:"input_value",name:"a_x",check:"Number"},{type:"input_value",name:"a_y",check:"Number"},{type:"input_value",name:"b_x",check:"Number"},{type:"input_value",name:"b_y",check:"Number"}],inputsInline:!0,output:"Number",colour:230,tooltip:"Returns the distance between two points.",helpUrl:""},{type:"get_player_color",message0:"get %1 %2 %3 main colour",args0:[{type:"field_dropdown",name:"player",options:[["your player's","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"}],inputsInline:!0,output:"Colour",colour:160,tooltip:"Get a player's main (background) colour.",helpUrl:""},{type:"change_last_arrow_prop",message0:"change %1 %2 %3 %4 %5 %6 %7 by %8",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"arrow",options:[["last arrow","last"],["arrow number","id"],["arrows","all"]]},{type:"input_dummy"},{type:"input_value",name:"arrow_id",check:"Number"},{type:"field_dropdown",name:"arrow_prop",options:[["x position","x"],["y position","y"],["x velocity","xv"],["y velocity","yv"],["angle","a"],["steps until despawn","fte"]]},{type:"input_value",name:"change_number",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"Change a player's arrow's property by a specified value.",helpUrl:""},{type:"get_last_arrow_prop",message0:"get %1 %2 %3 %4 %5 %6 's %7",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"arrow",options:[["last arrow","last"],["arrow number","id"]]},{type:"input_dummy"},{type:"input_value",name:"arrow_id",check:"Number"},{type:"field_dropdown",name:"property",options:[["x position","x"],["y position","y"],["x velocity","xv"],["y velocity","yv"],["angle","a"],["steps until despawn","fte"]]}],inputsInline:!0,output:"Number",colour:230,tooltip:"Get a player's arrow's property.",helpUrl:""},{type:"change_player_prop",message0:"change %1 %2 %3 %4 by %5",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"player_prop",options:[["x position","x"],["y position","y"],["x velocity","xv"],["y velocity","yv"],["angle","a"]]},{type:"input_value",name:"change_number",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"Set a player's property to a specified value.",helpUrl:""},{type:"get_arrow_amount",message0:"get %1 %2 %3 arrow amount",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"}],inputsInline:!0,output:"Number",colour:230,tooltip:"Get the amount of arrows a player has.",helpUrl:""},{type:"get_map_size",message0:"get map size",output:"Number",colour:195,tooltip:"Gives you the map size. This is useful when you need a physics coordinate that is constant between map sizes.",helpUrl:""},{type:"get_own_id",message0:"get %1 player id",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["host's","host"]]}],output:"Number",colour:230,tooltip:"Get your player's id, or the host's player id.",helpUrl:""},{type:"input_override",message0:"override %1 %2 %3 %4 key to %5 %6",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"key",options:[["up","up"],["down","down"],["left","left"],["right","right"],["heavy","action"],["special","action2"]]},{type:"input_dummy"},{type:"input_value",name:"override_value",check:"Boolean"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:'Overrides a key to be on/off until a "stop overriding" block. Only built-in behaviour related to that key will be overriden, the real value is still visible to the custom mode.',helpUrl:""},{type:"stop_input_override",message0:"stop overriding %1 %2 %3 %4 key",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"key",options:[["up","up"],["down","down"],["left","left"],["right","right"],["heavy","action"],["special","action2"]]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:230,tooltip:"Stop overriding a key.",helpUrl:""},{type:"get_player_id_list",message0:"get all player ids as list",output:"Array",colour:230,tooltip:"Returns a list that contains the ids of all alive players.",helpUrl:""},{type:"rectangle_shape",message0:"rectangle shape %1 colour %2 x %3 y %4 width %5 height %6 angle %7 no physics %8 , no grapple %9 %10 inner grap %11 , death %12",args0:[{type:"input_dummy"},{type:"input_value",name:"color",check:"Colour",align:"RIGHT"},{type:"input_value",name:"xpos",check:"Number",align:"RIGHT"},{type:"input_value",name:"ypos",check:"Number",align:"RIGHT"},{type:"input_value",name:"width",check:"Number",align:"RIGHT"},{type:"input_value",name:"height",check:"Number",align:"RIGHT"},{type:"input_value",name:"angle",check:"Number",align:"RIGHT"},{type:"field_checkbox",name:"nophys",checked:!1},{type:"field_checkbox",name:"nograp",checked:!1},{type:"input_dummy"},{type:"field_checkbox",name:"ingrap",checked:!1},{type:"field_checkbox",name:"death",checked:!1}],inputsInline:!1,output:"Shape",colour:195,tooltip:'Defines a rectangle shape to use in the "create platform" block.',helpUrl:""},{type:"circle_shape",message0:"circle shape %1 colour %2 x %3 y %4 radius %5 no physics %6 , no grapple %7 %8 inner grap %9 , death %10",args0:[{type:"input_dummy"},{type:"input_value",name:"color",check:"Colour",align:"RIGHT"},{type:"input_value",name:"xpos",check:"Number",align:"RIGHT"},{type:"input_value",name:"ypos",check:"Number",align:"RIGHT"},{type:"input_value",name:"radius",check:"Number",align:"RIGHT"},{type:"field_checkbox",name:"nophys",checked:!1},{type:"field_checkbox",name:"nograp",checked:!1},{type:"input_dummy"},{type:"field_checkbox",name:"ingrap",checked:!1},{type:"field_checkbox",name:"death",checked:!1}],inputsInline:!1,output:"Shape",colour:195,tooltip:'Defines a circle shape to use in the "create platform" block.',helpUrl:""},{type:"polygon_shape",message0:"polygon shape %1 colour %2 x %3 y %4 vertex list %5 (2 values = 1 vertex) %6 angle %7 scale %8 no physics %9 , no grapple %10 %11 inner grap %12 , death %13",args0:[{type:"input_dummy"},{type:"input_value",name:"color",check:"Colour",align:"RIGHT"},{type:"input_value",name:"xpos",check:"Number",align:"RIGHT"},{type:"input_value",name:"ypos",check:"Number",align:"RIGHT"},{type:"input_value",name:"vertex",check:"Array",align:"RIGHT"},{type:"input_dummy",align:"RIGHT"},{type:"input_value",name:"angle",check:"Number",align:"RIGHT"},{type:"input_value",name:"scale",check:"Number",align:"RIGHT"},{type:"field_checkbox",name:"nophys",checked:!1},{type:"field_checkbox",name:"nograp",checked:!1},{type:"input_dummy"},{type:"field_checkbox",name:"ingrap",checked:!1},{type:"field_checkbox",name:"death",checked:!1}],inputsInline:!1,output:"Shape",colour:195,tooltip:'Defines a polygon shape to use in the "create platform" block.',helpUrl:""},{type:"create_platform",message0:"create platform %1 return id %2 %3 type %4 %5 shape list %6 x %7 y %8 angle %9 bounciness %10 density %11 friction %12 fric players %13 collide group %14 %15 collide with.. %16 players %17 , group A %18 , group B %19 , %20 group C %21 , group D %22",args0:[{type:"input_dummy"},{type:"field_checkbox",name:"return_id",checked:!1},{type:"input_dummy",align:"RIGHT"},{type:"field_dropdown",name:"type",options:[["stationary","s"],["free moving","d"],["kinematic","k"]]},{type:"input_dummy",align:"RIGHT"},{type:"input_value",name:"shape_list",check:"Array",align:"RIGHT"},{type:"input_value",name:"xpos",check:"Number",align:"RIGHT"},{type:"input_value",name:"ypos",check:"Number",align:"RIGHT"},{type:"input_value",name:"angle",check:"Number",align:"RIGHT"},{type:"input_value",name:"bounciness",check:"Number",align:"RIGHT"},{type:"input_value",name:"density",check:"Number",align:"RIGHT"},{type:"input_value",name:"friction",check:"Number",align:"RIGHT"},{type:"input_value",name:"fricp",check:"Boolean",align:"RIGHT"},{type:"field_dropdown",name:"colgroup",options:[["A","1"],["B","2"],["C","3"],["D","4"]]},{type:"input_dummy",align:"RIGHT"},{type:"input_dummy"},{type:"field_checkbox",name:"colplayers",checked:!0},{type:"field_checkbox",name:"cola",checked:!0},{type:"field_checkbox",name:"colb",checked:!0},{type:"input_dummy"},{type:"field_checkbox",name:"colc",checked:!0},{type:"field_checkbox",name:"cold",checked:!0}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:195,tooltip:"Create a platform with the specified shapes and properties. Be aware that this may lag the game if done too often. ",helpUrl:""},{type:"set_platform_prop",message0:"set platform with id %1 's %2 to %3",args0:[{type:"input_value",name:"platform_id",check:"Number"},{type:"field_dropdown",name:"platform_prop",options:[["x position","p_x"],["y position","p_y"],["x velocity","lv_x"],["y velocity","lv_y"],["angle","a"],["angular velocity","av"],["bounciness","re"],["density","de"],["friction","fric"],["fric players","fricp"],["collide with players","f_p"],["collide with A","f_1"],["collide with B","f_2"],["collide with C","f_3"],["collide with D","f_4"],["linear drag","ld"],["spin drag","ad"]]},{type:"input_value",name:"set_value",check:["Number","Boolean"]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:195,tooltip:"Set a platform's property.",helpUrl:""},{type:"change_platform_prop",message0:"change platform with id %1 's %2 by %3",args0:[{type:"input_value",name:"platform_id",check:"Number"},{type:"field_dropdown",name:"platform_prop",options:[["x position","p_x"],["y position","p_y"],["x velocity","lv_x"],["y velocity","lv_y"],["angle","a"],["angular velocity","av"],["bounciness","re"],["density","de"],["friction","fric"],["linear drag","ld"],["spin drag","ad"]]},{type:"input_value",name:"change_value",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:195,tooltip:"Change a platform's property by a specified amount.",helpUrl:""},{type:"get_platform_prop",message0:"get platform with id %1 's %2",args0:[{type:"input_value",name:"platform_id",check:"Number"},{type:"field_dropdown",name:"platform_prop",options:[["x position","p_x"],["y position","p_y"],["x velocity","lv_x"],["y velocity","lv_y"],["angle","a"],["angular velocity","av"],["bounciness","re"],["density","de"],["friction","fric"],["fric players","fricp"],["collide with players","f_p"],["collide with A","f_1"],["collide with B","f_2"],["collide with C","f_3"],["collide with D","f_4"],["linear drag","ld"],["spin drag","ad"]]}],inputsInline:!0,output:["Number","Boolean"],colour:195,tooltip:"Get a platform's property.",helpUrl:""},{type:"set_shape_prop",message0:"set platform with id %1 's shape # %2 's %3 to %4",args0:[{type:"input_value",name:"platform_id",check:"Number"},{type:"input_value",name:"shape_id",check:"Number"},{type:"field_dropdown",name:"shape_prop",options:[["colour","f_f"],["x offset","s_c_x"],["y offset","s_c_y"],["angle (only rectangle)","s_a"],["width (only rectangle)","s_w"],["height (only rectangle)","s_h"],["radius (only circle)","s_r"],["no physics","f_np"],["no grapple","f_ng"],["inner grapple","f_ig"],["death","f_d"]]},{type:"input_value",name:"set_value",check:["Number","Boolean","Colour"]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:195,tooltip:"Set a platform's shape's property. Be aware that this may lag the game if done too often.",helpUrl:""},{type:"change_shape_prop",message0:"change platform with id %1 's shape # %2 's %3 by %4",args0:[{type:"input_value",name:"platform_id",check:"Number"},{type:"input_value",name:"shape_id",check:"Number"},{type:"field_dropdown",name:"shape_prop",options:[["x offset","s_c_x"],["y offset","s_c_y"],["angle (only rectangle)","s_a"],["width (only rectangle)","s_w"],["height (only rectangle)","s_h"],["radius (only circle)","s_r"]]},{type:"input_value",name:"change_value",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:195,tooltip:"Change a platform's shape's property by a specified amount. Be aware that this may lag the game if done too often.",helpUrl:""},{type:"get_shape_prop",message0:"get platform with id %1 's shape # %2 's %3",args0:[{type:"input_value",name:"platform_id",check:"Number"},{type:"input_value",name:"shape_id",check:"Number"},{type:"field_dropdown",name:"shape_prop",options:[["colour","f_f"],["x offset","s_c_x"],["y offset","s_c_y"],["angle (only rectangle)","s_a"],["width (only rectangle)","s_w"],["height (only rectangle)","s_h"],["radius (only circle)","s_r"],["no physics","f_np"],["no grapple","f_ng"],["inner grapple","f_ig"],["death","f_d"]]}],inputsInline:!0,output:["Number","Boolean","Colour"],colour:195,tooltip:"Get a platform's shape's property.",helpUrl:""},{type:"get_shape_amount",message0:"get platform with id %1 's shape amount",args0:[{type:"input_value",name:"platform_id",check:"Number"}],inputsInline:!0,output:"Number",colour:195,tooltip:"Returns the amount of shapes in the specified platform.",helpUrl:""},{type:"delete_platform",message0:"delete platform with id %1",args0:[{type:"input_value",name:"platform_id",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:195,tooltip:"Delete a platform. Be aware that this may lag the game if done too often.",helpUrl:""},{type:"delete_shape",message0:"delete platform with id %1 's shape # %2",args0:[{type:"input_value",name:"platform_id",check:"Number"},{type:"input_value",name:"shape_id",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:195,tooltip:"Delete a shape. Be aware that this may lag the game if done too often.",helpUrl:""},{type:"add_shape",message0:"add shape %1 to platform with id %2",args0:[{type:"input_value",name:"shape",check:"Shape"},{type:"input_value",name:"platform_id",check:"Number",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:195,tooltip:"Add a shape to a platform. Be aware that this may lag the game if done too often.",helpUrl:""},{type:"on_platform_collide",message0:"when any platform collides with  %1 %2 store info in variables %3 %4 %5 %6 %7 %8 %9 %10 %11 %12 %13",args0:[{type:"field_dropdown",name:"collide_type",options:[["a player","collide_player"],["an arrow","collide_arrow"],["another platform","collide_platform"]]},{type:"input_dummy"},{type:"field_checkbox",name:"return_info",checked:!1},{type:"field_variable",name:"self_platform_id",variable:"own platform id"},{type:"field_variable",name:"self_shape_id",variable:"own shape number"},{type:"field_variable",name:"player_id",variable:"hit player id"},{type:"field_variable",name:"arrow_id",variable:"hit arrow number"},{type:"field_variable",name:"platform_id",variable:"hit platform id"},{type:"field_variable",name:"shape_id",variable:"hit shape number"},{type:"field_variable",name:"normal_x",variable:"hit normal x"},{type:"field_variable",name:"normal_y",variable:"hit normal y"},{type:"input_dummy"},{type:"input_statement",name:"code"}],colour:20,tooltip:"Executes when any platform collides with a specified type of object.",helpUrl:""},{type:"get_platform_order",message0:"get list of platform ids on view order",output:"Array",colour:195,tooltip:"Returns a list of all platform ids on view order, front to back (as shown in the map editor).",helpUrl:""},{type:"on_player_die",message0:"on player die %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"code"}],colour:20,tooltip:"Executes right before the player dies.",helpUrl:""},{type:"get_player_name",message0:"get %1 %2 %3 username",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"}],inputsInline:!0,output:"String",colour:160,tooltip:"Returns the player's name.",helpUrl:""},{type:"clone_platform",lastDummyAlign0:"RIGHT",message0:"clone platform with id %1 return id %2",args0:[{type:"input_value",name:"platform_id",check:"Number"},{type:"field_checkbox",name:"return_id",checked:!0}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:195,tooltip:"Clone a platform. Be aware that this may lag the game if done too often.",helpUrl:""},{type:"get_platform_by_name",message0:"get platform with name %1 's id",args0:[{type:"input_value",name:"platform_name",check:"String"}],inputsInline:!0,output:"Number",colour:195,tooltip:"Get a platform\\'s id by its name. If there are multiple platforms with the same name, the oldest one will be chosen.",helpUrl:""},{type:"get_platform_name",message0:"get platform with id %1 's name",args0:[{type:"input_value",name:"platform_id",check:"Number"}],inputsInline:!0,output:"String",colour:195,tooltip:"Get a platform's name.",helpUrl:""},{type:"play_sound",message0:"play sound %1 %2 with volume (0.0 to 1.0) %3 panning type %4 %5 %6 %7",args0:[{type:"field_dropdown",name:"sound_name",options:[["player-platform collision","platBounce"],["player-player collision","discDisc"],["player death","discDeath"],["player offscreen","discOffScreen"],["capzone increase","capIncrease"],["capzone decrease","capDecrease"],["capzone full","capComplete"],["football kick","footKick"],["football bounce","footBounce"],["football goal","footGoal"],["football win swoosh","scoreAnimation"],["countdown beep","digiBeep"],["button hover","classicButtonHover"],["button press","classicButtonClick"],["back/cancel button press","classicButtonBack"]]},{type:"input_dummy"},{type:"input_value",name:"sound_volume",check:"Number",align:"RIGHT"},{type:"field_dropdown",name:"pan_type",options:[["constant","const"],["world position","world"]]},{type:"input_dummy",align:"RIGHT"},{type:"field_label_serializable",name:"sound_pan_name",text:"with panning (-1.0 to 1.0)"},{type:"input_value",name:"sound_pan",check:"Number",align:"RIGHT"}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:0,tooltip:"Plays a sound with a specified amount of volume and panning. Panning type 'constant' means the \"location\" of the sound is always the same, while panning type 'world position' means the \"position\" of the sound is affected by where in the world the camera is.",helpUrl:""},{type:"colour_hex",message0:"hex color code %1",args0:[{type:"input_value",name:"hex_code",check:"String"}],output:"Colour",colour:20,tooltip:"Creates a colour with the hex code.",helpUrl:""},{type:"player_on_team",message0:"%1 %2 %3 is on %4 team",args0:[{type:"field_dropdown",name:"player",options:[["your player","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"team",options:[["red","2"],["blue","3"],["green","4"],["yellow","5"]]}],inputsInline:!0,output:"Boolean",colour:230,tooltip:"Returns true if the player is on the specified team, if not, returns false.",helpUrl:""},{type:"set_camera_prop",message0:"set %1 %2 %3 camera's %4 to %5",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["everyone's","all"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"camera_prop",options:[["x position","xpos"],["y position","ypos"],["angle","angle"],["x scale","xscal"],["y scale","yscal"],["x skew","xskew"],["y skew","yskew"]]},{type:"input_value",name:"set_number",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:0,tooltip:"Set one of the camera's properties to a specified value. You can make it so that only one player's camera is modified.",helpUrl:""},{type:"change_camera_prop",message0:"change %1 %2 %3 camera's %4 by %5",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["everyone's","all"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"camera_prop",options:[["x position","xpos"],["y position","ypos"],["angle","angle"],["x scale","xscal"],["y scale","yscal"],["x skew","xskew"],["y skew","yskew"]]},{type:"input_value",name:"change_number",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:0,tooltip:"Change one of the camera's properties by a specified amount. You can make it so that only one player's camera is modified.",helpUrl:""},{type:"get_camera_prop",lastDummyAlign0:"RIGHT",message0:"get %1 %2 %3 camera's %4",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_dropdown",name:"camera_prop",options:[["x position","xpos"],["y position","ypos"],["angle","angle"],["x scale","xscal"],["y scale","yscal"],["x skew","xskew"],["y skew","yskew"]]}],inputsInline:!0,output:"Number",colour:0,tooltip:"Get one of the camera's properties of a specified player. Different players can have different camera properties.",helpUrl:""},{type:"change_camera_lerp",message0:"%1 camera interpolation for %2 %3 %4",args0:[{type:"field_dropdown",name:"enable",options:[["enable","true"],["disable","false"]]},{type:"field_dropdown",name:"player",options:[["everyone","all"],["yourself","self"],["player with id","id"]]},{type:"input_dummy"},{type:"input_value",name:"player_id",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:0,tooltip:"Enables or disables camera interpolation between physics steps. Enable this if you want a smoother look when moving around the camera, disable it if you want to make a hard transition from one place to another. This is enabled by default.",helpUrl:""},{type:"change_death_barrier",message0:"%1 death barrier",args0:[{type:"field_dropdown",name:"enable",options:[["enable","true"],["disable","false"]]}],previousStatement:null,nextStatement:null,colour:0,tooltip:"Enables or disables the vanilla death barrier that kills players when they touch the map's ground or go too far from the screen.",helpUrl:""},{type:"variables_retain_value",message0:"keep value of %1 on next round",args0:[{type:"field_variable",name:"VAR",variable:"item"}],previousStatement:null,nextStatement:null,colour:330,tooltip:"Mantain the value of this variable to the next round. Normally, variables get wiped up when a new round starts. When you execute this block, the variable is set to keep its value when moving on to the next round.",helpUrl:""},{type:"get_screen_prop",message0:"%1 of screen",args0:[{type:"field_dropdown",name:"screen_prop",options:[["width","width"],["height","height"]]}],output:"Number",colour:160,tooltip:"Get width or height of screen (in gmmaker units, not in pixels).",helpUrl:""},{type:"variables_get",message0:"%1 %2 %3 %4",args0:[{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy",name:"drop_container"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],inputsInline:!0,output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"set %1 %2 %3 %4 %5 to %6 %7",args0:[{type:"input_dummy"},{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy",name:"drop_container"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_variable",name:"VAR",variable:"item"},{type:"input_dummy"},{type:"input_value",name:"VALUE"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]},{type:"math_change",message0:"change %1 %2 %3 %4 %5 by %6 %7",args0:[{type:"input_dummy"},{type:"field_dropdown",name:"player",options:[["your","self"],["player with id","id"]]},{type:"input_dummy",name:"drop_container"},{type:"input_value",name:"player_id",check:"Number"},{type:"field_variable",name:"VAR",variable:"item"},{type:"input_dummy"},{type:"input_value",name:"DELTA",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]}]},557:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var blockly__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(948),blockly__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(blockly__WEBPACK_IMPORTED_MODULE_0__);function __WEBPACK_DEFAULT_EXPORT__(){blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.draw_line=function(block){const x1=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"line_x1",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),y1=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"line_y1",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),x2=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"line_x2",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),y2=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"line_y2",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),width=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"line_width",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),color=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"line_color",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);let alpha=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"line_alpha",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);""===alpha&&(alpha="100");return`gm.blockly.funcs.createLine(playerid,${x1},${y1},${x2},${y2},${color},${alpha},${width},${"TRUE"===block.getFieldValue("line_anchored")},${"TRUE"===block.getFieldValue("line_onlyplayer")},${"TRUE"===block.getFieldValue("line_nocameramove")});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.draw_rect=function(block){const x1=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"rect_x1",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),y1=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"rect_y1",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),x2=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"rect_x2",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),y2=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"rect_y2",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),angle=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"rect_angle",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||"0",color=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"rect_color",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);let alpha=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"rect_alpha",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);""===alpha&&(alpha="100");return`gm.blockly.funcs.createRect(playerid,${x1},${y1},${x2},${y2},${angle},${color},${alpha},${"TRUE"===block.getFieldValue("rect_anchored")},${"TRUE"===block.getFieldValue("rect_onlyplayer")},${"TRUE"===block.getFieldValue("rect_nocameramove")});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.draw_circle=function(block){const x=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"circ_x",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),y=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"circ_y",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),radius=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"circ_radius",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),color=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"circ_color",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);let alpha=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"circ_alpha",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);""===alpha&&(alpha="100");return`gm.blockly.funcs.createCircle(playerid,${x},${y},${radius},${color},${alpha},${"TRUE"===block.getFieldValue("circ_anchored")},${"TRUE"===block.getFieldValue("circ_onlyplayer")},${"TRUE"===block.getFieldValue("circ_nocameramove")});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.draw_poly=function(block){const vertex=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"poly_vertex",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),color=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"poly_color",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);let alpha=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"poly_alpha",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);""===alpha&&(alpha="100");return`gm.blockly.funcs.createPoly(playerid,${vertex},${color},${alpha},${"TRUE"===block.getFieldValue("poly_anchored")},${"TRUE"===block.getFieldValue("poly_onlyplayer")},${"TRUE"===block.getFieldValue("poly_nocameramove")});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.draw_text=function(block){var string=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"text_string",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),x=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"text_x",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),y=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"text_y",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),size=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"text_size",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),color=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"text_color",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),alpha=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"text_alpha",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);""===alpha&&(alpha="100");return`gm.blockly.funcs.createText(playerid,${x},${y},${color},${alpha},${string},${size},${"TRUE"===block.getFieldValue("text_centered")},${"TRUE"===block.getFieldValue("text_anchored")},${"TRUE"===block.getFieldValue("text_onlyplayer")},${"TRUE"===block.getFieldValue("text_nocameramove")});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.draw_clear=function(block){return"gm.blockly.funcs.clearGraphics(playerid);"},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_player_color=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return[`gm.blockly.funcs.getPlayerColor(gst, ${"self"===player?"playerid":player_id})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.set_player_prop=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null,player_prop=block.getFieldValue("player_prop");return`gm.blockly.funcs.setPlayerProperty(gst, ${"self"===player?"playerid":player_id}, "${player_prop}", ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"set_number",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}${"a"==player_prop?"*(Math.PI/180)":""});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.change_player_prop=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null,player_prop=block.getFieldValue("player_prop");return`gm.blockly.funcs.changePlayerProperty(gst, ${"self"===player?"playerid":player_id}, "${player_prop}", ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"change_number",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}${"a"==player_prop?"*(Math.PI/180)":""});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.set_last_arrow_prop=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null,arrow=block.getFieldValue("arrow"),arrow_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"arrow_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null,arrow_prop=block.getFieldValue("arrow_prop"),set_number=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"set_number",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);let code="";return code="all"===arrow?`gm.blockly.funcs.setAllArrowsProperty(gst, ${"self"===player?"playerid":player_id}, "${arrow_prop}", ${set_number}${"a"==arrow_prop?"*(Math.PI/180)":""});`:`gm.blockly.funcs.setArrowProperty(gst, ${"self"===player?"playerid":player_id}, ${"last"===arrow?"gm.blockly.funcs.getArrowAmount(gst, playerid)":arrow_id}, "${arrow_prop}", ${set_number}${"a"==arrow_prop?"*(Math.PI/180)":""});`,code},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.change_last_arrow_prop=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null,arrow=block.getFieldValue("arrow"),arrow_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"arrow_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null,arrow_prop=block.getFieldValue("arrow_prop"),change_number=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"change_number",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);let code="";return code="all"===arrow?`gm.blockly.funcs.changeAllArrowsProperty(gst, ${"self"===player?"playerid":player_id}, "${arrow_prop}", ${change_number}${"a"==arrow_prop?"*(Math.PI/180)":""});`:`gm.blockly.funcs.changeArrowProperty(gst, ${"self"===player?"playerid":player_id}, ${"last"===arrow?"gm.blockly.funcs.getArrowAmount(gst, playerid)":arrow_id}, "${arrow_prop}", ${change_number}${"a"==arrow_prop?"*(Math.PI/180)":""});`,code},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_player_prop=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null,player_prop=block.getFieldValue("property");return["size"===player_prop?"gm.blockly.funcs.getPlayerSize(playerid)":`gm.blockly.funcs.getPlayerProperty(gst, ${"self"===player?"playerid":player_id}, "${player_prop}")${"a"==player_prop?"*(180/Math.PI)":""}`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_last_arrow_prop=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null,arrow=block.getFieldValue("arrow"),arrow_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"arrow_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null,arrow_prop=block.getFieldValue("property");return[`gm.blockly.funcs.getArrowProperty(gst, ${"self"===player?"playerid":player_id}, ${"last"===arrow?"gm.blockly.funcs.getArrowAmount(gst, playerid)":arrow_id}, "${arrow_prop}")${"a"==arrow_prop?"*(180/Math.PI)":""}`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_arrow_amount=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return[`gm.blockly.funcs.getArrowAmount(gst, ${"self"===player?"playerid":player_id})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.create_arrow=function(block){const arrow_xpos=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"arrow_xpos",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),arrow_ypos=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"arrow_ypos",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),arrow_xvel=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"arrow_xvel",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),arrow_yvel=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"arrow_yvel",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),arrow_angle=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"arrow_angle",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),arrow_time=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"arrow_time",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);return`gm.blockly.funcs.createArrow(gst, playerid, ${arrow_xpos}, ${arrow_ypos}, ${arrow_xvel}, ${arrow_yvel}, ${arrow_angle}*(Math.PI/180), ${""!==arrow_time?arrow_time:150});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.delete_arrows=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null,arrow=block.getFieldValue("arrow"),arrow_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"arrow_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;let code="";return code="all"===arrow?`gm.blockly.funcs.deleteAllPlayerArrows(gst, ${"self"===player?"playerid":player_id});`:`gm.blockly.funcs.deletePlayerArrow(gst, ${"self"===player?"playerid":player_id}, ${"last"===arrow?"gm.blockly.funcs.getArrowAmount(gst, playerid)":arrow_id});`,code},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_own_id=function(block){return["self"===block.getFieldValue("player")?"playerid":"gm.lobby.networkEngine?.hostID ?? Infinity",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_player_id_list=function(block){return["gm.blockly.funcs.getAllPlayerIds(gst)",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_player_name=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return[`gm.graphics.rendererClass.playerArray[${"self"===player?"playerid":player_id}]?.userName ?? ""`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.change_death_barrier=function(block){return`gm.blockly.funcs.enableDeathBarrier(gst, ${block.getFieldValue("enable")});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.set_camera_prop=function(block){const camera_prop=block.getFieldValue("camera_prop"),set_number=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"set_number",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return`gm.blockly.funcs.setCameraProperty(gst, ${"all"!==player?"self"===player?"playerid":player_id:"null"}, "${camera_prop}", ${set_number});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.change_camera_prop=function(block){const camera_prop=block.getFieldValue("camera_prop"),change_number=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"change_number",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return`gm.blockly.funcs.changeCameraProperty(gst, ${"all"!==player?"self"===player?"playerid":player_id:"null"}, "${camera_prop}", ${change_number});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_camera_prop=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return[`gm.blockly.funcs.getCameraProperty(gst, ${"self"===player?"playerid":player_id}, "${block.getFieldValue("camera_prop")}")`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.change_camera_lerp=function(block){const enable=block.getFieldValue("enable"),player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);return`gm.blockly.funcs.enableCameraLerp(gst, ${enable}, ${"all"!==player?"self"===player?"playerid":player_id:"null"});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.raycast=function(block){return[`gm.blockly.funcs.rayCast(gst, playerid, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"a_x",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"a_y",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"b_x",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"b_y",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${"TRUE"==block.getFieldValue("collide_a")}, ${"TRUE"==block.getFieldValue("collide_b")}, ${"TRUE"==block.getFieldValue("collide_c")}, ${"TRUE"==block.getFieldValue("collide_d")}, ${"TRUE"==block.getFieldValue("collide_player")}, "${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("point_x"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME)}", "${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("point_y"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME)}", "${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("normal_x"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME)}", "${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("normal_y"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME)}", "${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("object_type"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME)}", "${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("object_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME)}")`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_map_size=function(block){return["gm.physics.gameState.physics.ppm",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.player_die=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return`gm.blockly.funcs.killPlayer(gst, ${"self"===player?"playerid":player_id}, ${"true"===block.getFieldValue("allow_respawn")});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.player_on_team=function(block){var player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);return[`gst.discs[${"self"===player?"playerid":player_id}]?.team == ${block.getFieldValue("team")}`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.input_override=function(block){var player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return`gm.blockly.funcs.overrideInput(gst, ${"self"===player?"playerid":player_id}, '${block.getFieldValue("key")}', ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"override_value",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.stop_input_override=function(block){var player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return`gm.blockly.funcs.overrideInput(gst, ${"self"===player?"playerid":player_id}, '${block.getFieldValue("key")}', null);`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.on_round_start=function(block){return`gm.physics.onFirstStep = function(playerid){let gst = gm.physics.gameState;let loopIterations = 0;${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.statementToCode(block,"code")}gm.physics.setGameState(gst);}`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.on_player_die=function(block){return`gm.physics.onPlayerDie = function(playerid){let gst = gm.physics.gameState;let loopIterations = 0;${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.statementToCode(block,"code")}gm.physics.setGameState(gst);}`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.on_each_phys_frame=function(block){return`gm.physics.onStep = function(playerid){let gst = gm.physics.gameState;let loopIterations = 0;${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.statementToCode(block,"code")}gm.physics.setGameState(gst);}`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.on_each_render_frame=function(block){return`gm.graphics.onRender = function(playerid){let gst = gm.physics.gameState;let loopIterations = 0;${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.statementToCode(block,"code")}gm.physics.setGameState(gst);}`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.on_player_collide=function(block){const collide_type=block.getFieldValue("collide_type"),return_info="TRUE"===block.getFieldValue("return_info"),hit_player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("player_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_arrow_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("arrow_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("platform_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_shape_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("shape_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_normal_x=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("normal_x"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_normal_y=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("normal_y"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),inside_code=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.statementToCode(block,"code");let code="",setCode="";switch(collide_type){case"collide_player":setCode+=`gm.blockly.funcs.setVar("${hit_player_id}", gst, playerid, colid);`,code=`gm.physics.onPlayerPlayerCollision = function(playerid, colid){let gst = gm.physics.gameState;let loopIterations = 0;${return_info?setCode:""}${inside_code}gm.physics.setGameState(gst);}`;break;case"collide_arrow":setCode+=`gm.blockly.funcs.setVar("${hit_player_id}", gst, playerid, colid);gm.blockly.funcs.setVar("${hit_arrow_id}", gst, playerid, colarrowid);`,code=`gm.physics.onPlayerArrowCollision = function(playerid, colid, colarrowid){let gst = gm.physics.gameState;let loopIterations = 0;${return_info?setCode:""}${inside_code}gm.physics.setGameState(gst);}`;break;case"collide_platform":setCode+=`gm.blockly.funcs.setVar("${hit_platform_id}", gst, playerid, colid);gm.blockly.funcs.setVar("${hit_shape_id}", gst, playerid, colshapeid);gm.blockly.funcs.setVar("${hit_normal_x}", gst, playerid, normal.x);gm.blockly.funcs.setVar("${hit_normal_y}", gst, playerid, normal.y);`,code=`gm.physics.onPlayerPlatformCollision = function(playerid, colid, colshapeid, normal){let gst = gm.physics.gameState;let loopIterations = 0;${return_info?setCode:""}${inside_code}gm.physics.setGameState(gst);}`}return code},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.pressing_key=function(block){const player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return[`(gm.inputs.allPlayerInputs[${"self"===player?"playerid":player_id}] && gm.inputs.allPlayerInputs[${"self"===player?"playerid":player_id}]["${block.getFieldValue("key")}"])`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.on_arrow_collide=function(block){const collide_type=block.getFieldValue("collide_type"),return_info="TRUE"===block.getFieldValue("return_info"),self_arrow_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("self_arrow_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("player_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_arrow_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("arrow_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("platform_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_shape_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("shape_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_normal_x=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("normal_x"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_normal_y=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("normal_y"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),inside_code=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.statementToCode(block,"code");let code="",setCode=`gm.blockly.funcs.setVar("${self_arrow_id}", gst, playerid, arrowid);`;switch(collide_type){case"collide_player":setCode+=`gm.blockly.funcs.setVar("${hit_player_id}", gst, playerid, colid);`,code=`gm.physics.onArrowPlayerCollision = function(playerid, arrowid, colid){let gst = gm.physics.gameState;let loopIterations = 0;${return_info?setCode:""}${inside_code}gm.physics.setGameState(gst);}`;break;case"collide_arrow":setCode+=`gm.blockly.funcs.setVar("${hit_player_id}", gst, playerid, colid);gm.blockly.funcs.setVar("${hit_arrow_id}", gst, playerid, colarrowid);`,code=`gm.physics.onArrowArrowCollision = function(playerid, arrowid, colid, colarrowid){let gst = gm.physics.gameState;let loopIterations = 0;${return_info?setCode:""}${inside_code}gm.physics.setGameState(gst);}`;break;case"collide_platform":setCode+=`gm.blockly.funcs.setVar("${hit_platform_id}", gst, playerid, colid);gm.blockly.funcs.setVar("${hit_shape_id}", gst, playerid, colshapeid);gm.blockly.funcs.setVar("${hit_normal_x}", gst, playerid, normal.x);gm.blockly.funcs.setVar("${hit_normal_y}", gst, playerid, normal.y);`,code=`gm.physics.onArrowPlatformCollision = function(playerid, arrowid, colid, colshapeid, normal){let gst = gm.physics.gameState;let loopIterations = 0;${return_info?setCode:""}${inside_code}gm.physics.setGameState(gst);}`}return code},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.on_platform_collide=function(block){const collide_type=block.getFieldValue("collide_type"),return_info="TRUE"===block.getFieldValue("return_info"),self_platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("self_platform_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),self_shape_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("self_shape_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("player_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_arrow_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("arrow_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("platform_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_shape_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("shape_id"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_normal_x=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("normal_x"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),hit_normal_y=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("normal_y"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),inside_code=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.statementToCode(block,"code");let code="",setCode=`gm.blockly.funcs.setVar("${self_platform_id}", gst, playerid, platid);gm.blockly.funcs.setVar("${self_shape_id}", gst, playerid, shapeid);`;switch(collide_type){case"collide_player":setCode+=`gm.blockly.funcs.setVar("${hit_player_id}", gst, playerid, colid);`,code=`gm.physics.onPlatformPlayerCollision = function(playerid, platid, shapeid, colid){let gst = gm.physics.gameState;let loopIterations = 0;${return_info?setCode:""}${inside_code}gm.physics.setGameState(gst);}`;break;case"collide_arrow":setCode+=`gm.blockly.funcs.setVar("${hit_player_id}", gst, playerid, colid);gm.blockly.funcs.setVar("${hit_arrow_id}", gst, playerid, colarrowid);`,code=`gm.physics.onPlatformArrowCollision = function(playerid, platid, shapeid, colid, colarrowid){let gst = gm.physics.gameState;let loopIterations = 0;${return_info?setCode:""}${inside_code}gm.physics.setGameState(gst);}`;break;case"collide_platform":setCode+=`gm.blockly.funcs.setVar("${hit_platform_id}", gst, playerid, colid);gm.blockly.funcs.setVar("${hit_shape_id}", gst, playerid, colshapeid);gm.blockly.funcs.setVar("${hit_normal_x}", gst, playerid, normal.x);gm.blockly.funcs.setVar("${hit_normal_y}", gst, playerid, normal.y);`,code=`gm.physics.onPlatformPlatformCollision = function(playerid, platid, shapeid, colid, colshapeid, normal){let gst = gm.physics.gameState;let loopIterations = 0;${return_info?setCode:""}${inside_code}gm.physics.setGameState(gst);}`}return code},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.rectangle_shape=function(block){return[`gm.blockly.funcs.createRectShape(${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"color",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"xpos",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"ypos",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"width",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"height",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"angle",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}*(Math.PI/180), ${"TRUE"===block.getFieldValue("nophys")}, ${"TRUE"===block.getFieldValue("nograp")}, ${"TRUE"===block.getFieldValue("ingrap")}, ${"TRUE"===block.getFieldValue("death")})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.circle_shape=function(block){return[`gm.blockly.funcs.createCircleShape(${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"color",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"xpos",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"ypos",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"radius",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${"TRUE"===block.getFieldValue("nophys")}, ${"TRUE"===block.getFieldValue("nograp")}, ${"TRUE"===block.getFieldValue("ingrap")}, ${"TRUE"===block.getFieldValue("death")})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.polygon_shape=function(block){return[`gm.blockly.funcs.createPolyShape(${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"color",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"xpos",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"ypos",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"vertex",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"angle",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}*(Math.PI/180), ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"scale",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${"TRUE"===block.getFieldValue("nophys")}, ${"TRUE"===block.getFieldValue("nograp")}, ${"TRUE"===block.getFieldValue("ingrap")}, ${"TRUE"===block.getFieldValue("death")})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.create_platform=function(block){var type=block.getFieldValue("type"),shape_list=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"shape_list",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||"[]",xpos=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"xpos",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),ypos=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"ypos",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),angle=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"angle",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),bounciness=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"bounciness",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),density=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"density",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),friction=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"friction",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),fricp=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"fricp",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),colgroup=block.getFieldValue("colgroup"),colplayers="TRUE"===block.getFieldValue("colplayers"),cola="TRUE"===block.getFieldValue("cola"),colb="TRUE"===block.getFieldValue("colb"),colc="TRUE"===block.getFieldValue("colc"),cold="TRUE"===block.getFieldValue("cold");return"TRUE"===block.getFieldValue("return_id")?[`gm.blockly.funcs.createPlatform(gst, '${type}', ${xpos}, ${ypos}, ${angle}*(Math.PI/180), ${shape_list}, ${bounciness}, ${density}, ${friction}, ${fricp}, ${colgroup}, ${colplayers}, ${cola}, ${colb}, ${colc}, ${cold})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]:`gm.blockly.funcs.createPlatform(gst, '${type}', ${xpos}, ${ypos}, ${angle}*(Math.PI/180), ${shape_list}, ${bounciness}, ${density}, ${friction}, ${fricp}, ${colgroup}, ${colplayers}, ${cola}, ${colb}, ${colc}, ${cold});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.clone_platform=function(block){var platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);return"TRUE"===block.getFieldValue("return_id")?[`gm.blockly.funcs.clonePlatform(gst, ${platform_id})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]:`gm.blockly.funcs.clonePlatform(gst, ${platform_id});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.set_platform_prop=function(block){var platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),platform_prop=block.getFieldValue("platform_prop");return`gm.blockly.funcs.setPlatformProperty(gst, ${platform_id}, '${platform_prop}', ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"set_value",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}${"a"==platform_prop?"*(Math.PI/180)":""});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.change_platform_prop=function(block){var platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),platform_prop=block.getFieldValue("platform_prop");return`gm.blockly.funcs.changePlatformProperty(gst, ${platform_id}, '${platform_prop}', ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"change_value",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}${"a"==platform_prop?"*(Math.PI/180)":""});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_platform_prop=function(block){var platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),platform_prop=block.getFieldValue("platform_prop");return[`gm.blockly.funcs.getPlatformProperty(gst, ${platform_id}, '${platform_prop}')${"a"==platform_prop?"*(180/Math.PI)":""}`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.set_shape_prop=function(block){var platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),shape_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"shape_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),shape_prop=block.getFieldValue("shape_prop");return`gm.blockly.funcs.setShapeProperty(gst, ${platform_id}, ${shape_id}, '${shape_prop}', ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"set_value",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}${"s_a"==shape_prop?"*(Math.PI/180)":""});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.change_shape_prop=function(block){var platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),shape_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"shape_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),shape_prop=block.getFieldValue("shape_prop");return`gm.blockly.funcs.changeShapeProperty(gst, ${platform_id}, ${shape_id}, '${shape_prop}', ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"change_value",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}${"s_a"==shape_prop?"*(Math.PI/180)":""});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_shape_prop=function(block){var platform_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),shape_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"shape_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),shape_prop=block.getFieldValue("shape_prop");return[`gm.blockly.funcs.getShapeProperty(gst, ${platform_id}, ${shape_id}, '${shape_prop}')${"s_a"==shape_prop?"*(180/Math.PI)":""}`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_shape_amount=function(block){return[`gm.blockly.funcs.getShapeAmount(gst, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_platform_order=function(block){return["gst.physics.bro",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_platform_by_name=function(block){return[`gm.blockly.funcs.getPlatformByName(${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_name",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_platform_name=function(block){return[`gm.blockly.funcs.getPlatformName(${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.delete_platform=function(block){return`gm.blockly.funcs.deletePlatform(gst, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.delete_shape=function(block){return`gm.blockly.funcs.deleteShape(gst, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"shape_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.add_shape=function(block){return`gm.blockly.funcs.addShape(gst, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"platform_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"shape",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.unit_to_pixel=function(block){return[`${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"unit_value",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.pixel_to_unit=function(block){return[`${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"unit_value",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.deg_to_rad=function(block){return[`${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"degree_value",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}*(Math.PI/180)`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.rad_to_deg=function(block){return[`${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"radian_value",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}*(180/Math.PI)`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.math_atan2=function(block){return[`SafeTrig.safeATan2(${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"x",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"y",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)})*(180/Math.PI)`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.math_distance=function(block){return[`gm.blockly.funcs.getDistance(${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"a_x",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"a_y",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"b_x",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)}, ${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"b_y",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.play_sound=function(block){var sound_name=block.getFieldValue("sound_name"),sound_volume=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"sound_volume",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC),sound_pan=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"sound_pan",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC);return`gm.blockly.funcs.playSound(gst, "${block.getFieldValue("pan_type")}", "${sound_name}", ${sound_volume}, ${sound_pan});`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.colour_hex=function(block){return[`gm.blockly.funcs.parseColour(${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"hex_code",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)})`,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.variables_retain_value=function(block){return`gm.blockly.funcs.keepVar("${blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("VAR"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME)}", gst);`},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.get_screen_prop=function(block){return[("width"==block.getFieldValue("screen_prop")?"730":"500")+" / gst.physics.ppm",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE]},blockly__WEBPACK_IMPORTED_MODULE_0___default().WorkspaceSvg.prototype.translate=function(x,y){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(x,y);else{const translation="translate("+x+","+y+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",translation),this.svgBubbleCanvas_.setAttribute("transform",translation)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(x,y,this.scale),this.grid_&&this.grid_.moveTo(x,y)},blockly__WEBPACK_IMPORTED_MODULE_0___default().WorkspaceSvg.prototype.setCachedParentSvgSize=function(width,height){const svg=this.getParentSvg();null!=width&&(this.cachedParentSvgSize_.width=width,svg.cachedWidth_=width),null!=height&&(this.cachedParentSvgSize_.height=height,svg.cachedHeight_=height)},blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.nameUsedWithOtherType=function(name,type,workspace){const allVariables=workspace.getVariableMap().getAllVariables();name=name.toLowerCase();for(let variable,i=0;variable=allVariables[i];i++)if(variable.name.toLowerCase()===name&&variable.type!==type)return variable;return null},blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.renameVariable=function(workspace,variable,opt_callback){const promptAndCheckWithAlert=function(defaultName){const promptText=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.RENAME_VARIABLE_TITLE.replace("%1",variable.name);blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.promptName(promptText,defaultName,(function(newName){if(newName){const existing=blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.nameUsedWithOtherType(newName,variable.type,workspace);if(existing){const msg=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",existing.name).replace("%2",existing.type);blockly__WEBPACK_IMPORTED_MODULE_0___default().dialog.alert(msg,(function(){promptAndCheckWithAlert(newName)}))}else workspace.renameVariableById(variable.getId(),newName),opt_callback&&opt_callback(newName)}else opt_callback&&opt_callback(null)}))};promptAndCheckWithAlert(variable.name)};const CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(options){if(this.isInFlyout){if("variables_get"===this.type||"variables_get_reporter"===this.type){const renameOption={text:blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.RENAME_VARIABLE,enabled:!0,callback:renameOptionCallbackFactory(this)},name=this.getField("VAR").getText(),deleteOption={text:blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.DELETE_VARIABLE.replace("%1",name),enabled:!0,callback:deleteOptionCallbackFactory(this)};options.unshift(renameOption),options.unshift(deleteOption)}}else{let oppositeType,contextMenuMsg;"variables_get"===this.type?(oppositeType="variables_set",contextMenuMsg=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.VARIABLES_GET_CREATE_SET):(oppositeType="variables_get",contextMenuMsg=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.VARIABLES_SET_CREATE_GET);const option={enabled:this.workspace.remainingCapacity()>0},name=this.getField("VAR").getText();option.text=contextMenuMsg.replace("%1",name);const xmlField=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("field");xmlField.setAttribute("name","VAR"),xmlField.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createTextNode(name));const xmlBlock=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("block");xmlBlock.setAttribute("type",oppositeType),xmlBlock.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom('<mutation playerid_input="false" show_dropdown="'+!name.startsWith("GLOBAL_")+'"></mutation>')),xmlBlock.appendChild(xmlField),option.callback=blockly__WEBPACK_IMPORTED_MODULE_0___default().ContextMenu.callbackFactory(this,xmlBlock),options.push(option)}}},renameOptionCallbackFactory=function(block){return function(){const workspace=block.workspace,variable=block.getField("VAR").getVariable();blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.renameVariable(workspace,variable)}},deleteOptionCallbackFactory=function(block){return function(){const workspace=block.workspace,variable=block.getField("VAR").getVariable();workspace.deleteVariableById(variable.getId()),workspace.refreshToolboxSelection()}};blockly__WEBPACK_IMPORTED_MODULE_0___default().Extensions.unregister("contextMenu_variableSetterGetter"),blockly__WEBPACK_IMPORTED_MODULE_0___default().Extensions.registerMixin("contextMenu_variableSetterGetter",CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.flyoutCategory=function(workspace){let xmlList=[];const button=document.createElement("button");button.setAttribute("text","%{BKY_NEW_VARIABLE}"),button.setAttribute("callbackKey","CREATE_VARIABLE"),workspace.registerButtonCallback("CREATE_VARIABLE",(function(button){blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.createVariableButtonHandler(button.getTargetWorkspace())})),xmlList.push(button);const helpLabel1=document.createElement("label");helpLabel1.setAttribute("text","You can make a variable global");const labelGap=document.createElement("sep");labelGap.setAttribute("gap","4");const helpLabel2=document.createElement("label");helpLabel2.setAttribute("text",'by adding "GLOBAL_" before its name.'),xmlList.push(helpLabel1),xmlList.push(labelGap),xmlList.push(helpLabel2);const blockList=blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.flyoutCategoryBlocks(workspace);return xmlList=xmlList.concat(blockList),xmlList},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.math_change=function(block){const argument0=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"DELTA",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ADDITION)||"0",varName=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("VAR"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return'gm.blockly.funcs.changeVar("'+varName+'", gst, '+("self"===player?"playerid":player_id)+", "+argument0+");"},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.variables_set=function(block){const argument0=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"VALUE",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ASSIGNMENT)||"0",varName=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("VAR"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return'gm.blockly.funcs.setVar("'+varName+'", gst, '+("self"===player?"playerid":player_id)+", "+argument0+");"},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.variables_get=function(block){const varName=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("VAR"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),player=block.getFieldValue("player"),player_id=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"player_id",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC)||null;return['gm.blockly.funcs.getVar("'+varName+'", gst, '+("self"===player?"playerid":player_id)+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC]},blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.flyoutCategoryBlocks=function(workspace){const variableModelList=workspace.getVariablesOfType(""),eventVariableList=[],eventBlockNames=["on_player_collide","on_arrow_collide","on_platform_collide","raycast"];for(const blockName of eventBlockNames)for(const block of workspace.getBlocksByType(blockName))for(const varModel of block.getVarModels())eventVariableList.includes(varModel)||eventVariableList.push(varModel);const xmlList=[];if(variableModelList.length>0){let mostRecentVariable=null;for(let i=variableModelList.length-1;i>=0;i--)if(!eventVariableList.includes(variableModelList[i])){mostRecentVariable=variableModelList[i];break}if(mostRecentVariable){const setBlock=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("block");setBlock.setAttribute("type","variables_set"),setBlock.setAttribute("gap",blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.math_change?8:24),setBlock.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.generateVariableFieldDom(mostRecentVariable)),setBlock.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom('<mutation playerid_input="false" show_dropdown="'+!blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.generateVariableFieldDom(mostRecentVariable).innerHTML.startsWith("GLOBAL_")+'"></mutation>')),xmlList.push(setBlock);const changeBlock=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("block");changeBlock.setAttribute("type","math_change"),changeBlock.setAttribute("gap",blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.variables_get?20:8),changeBlock.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.generateVariableFieldDom(mostRecentVariable)),changeBlock.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom('<mutation playerid_input="false" show_dropdown="'+!blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.generateVariableFieldDom(mostRecentVariable).innerHTML.startsWith("GLOBAL_")+'"></mutation>')),changeBlock.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>')),xmlList.push(changeBlock);const retainBlock=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("block");retainBlock.setAttribute("type","variables_retain_value"),retainBlock.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.generateVariableFieldDom(mostRecentVariable)),xmlList.push(retainBlock)}if(blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.variables_get){variableModelList.sort(blockly__WEBPACK_IMPORTED_MODULE_0___default().VariableModel.compareByName),eventVariableList.sort(blockly__WEBPACK_IMPORTED_MODULE_0___default().VariableModel.compareByName);for(let variable,i=0;variable=variableModelList[i];i++){if(eventVariableList.includes(variable))continue;const block=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("block");block.setAttribute("type","variables_get"),block.setAttribute("gap",8),block.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.generateVariableFieldDom(variable)),block.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom('<mutation playerid_input="false" show_dropdown="'+!blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.generateVariableFieldDom(variable).innerHTML.startsWith("GLOBAL_")+'"></mutation>')),xmlList.push(block)}if(eventVariableList.length>0){const eventsSep=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("label");eventsSep.setAttribute("gap",8),xmlList.push(eventsSep);const eventsLabel=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("label");eventsLabel.setAttribute("text","Variables used by events:"),xmlList.push(eventsLabel)}for(let variable,i=0;variable=eventVariableList[i];i++){const block=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("block");block.setAttribute("type","variables_get"),block.setAttribute("gap",8),block.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.generateVariableFieldDom(variable)),block.appendChild(blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.textToDom('<mutation playerid_input="false" show_dropdown="'+!blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.generateVariableFieldDom(variable).innerHTML.startsWith("GLOBAL_")+'"></mutation>')),xmlList.push(block)}}}return xmlList},blockly__WEBPACK_IMPORTED_MODULE_0___default().FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const name=this.getText();let variableModelList=[];if(this.sourceBlock_&&this.sourceBlock_.workspace){const variableTypes=this.getVariableTypes_();for(let i=0;i<variableTypes.length;i++){const variableType=variableTypes[i],variables=this.sourceBlock_.workspace.getVariablesOfType(variableType);variableModelList=variableModelList.concat(variables)}}variableModelList.sort(blockly__WEBPACK_IMPORTED_MODULE_0___default().VariableModel.compareByName);const eventVariableList=[],eventBlockNames=["on_player_collide","on_arrow_collide","on_platform_collide","raycast"];for(const blockName of eventBlockNames)for(const block of this.sourceBlock_.workspace.getBlocksByType(blockName))for(const varModel of block.getVarModels())eventVariableList.includes(varModel)||eventVariableList.push(varModel);const options=[];for(let i=0;i<variableModelList.length;i++)(!eventVariableList.includes(variableModelList[i])||eventBlockNames.includes(this.sourceBlock_.type)||eventVariableList.includes(this.variable_))&&options.push([variableModelList[i].name,variableModelList[i].getId()]);return options.push([blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.RENAME_VARIABLE,"RENAME_VARIABLE_ID"]),blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.DELETE_VARIABLE&&options.push([blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.DELETE_VARIABLE.replace("%1",name),"DELETE_VARIABLE_ID"]),options},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.lists_repeat=function(block){return[blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.provideFunction_("listsRepeat",["function "+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = JSON.parse(JSON.stringify(value));","  }","  return array;","}"])+"("+(blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"ITEM",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE)||"null")+", "+(blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"NUM",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE)||"0")+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.procedures_defreturn=function(block){const funcName=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("NAME"),blockly__WEBPACK_IMPORTED_MODULE_0___default().PROCEDURE_CATEGORY_NAME);let xfix1="";blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.STATEMENT_PREFIX&&(xfix1+=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.injectId(blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.STATEMENT_PREFIX,block)),blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.STATEMENT_SUFFIX&&(xfix1+=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.injectId(blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.STATEMENT_SUFFIX,block)),xfix1&&(xfix1=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.prefixLines(xfix1,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.INDENT));let loopTrap="";blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.INFINITE_LOOP_TRAP&&(loopTrap=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.prefixLines(blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.injectId(blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.INFINITE_LOOP_TRAP,block),blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.INDENT));const branch=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.statementToCode(block,"STACK");let returnValue=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"RETURN",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE)||"",xfix2="";branch&&returnValue&&(xfix2=xfix1),returnValue&&(returnValue=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.INDENT+"return "+returnValue+";");const args=[];let setCode="";const variables=block.getVars();for(let i=0;i<variables.length;i++)args[i]=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(variables[i],blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),setCode+=`gm.blockly.funcs.setVar('${args[i]}', gst, playerid, ${args[i]});`;let code="function "+funcName+"(gst, playerid, "+args.join(", ")+") {let loopIterations = 0;"+setCode+xfix1+branch+xfix2+returnValue+"}";return code=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.scrub_(block,code),blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.definitions_["%"+funcName]=code,null},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.procedures_defnoreturn=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.procedures_defreturn,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.procedures_callreturn=function(block){const funcName=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("NAME"),blockly__WEBPACK_IMPORTED_MODULE_0___default().PROCEDURE_CATEGORY_NAME),args=[],variables=block.getVars();for(let i=0;i<variables.length;i++)args[i]=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"ARG"+i,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE)||"null";return[funcName+"(gst, playerid, "+args.join(", ")+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.math_random_int=function(block){const argument0=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"FROM",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE)||"0",argument1=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"TO",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE)||"0";return[blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.provideFunction_("mathRandomInt",["function "+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(gm.physics.pseudoRandom() * (b - a + 1) + a);","}"])+"("+argument0+", "+argument1+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.math_random_float=function(block){return["gm.physics.pseudoRandom()",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.colour_random=function(block){return[blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.provideFunction_("colourRandom",["function "+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(gm.physics.pseudoRandom() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]};blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.text_append=function(block){const code='gm.blockly.funcs.changeVar("'+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("VAR"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME)+'", gst, playerid, '+function(value){return/^\s*'([^']|\\')*'\s*$/.test(value)?[value,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ATOMIC]:["String("+value+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]}(blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"TEXT",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE)||"''")[0]+");\n";return code},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.text_charAt=function(block){const where=block.getFieldValue("WHERE")||"FROM_START",textOrder="RANDOM"===where?blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE:blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER,text=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"VALUE",textOrder)||"''";switch(where){case"FIRST":return[text+".charAt(0)",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[text+".slice(-1)",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[text+".charAt("+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT")+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[text+".slice("+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT",1,!0)+").charAt(0)",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.provideFunction_("textRandomLetter",["function "+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(gm.physics.pseudoRandom() * text.length);","  return text[x];","}"])+"("+text+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.lists_setIndex.init=function(){const MODE=[[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_SET,"SET"],[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_LAST,"LAST"],[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new(blockly__WEBPACK_IMPORTED_MODULE_0___default().FieldDropdown)(MODE),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setOutput(!0),this.setTooltip(blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);const thisBlock=this;this.setTooltip((function(){const mode=thisBlock.getFieldValue("MODE"),where=thisBlock.getFieldValue("WHERE");let tooltip="";switch(mode+" "+where){case"SET FROM_START":case"SET FROM_END":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!=where&&"FROM_END"!=where||(tooltip+="  "+blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",thisBlock.workspace.options.oneBasedIndex?"#1":"#0")),tooltip}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.lists_getIndex.init=function(){const MODE=[[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_GET,"GET"],[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_LAST,"LAST"],[blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks");const modeMenu=new(blockly__WEBPACK_IMPORTED_MODULE_0___default().FieldDropdown)(MODE,(function(value){this.getSourceBlock().updateStatement_(!1)}));this.appendValueInput("VALUE").setCheck("Array").appendField(blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(modeMenu,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);const thisBlock=this;this.setTooltip((function(){const mode=thisBlock.getFieldValue("MODE"),where=thisBlock.getFieldValue("WHERE");let tooltip="";switch(mode+" "+where){case"GET FROM_START":case"GET FROM_END":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":tooltip=blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==where||"FROM_END"==where){tooltip+="  "+("FROM_START"==where?blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_INDEX_FROM_START_TOOLTIP:blockly__WEBPACK_IMPORTED_MODULE_0___default().Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",thisBlock.workspace.options.oneBasedIndex?"#1":"#0")}return tooltip}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.controls_for=function(block){const variable0=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("VAR"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),argument0=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"FROM",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ASSIGNMENT)||"0",argument1=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"TO",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ASSIGNMENT)||"0",increment=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"BY",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ASSIGNMENT)||"1";let code,branch=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.statementToCode(block,"DO");if(branch=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.addLoopTrap(branch,block),blockly__WEBPACK_IMPORTED_MODULE_0___default().isNumber(argument0)&&blockly__WEBPACK_IMPORTED_MODULE_0___default().isNumber(argument1)&&blockly__WEBPACK_IMPORTED_MODULE_0___default().isNumber(increment)){const up=Number(argument0)<=Number(argument1);code="for (let "+variable0+" = "+argument0+"; "+variable0+(up?" <= ":" >= ")+argument1+"; "+variable0;const step=Math.abs(Number(increment));code+=1===step?up?"++":"--":(up?" += ":" -= ")+step,code+=`) {gm.blockly.funcs.setVar("${variable0}", gst, playerid, ${variable0});`+branch+"}\n"}else{code="";let startVar=argument0;argument0.match(/^\w+$/)||blockly__WEBPACK_IMPORTED_MODULE_0___default().isNumber(argument0)||(startVar=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getDistinctName(variable0+"_start",blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),code+="let "+startVar+" = "+argument0+";\n");let endVar=argument1;argument1.match(/^\w+$/)||blockly__WEBPACK_IMPORTED_MODULE_0___default().isNumber(argument1)||(endVar=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getDistinctName(variable0+"_end",blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),code+="let "+endVar+" = "+argument1+";\n");const incVar=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getDistinctName(variable0+"_inc",blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME);code+="let "+incVar+" = ",blockly__WEBPACK_IMPORTED_MODULE_0___default().isNumber(increment)?code+=Math.abs(increment)+";\n":code+="Math.abs("+increment+");\n",code+="if ("+startVar+" > "+endVar+") {\n",code+=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.INDENT+incVar+" = -"+incVar+";\n",code+="}\n",code+="for (let "+variable0+" = "+startVar+"; "+incVar+" >= 0 ? "+variable0+" <= "+endVar+" : "+variable0+" >= "+endVar+"; "+variable0+" += "+incVar+") {"+`gm.blockly.funcs.setVar("${variable0}", gst, playerid, ${variable0});`+branch+"}"}return code},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.controls_forEach=function(block){const variable0=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getName(block.getFieldValue("VAR"),blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),argument0=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"LIST",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ASSIGNMENT)||"[]";let branch=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.statementToCode(block,"DO");branch=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.addLoopTrap(branch,block);let code="",listVar=argument0;argument0.match(/^\w+$/)||(listVar=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getDistinctName(variable0+"_list",blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME),code+="let "+listVar+" = "+argument0+";\n");const indexVar=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.nameDB_.getDistinctName(variable0+"_index",blockly__WEBPACK_IMPORTED_MODULE_0___default().VARIABLE_CATEGORY_NAME);return branch=`gm.blockly.funcs.setVar("${variable0}", gst, playerid, ${listVar}[${indexVar}]);${branch}`,code+="for (let "+indexVar+" in "+listVar+") {"+branch+"}\n",code},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.math_single=function(block){const operator=block.getFieldValue("OP");let code,arg;if("NEG"===operator)return arg=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"NUM",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_UNARY_NEGATION)||"0","-"===arg[0]&&(arg=" "+arg),code="-"+arg,[code,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_UNARY_NEGATION];switch(arg="SIN"===operator||"COS"===operator||"TAN"===operator?blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"NUM",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_DIVISION)||"0":blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"NUM",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE)||"0",operator){case"ABS":code="Math.abs("+arg+")";break;case"ROOT":code="Math.sqrt("+arg+")";break;case"LN":code="Math.log("+arg+")";break;case"EXP":code="Math.exp("+arg+")";break;case"POW10":code="Math.pow(10,"+arg+")";break;case"ROUND":code="Math.round("+arg+")";break;case"ROUNDUP":code="Math.ceil("+arg+")";break;case"ROUNDDOWN":code="Math.floor("+arg+")";break;case"SIN":code="SafeTrig.safeSin("+arg+" / 180 * Math.PI)";break;case"COS":code="SafeTrig.safeCos("+arg+" / 180 * Math.PI)";break;case"TAN":code="SafeTrig.safeTan("+arg+" / 180 * Math.PI)"}if(code)return[code,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL];switch(operator){case"LOG10":code="Math.log("+arg+") / Math.log(10)";break;case"ASIN":code="SafeTrig.safeASin("+arg+") / Math.PI * 180";break;case"ACOS":code="SafeTrig.safeACos("+arg+") / Math.PI * 180";break;case"ATAN":code="SafeTrig.safeATan("+arg+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+operator)}return[code,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_DIVISION]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.math_round=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.math_single,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.math_trig=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.math_single,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.lists_length=function(block){let list=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"VALUE",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER)||"[]";return list=`(typeof ${list} === 'object' ? ${list} : [])`,[list+".length",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.lists_isEmpty=function(block){var list=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"VALUE",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER)||"[]";return["!"+(list=`(typeof ${list} === 'object' ? ${list} : [])`)+".length",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_LOGICAL_NOT]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.lists_indexOf=function(block){const operator="FIRST"===block.getFieldValue("END")?"indexOf":"lastIndexOf",item=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"FIND",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE)||"''";let list=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"VALUE",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER)||"[]";list=`(typeof ${list} === 'object' ? ${list} : [])`;const code=list+"."+operator+"("+item+")";return block.workspace.options.oneBasedIndex?[code+" + 1",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ADDITION]:[code,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.lists_getIndex=function(block){const mode=block.getFieldValue("MODE")||"GET",where=block.getFieldValue("WHERE")||"FROM_START",listOrder="RANDOM"===where?blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE:blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER;let list=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"VALUE",listOrder)||"[]";switch(list=`(typeof ${list} === 'object' ? ${list} : [])`,where){case"FIRST":if("GET"===mode){return[list+"?.[0]",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}if("GET_REMOVE"===mode){return[list+"?.shift()",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}if("REMOVE"===mode){return[list+"?.slice(1)",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}break;case"LAST":if("GET"===mode){return[list+"?.slice(-1)[0]",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}if("GET_REMOVE"===mode){return[list+"?.pop()",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}if("REMOVE"===mode){return[list+"?.splice(-1)",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}break;case"FROM_START":{const at=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT");if("GET"===mode){return[list+"?.["+at+"]",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}if("GET_REMOVE"===mode){return[list+"?.splice("+at+", 1)[0]",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]}if("REMOVE"===mode){return[list+"?.splice("+at+", 1)",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}break}case"FROM_END":{const at=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT",1,!0);if("GET"===mode){return[list+"?.slice("+at+")[0]",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}if("GET_REMOVE"===mode){return[list+"?.splice("+at+", 1)[0]",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]}if("REMOVE"===mode){return[list+"?.splice("+at+", 1)",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}break}case"RANDOM":return[blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.provideFunction_("listsGetRandomItem",["function "+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","if (!list) return null;","  var x = Math.floor(gm.physics.pseudoRandom() * list.length);","  if (remove) {","    list.splice(x, 1)[0]; return list;","  } else {","    return list[x];","  }","}"])+"("+list+", "+("GET"!==mode)+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled combination (lists_getIndex).")},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.lists_setIndex=function(block){let list=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"LIST",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER)||"[]";list=`(typeof ${list} === 'object' ? ${list} : [])`;const mode=block.getFieldValue("MODE")||"GET",where=block.getFieldValue("WHERE")||"FROM_START",value=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"TO",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_ASSIGNMENT)||"null";switch(where){case"FIRST":if("SET"===mode){return["gm.blockly.funcs.setInArray("+list+", 0, "+value+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}if("INSERT"===mode){return["["+value+", ..."+list+"]",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}break;case"LAST":if("SET"===mode){return["gm.blockly.funcs.setInArray("+list+", "+list+".length - 1, "+value+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}if("INSERT"===mode){return["[..."+list+", "+value+"]",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}break;case"FROM_START":{const at=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT");if("SET"===mode){return["gm.blockly.funcs.setInArray("+list+", "+at+", "+value+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}if("INSERT"===mode){return["gm.blockly.funcs.insertInArray("+list+", "+at+", "+value+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}break}case"FROM_END":{const at=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT",1,!1,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_SUBTRACTION);if("SET"===mode){return["gm.blockly.funcs.setInArray("+list+", "+list+".length - "+at+", "+value+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}if("INSERT"===mode){return["gm.blockly.funcs.insertInArray("+list+", "+list+".length - "+at+", "+value+")",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER]}break}case"RANDOM":{let code="";if("SET"===mode)return code+="gm.blockly.funcs.setInArray("+list+", Math.floor(gm.physics.pseudoRandom() * "+list+".length), "+value+")",[code,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL];if("INSERT"===mode)return code+="gm.blockly.funcs.insertInArray("+list+", Math.floor(gm.physics.pseudoRandom() * "+list+".length), "+value+")",[code,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL];break}}throw Error("Unhandled combination (lists_setIndex).")};const getSubstringIndex=function(listName,where,opt_at){return"FIRST"===where?"0":"FROM_END"===where?listName+".length - 1 - "+opt_at:"LAST"===where?listName+".length - 1":opt_at};blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.lists_getSublist=function(block){let list=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"LIST",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER)||"[]";list=`(typeof ${list} === 'object' ? ${list} : [])`;const where1=block.getFieldValue("WHERE1"),where2=block.getFieldValue("WHERE2");let code;if("FIRST"===where1&&"LAST"===where2)code=list+".slice(0)";else if(list.match(/^\w+$/)||"FROM_END"!==where1&&"FROM_START"===where2){let at1,at2;switch(where1){case"FROM_START":at1=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT1");break;case"FROM_END":at1=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT1",1,!1,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_SUBTRACTION),at1=list+".length - "+at1;break;case"FIRST":at1="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(where2){case"FROM_START":at2=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT2",1);break;case"FROM_END":at2=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT2",0,!1,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_SUBTRACTION),at2=list+".length - "+at2;break;case"LAST":at2=list+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}code=list+".slice("+at1+", "+at2+")"}else{const at1=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT1"),at2=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.getAdjusted(block,"AT2"),wherePascalCase={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};code=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.provideFunction_("subsequence"+wherePascalCase[where1]+wherePascalCase[where2],["function "+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"===where1||"FROM_START"===where1?", at1":"")+("FROM_END"===where2||"FROM_START"===where2?", at2":"")+") {",getSubstringIndex("sequence",where1,"at1")+";","  var end = "+getSubstringIndex("sequence",where2,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+list+("FROM_END"===where1||"FROM_START"===where1?", "+at1:"")+("FROM_END"===where2||"FROM_START"===where2?", "+at2:"")+")"}return[code,blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.lists_sort=function(block){let list=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"LIST",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL)||"[]";list=`(typeof ${list} === 'object' ? ${list} : [])`;const direction="1"===block.getFieldValue("DIRECTION")?1:-1,type=block.getFieldValue("TYPE");return[list+".slice().sort("+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.provideFunction_("listsGetSortCompare",["function "+blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+type+'", '+direction+"))",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.lists_split=function(block){let input=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"INPUT",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_MEMBER);const delimiter=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"DELIM",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_NONE)||"''",mode=block.getFieldValue("MODE");let functionName;if("SPLIT"===mode)input||(input="''"),functionName="split";else{if("JOIN"!==mode)throw Error("Unknown mode: "+mode);input||(input="[]"),functionName="join"}return[input+"?."+functionName+"("+delimiter+") || "+("SPLIT"===mode?"[]":"''"),blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]},blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.lists_reverse=function(block){let list=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.valueToCode(block,"LIST",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL)||"[]";list=`(typeof ${list} === 'object' ? ${list} : [])`;return[list+".slice().reverse()",blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.ORDER_FUNCTION_CALL]}}},785:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var blockly__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(948),blockly__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(blockly__WEBPACK_IMPORTED_MODULE_0__);function __WEBPACK_DEFAULT_EXPORT__(){const playerIdMixin={mutationToDom:function(){const container=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("mutation"),showPlayerId="id"===this.getFieldValue("player");return container.setAttribute("playerid_input",showPlayerId),this.updateShape_(showPlayerId),container},domToMutation:function(xmlElement){const showPlayerId="false"!==xmlElement.getAttribute("playerid_input");this.updateShape_(showPlayerId)},updateShape_:function(showPlayerId){const inputExists=this.getInput("player_id");showPlayerId?inputExists||this.appendValueInput("player_id").setCheck("Number"):inputExists&&this.removeInput("player_id"),this.moveIdInputs(showPlayerId&&!inputExists)}},playerArrowIdMixin={mutationToDom:function(){const container=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("mutation"),showPlayerId="id"===this.getFieldValue("player"),showArrowId="id"===this.getFieldValue("arrow");return container.setAttribute("playerid_input",showPlayerId),container.setAttribute("arrowid_input",showArrowId),this.updateShape_(showPlayerId,showArrowId),container},domToMutation:function(xmlElement){const showPlayerId="false"!==xmlElement.getAttribute("playerid_input"),showArrowId="false"!==xmlElement.getAttribute("arrowid_input");this.updateShape_(showPlayerId,showArrowId)},updateShape_:function(showPlayerId,showArrowId){const playerInputExists=this.getInput("player_id");showPlayerId?playerInputExists||this.appendValueInput("player_id").setCheck("Number"):playerInputExists&&this.removeInput("player_id");const arrowInputExists=this.getInput("arrow_id");showArrowId?arrowInputExists||this.appendValueInput("arrow_id").setCheck("Number"):arrowInputExists&&this.removeInput("arrow_id"),this.moveIdInputs(showPlayerId&&!playerInputExists,showArrowId&&!arrowInputExists)}};blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.set_player_prop.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveInputBefore("player_id","set_number")};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.change_player_prop.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveInputBefore("player_id","change_number")};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.set_last_arrow_prop.validatorInit=function(){this.mixin(playerArrowIdMixin),this.moveIdInputs=function(movePlayerId,moveArrowId){moveArrowId&&this.moveInputBefore("arrow_id","set_number"),movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};const playerDropdown=this.getField("player");playerDropdown.setValidator((function(newValue){const showPlayerId="id"===newValue,showArrowId="id"===arrowDropdown.getValue();this.getSourceBlock().updateShape_(showPlayerId,showArrowId)}));const arrowDropdown=this.getField("arrow");arrowDropdown.setValidator((function(newValue){const showPlayerId="id"===playerDropdown.getValue(),showArrowId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId,showArrowId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.change_last_arrow_prop.validatorInit=function(){this.mixin(playerArrowIdMixin),this.moveIdInputs=function(movePlayerId,moveArrowId){moveArrowId&&this.moveInputBefore("arrow_id","change_number"),movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};const playerDropdown=this.getField("player");playerDropdown.setValidator((function(newValue){const showPlayerId="id"===newValue,showArrowId="id"===arrowDropdown.getValue();this.getSourceBlock().updateShape_(showPlayerId,showArrowId)}));const arrowDropdown=this.getField("arrow");arrowDropdown.setValidator((function(newValue){const showPlayerId="id"===playerDropdown.getValue(),showArrowId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId,showArrowId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.get_player_prop.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.get_last_arrow_prop.validatorInit=function(){this.mixin(playerArrowIdMixin),this.moveIdInputs=function(movePlayerId,moveArrowId){moveArrowId&&this.moveNumberedInputBefore(this.inputList.length-1,this.inputList.length-2),movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};const playerDropdown=this.getField("player");playerDropdown.setValidator((function(newValue){const showPlayerId="id"===newValue,showArrowId="id"===arrowDropdown.getValue();this.getSourceBlock().updateShape_(showPlayerId,showArrowId)}));const arrowDropdown=this.getField("arrow");arrowDropdown.setValidator((function(newValue){const showPlayerId="id"===playerDropdown.getValue(),showArrowId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId,showArrowId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.get_arrow_amount.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.delete_arrows.validatorInit=function(){this.mixin(playerArrowIdMixin),this.moveIdInputs=function(movePlayerId,moveArrowId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};const playerDropdown=this.getField("player");playerDropdown.setValidator((function(newValue){const showPlayerId="id"===newValue,showArrowId="id"===arrowDropdown.getValue();this.getSourceBlock().updateShape_(showPlayerId,showArrowId)}));const arrowDropdown=this.getField("arrow");arrowDropdown.setValidator((function(newValue){const showPlayerId="id"===playerDropdown.getValue(),showArrowId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId,showArrowId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.player_die.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.pressing_key.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.player_on_team.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.get_player_color.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.get_player_name.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.on_player_collide.validatorInit=function(){const returnInfo=this.getField("return_info"),collideType=this.getField("collide_type"),block=this;function showHideVars(showVars,colType){if(block.getField("player_id").setVisible(!1),block.getField("arrow_id").setVisible(!1),block.getField("platform_id").setVisible(!1),block.getField("shape_id").setVisible(!1),block.getField("normal_x").setVisible(!1),block.getField("normal_y").setVisible(!1),"TRUE"==showVars)switch(colType){case"collide_player":block.getField("player_id").setVisible(!0);break;case"collide_arrow":block.getField("player_id").setVisible(!0),block.getField("arrow_id").setVisible(!0);break;case"collide_platform":block.getField("platform_id").setVisible(!0),block.getField("shape_id").setVisible(!0),block.getField("normal_x").setVisible(!0),block.getField("normal_y").setVisible(!0)}}returnInfo.setValidator((function(newValue){showHideVars(newValue,collideType.getValue()),returnInfo.forceRerender()})),collideType.setValidator((function(newValue){showHideVars(returnInfo.getValue(),newValue),collideType.forceRerender()}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.on_arrow_collide.validatorInit=function(){const returnInfo=this.getField("return_info"),collideType=this.getField("collide_type"),block=this;function showHideVars(showVars,colType){if(block.getField("self_arrow_id").setVisible(!1),block.getField("player_id").setVisible(!1),block.getField("arrow_id").setVisible(!1),block.getField("platform_id").setVisible(!1),block.getField("shape_id").setVisible(!1),block.getField("normal_x").setVisible(!1),block.getField("normal_y").setVisible(!1),"TRUE"==showVars)switch(colType){case"collide_player":block.getField("self_arrow_id").setVisible(!0),block.getField("player_id").setVisible(!0);break;case"collide_arrow":block.getField("self_arrow_id").setVisible(!0),block.getField("player_id").setVisible(!0),block.getField("arrow_id").setVisible(!0);break;case"collide_platform":block.getField("self_arrow_id").setVisible(!0),block.getField("platform_id").setVisible(!0),block.getField("shape_id").setVisible(!0),block.getField("normal_x").setVisible(!0),block.getField("normal_y").setVisible(!0)}}returnInfo.setValidator((function(newValue){showHideVars(newValue,collideType.getValue()),returnInfo.forceRerender()})),collideType.setValidator((function(newValue){showHideVars(returnInfo.getValue(),newValue),collideType.forceRerender()}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.on_platform_collide.validatorInit=function(){const returnInfo=this.getField("return_info"),collideType=this.getField("collide_type"),block=this;function showHideVars(showVars,colType){if(block.getField("self_platform_id").setVisible(!1),block.getField("self_shape_id").setVisible(!1),block.getField("player_id").setVisible(!1),block.getField("arrow_id").setVisible(!1),block.getField("platform_id").setVisible(!1),block.getField("shape_id").setVisible(!1),block.getField("normal_x").setVisible(!1),block.getField("normal_y").setVisible(!1),"TRUE"==showVars)switch(colType){case"collide_player":block.getField("self_platform_id").setVisible(!0),block.getField("self_shape_id").setVisible(!0),block.getField("player_id").setVisible(!0);break;case"collide_arrow":block.getField("self_platform_id").setVisible(!0),block.getField("self_shape_id").setVisible(!0),block.getField("player_id").setVisible(!0),block.getField("arrow_id").setVisible(!0);break;case"collide_platform":block.getField("self_platform_id").setVisible(!0),block.getField("self_shape_id").setVisible(!0),block.getField("platform_id").setVisible(!0),block.getField("shape_id").setVisible(!0),block.getField("normal_x").setVisible(!0),block.getField("normal_y").setVisible(!0)}}returnInfo.setValidator((function(newValue){showHideVars(newValue,collideType.getValue()),returnInfo.forceRerender()})),collideType.setValidator((function(newValue){showHideVars(returnInfo.getValue(),newValue),collideType.forceRerender()}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.input_override.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.stop_input_override.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.set_camera_prop.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveInputBefore("player_id","set_number")};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.change_camera_prop.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveInputBefore("player_id","change_number")};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.get_camera_prop.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.change_camera_lerp.validatorInit=function(){this.mixin(playerIdMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.play_sound.validatorInit=function(){this.getField("pan_type").setValidator((function(newValue){"world"===newValue?this.getSourceBlock().getField("sound_pan_name").setValue("x sound position"):this.getSourceBlock().getField("sound_pan_name").setValue("panning (-1.0 to 1.0)")}))};const variableMixin={mutationToDom:function(){const container=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("mutation"),showPlayerId="id"===this.getFieldValue("player"),showDropdown=!this.getField("VAR").variable_.name.startsWith("GLOBAL_");return container.setAttribute("playerid_input",showPlayerId),container.setAttribute("show_dropdown",showDropdown),this.updateShape_(showPlayerId,showDropdown),container},domToMutation:function(xmlElement){const showPlayerId="false"!==xmlElement.getAttribute("playerid_input"),showDropdown="false"!==xmlElement.getAttribute("show_dropdown");this.updateShape_(showPlayerId,showDropdown)},updateShape_:function(showPlayerId,showDropdown){const inputExists=this.getInput("player_id");showPlayerId&&showDropdown?inputExists||this.appendValueInput("player_id").setCheck("Number"):inputExists&&this.removeInput("player_id");const dropExists=this.getField("player");if(showDropdown){if(!dropExists){this.getInput("drop_container").appendField(new(blockly__WEBPACK_IMPORTED_MODULE_0___default().FieldDropdown)([["your","self"],["player with id","id"]]),"player");this.getField("player").setValidator((function(newValue){const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId,!this.getSourceBlock().getField("VAR").selectedOption_[0].startsWith("GLOBAL_"))}))}}else dropExists&&this.getInput("drop_container").removeField("player");this.moveIdInputs(showPlayerId&&showDropdown&&!inputExists)}};blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.variables_get.validatorInit=function(){this.mixin(variableMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,1)};this.getField("VAR").setValidator((function(newValue){const startsWithGlobal=blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.getVariable(gm.blockly.workspace,newValue).name.startsWith("GLOBAL_"),showPlayerId=!startsWithGlobal&&"id"===this.getSourceBlock().getFieldValue("player");this.getSourceBlock().updateShape_(showPlayerId,!startsWithGlobal)}));this.getField("player").setValidator((function(newValue){if(!this.getSourceBlock().getField("VAR").variable_)return;const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId,!this.getSourceBlock().getField("VAR").variable_.name.startsWith("GLOBAL_"))}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.variables_set.validatorInit=function(){this.mixin(variableMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,2)};this.getField("VAR").setValidator((function(newValue){const startsWithGlobal=blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.getVariable(gm.blockly.workspace,newValue).name.startsWith("GLOBAL_"),showPlayerId=!startsWithGlobal&&"id"===this.getSourceBlock().getFieldValue("player");this.getSourceBlock().updateShape_(showPlayerId,!startsWithGlobal)}));this.getField("player").setValidator((function(newValue){if(!this.getSourceBlock().getField("VAR").variable_)return;const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId,!this.getSourceBlock().getField("VAR").variable_.name.startsWith("GLOBAL_"))}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.math_change.validatorInit=function(){this.mixin(variableMixin),this.moveIdInputs=function(movePlayerId){movePlayerId&&this.moveNumberedInputBefore(this.inputList.length-1,2)};this.getField("VAR").setValidator((function(newValue){const startsWithGlobal=blockly__WEBPACK_IMPORTED_MODULE_0___default().Variables.getVariable(gm.blockly.workspace,newValue).name.startsWith("GLOBAL_"),showPlayerId=!startsWithGlobal&&"id"===this.getSourceBlock().getFieldValue("player");this.getSourceBlock().updateShape_(showPlayerId,!startsWithGlobal)}));this.getField("player").setValidator((function(newValue){if(!this.getSourceBlock().getField("VAR").variable_)return;const showPlayerId="id"===newValue;this.getSourceBlock().updateShape_(showPlayerId,!this.getSourceBlock().getField("VAR").variable_.name.startsWith("GLOBAL_"))}))};const createPlatformMixin={mutationToDom:function(){const container=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("mutation"),isStatement=!!this.outputConnection;return container.setAttribute("statement",isStatement),container},domToMutation:function(xmlElement){const returnId="true"===xmlElement.getAttribute("statement");this.updateShape_(returnId)},updateShape_:function(returnId){returnId!==!!this.outputConnection&&(this.unplug(!0,!0),returnId?(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)):(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)))}};blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.create_platform.validatorInit=function(){this.mixin(createPlatformMixin);this.getField("return_id").setValidator((function(newValue){this.getSourceBlock().updateShape_("TRUE"===newValue)}))},blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks.clone_platform.validatorInit=function(){this.mixin(createPlatformMixin);this.getField("return_id").setValidator((function(newValue){this.getSourceBlock().updateShape_("TRUE"===newValue)}))}}blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.applyInputTagNodes_=function(xmlChildren,workspace,block,prototypeName){for(let i=0;i<xmlChildren.length;i++){const xmlChild=xmlChildren[i],nodeName=xmlChild.getAttribute("name"),input=block.getInput(nodeName);if(!input){console.warn("Ignoring non-existent input "+nodeName+" in block "+prototypeName);continue}const childBlockInfo=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.findChildBlocks_(xmlChild);if(childBlockInfo.childBlockElement){if(!input.connection)throw TypeError("Input connection does not exist.");blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToBlockHeadless_(childBlockInfo.childBlockElement,workspace,input.connection,!1)}childBlockInfo.childShadowElement&&input.connection.setShadowDom(childBlockInfo.childShadowElement)}}},323:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var blockly__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(948),blockly__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(blockly__WEBPACK_IMPORTED_MODULE_0__),_blockly_plugin_workspace_search__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(165),_blockly_toolbox_xml__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(820),_blockly_blockdefs_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(201),_blockly_blockdefs_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_blockly_blockdefs_js__WEBPACK_IMPORTED_MODULE_2__),_blockly_blockfuncs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(557),_blockly_blockvalidators_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(785),file_saver__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(162),file_saver__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_5__),howler__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(766),howler__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(howler__WEBPACK_IMPORTED_MODULE_6__);const ByteBuffer=__webpack_require__(779);window.ByteBuffer=ByteBuffer;const getMapNameFromDatabase=function(data){var W2t=[];W2t[5]=window.LZString.decompressFromEncodedURIComponent(data);var mapBuffer=new ByteBuffer.fromBase64(W2t[5],!1),v=mapBuffer.readShort();return mapBuffer.readUTF=()=>{for(var length=mapBuffer.readShort(),array=new Uint8Array(length),i=0;i<length;i++)array[i]=mapBuffer.readByte();return(new TextDecoder).decode(array)},mapBuffer.readByte(),mapBuffer.readByte(),v>=3&&mapBuffer.readShort(),v>=4&&v<=12?mapBuffer.readShort():v>=13&&mapBuffer.readFloat(),v>=9&&mapBuffer.readByte(),mapBuffer.readUTF(),mapBuffer.readUTF(),mapBuffer.readInt32(),mapBuffer.readShort(),{name:mapBuffer.readUTF(),author:mapBuffer.readUTF()}};window.gmnfdb=getMapNameFromDatabase;const ModeList={modes:{b:{lobbyName:"Classic",gameStartName:"CLASSIC",lobbyDescription:"Classic Bonk. Hold X to increase your mass.",tutorialTitle:"Classic Mode",tutorialText:"Use the arrow keys to move\r\nHold X, SHIFT or SPACE to make yourself heavier\r\nHeavy becomes weaker the more you use it",forceTeams:!1,forceTeamCount:null,editorCanTarget:!0},ar:{lobbyName:"Arrows",gameStartName:"ARROWS",lobbyDescription:"Hold your special key (default z or y) to start drawing an arrow, use directions to aim. Release to fire.",tutorialTitle:"Arrows Mode",tutorialText:"Hold Z to draw an arrow\r\nThen use left/right to aim\r\nHold X to make yourself heavier",forceTeams:!1,forceTeamCount:null,editorCanTarget:!0},ard:{lobbyName:"Death Arrows",gameStartName:"DEATH ARROWS",lobbyDescription:"Arrows mode, but arrows kill enemy players on impact.",tutorialTitle:"Death Arrows Mode",tutorialText:"Hold Z to draw an arrow\r\nThen use left/right to aim\r\nArrows will kill enemies instantly\r\nHold X to make yourself heavier",forceTeams:!1,forceTeamCount:null,editorCanTarget:!0},sp:{lobbyName:"Grapple",gameStartName:"GRAPPLE",lobbyDescription:"Hold your special key (default z or y) to swing around the map. Knock enemies off their grapple by hitting them.",tutorialTitle:"Grapple Mode",tutorialText:"Z key to grapple\r\nGrapples nearest object in any direction\r\nHit enemies while they're grappling to knock them off",forceTeams:!1,forceTeamCount:null,editorCanTarget:!0},var:{lobbyName:"VarTOL",gameStartName:"VARTOL",lobbyDescription:"VTOL and Arrows had a baby. And this baby knows how to rock.",tutorialTitle:"VarTOL Mode",tutorialText:"Fly around with the arrow keys\r\nHold Z to draw an arrow\r\nHold X to make yourself heavier",forceTeams:!1,forceTeamCount:null,editorCanTarget:!1},v:{lobbyName:"VTOL",gameStartName:"VTOL",lobbyDescription:"You have rockets on either side of your player.\nUse the up key to engage both jets, or left/right to only engage one.",tutorialTitle:"VTOL Mode",tutorialText:"Hold up key to fly\r\nTap left/right gently to turn\r\nStay upright\r\nHit enemies jets to make them lose control",forceTeams:!1,forceTeamCount:null,editorCanTarget:!0}},lobbyModes:["b","ar","ard","sp","var","v"]},classicButtonClickString="data:audio/wav;base64,UklGRkYyAABXQVZFZm10IBAAAAABAAIARKwAABCxAgAEABAAZGF0YUguAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEACAAIABwAHABJAEkAkgCSANoA2gDeAN4AWQBZAEr/Sv8e/h7+fP18/c79zv3b/tv+3//f/xkAGQBx/3H/sv6y/gz/DP8eAR4BRQRFBMkGyQblBuUG+AP4Awv/C/9M+kz63Pfc96/4r/hE/ET8LAEsAdAF0AXqCOoIygnKCYkIiQgFBgUGRQNFA6EAoQBz/XP90fjR+NHy0fJl7WXtxuvG62TwZPB/+n/6bgVuBcoKygqgBqAGvfq9+nHuce5s6mzqRvNG82MGYwZWG1YbzijOKMEpwSmaH5ofkxCTELwDvANT/VP9af1p/RgBGAHPBM8ECQYJBrwDvAND/kP+Ivci91rwWvA16zXrSudK5+fi5+LZ3NncZ9Zn1rXTtdOk2aTZEeoR6gABAAFyFXIVTh5OHnUYdRiiCaIJjf2N/cT+xP7qD+oP8inyKW1AbUDeSN5IP0A/QKEroSs+FD4UCwILAh/4H/iZ9Jn0VvNW8/bw9vA/7D/sxOXE5eve694z2TPZnNWc1STUJNS207bT/dL90tHR0dFB0kHSF9gX2IzmjOZC/UL91hbWFq8qryqwMbAx9ir2KiodKh0DEwMT0RTRFEYjRiMFNwU3LkUuRc1FzUX2N/Y3ZCFkIXkKeQp3+Xf55O/k7zrrOuvA58DnKeMp42LdYt29173Xo9Oj08rRytHq0erR7tLu0pTTlNNV01XTQ9ND0ynWKdZs32zfyvDK8EQIRAjbH9sfAjACMMszyzM8LDwsWyBbIFoZWhkXHRcdeCp4Khg6GDrYQthCJD8kP7Ivsi9eGl4aSQZJBu/37/eJ74nvU+pT6kTlROUm3ybfyNjI2NvT29OG0YbRuNG40UTTRNOV1JXUqNSo1NbT1tMe1B7Umtia2Pzj/OOd9p32UA1QDQciByKOLo4u+i/6L7gouCicH5wfFxwXHMMhwyEsLiwuWDpYOv0+/T6fOJ84HSkdKQkWCRYaBRoFNPk0+aTxpPHC68LrXOVc5TDeMN6k16TXddN101rSWtKX05fTcNVw1T/WP9Z41XjVO9Q71BnVGdUS2xLb9+f35+767voQEBAQsiGyIQsrCyvVKtUqWCRYJNYd1h0THRMd7SPtIzwvPC/GOMY45TrlOpwznDNKJUolzxTPFIkGiQYq/Cr8mfSZ9Jrtmu3M5czlmd2Z3bDWsNav0q/S/tH+0Y3TjdOA1YDVWNZY1uTV5NWZ1ZnVDtgO2MHfwd+b7Zvt6v/q/5gSmBLGIMYgKCcoJ90l3SWYIJggwBzAHGAeYB7LJcsldS91Lw42DjaVNZU1ay1rLUogSiBRElESlQaVBr79vv1t9m323+7f7nnmeeYy3jLe1NfU16vUq9Se1J7UPNY81qXXpdex17HXwtbC1rjWuNYn2ifa+OL44jHxMfFyAnICtxK3EgkeCR5zInMiFiEWIaodqh2BHIEcEyATIJEnkSdoL2gvWjNaM90w3TBWKFYoiByIHL4QvhDtBu0GAv8C/6D3oPeP74/v2ebZ5tLe0t4n2SfZvda91grXCtdt2G3YNdk12a7Yrtiw17DXUthS2OHc4dyY5pjmtfS19H8EfwRKEkoSIRshGzQeNB5EHUQduxu7G8ccxxyPIY8hiiiKKHEucS4ZMBkwMiwyLMUjxSNhGWEZdw93DxUHFQe4/7j/Lfgt+Mvvy+8e5x7nnt+e37/av9rz2PPYXtle2VnaWdqE2oTapNmk2e7Y7th22nbaGOAY4FvqW+rr9+v3+AX4BWcRZxE9GD0YjRqNGmIaYhqbGpsaUB1QHaMioyKzKLMotSy1LIMsgyy6J7onvR+9H7kWuRZZDlkO/Ab8Buv/6/88+Dz4xe/F72nnaeeh4KHgi9yL3DTbNNuK24rbCNwI3LLbstu82rzakNqQ2hTdFN2a45rjCe4J7qz6rPrdBt0GLRAtEIMVgxWOF44XVRhVGA0aDRrbHdsdLCMsIxEoEShbKlsqxijGKJYjliNEHEQchhSGFFoNWg2qBqoGuf+5//X39fed753vyefJ587hzuF03nTect1y3Z7dnt2s3azd/Nz83BXcFdxt3G3cpt+m35nmmebC8MLwU/xT/PsG+wbrDusOpROlExkWGRYEGAQY6RrpGi8fLx/hI+EjQydDJ8InwifSJNIkIx8jHyUYJRguES4RyQrJCqoEqgQn/if+7/bv9nXvde/I6Mjo9eP142XhZeGV4JXgbuBu4PPf89/v3u/eK94r3hDfEN/i4uLi/en96YLzgvOs/az9lQaVBhINEg0qESoR7BPsE70WvRZ7Gnsa+h76HhUjFSNYJVglxCTEJFYhViHyG/Ib0xXTFdkP2Q8pCikKUQRRBNT91P2x9rH2le+V74rpiulg5WDlM+Mz413iXeLh4eHhFOEU4RPgE+DJ38nfdOF04fDl8OUm7SbtBPYE9uf+5/5jBmMG1gvWC6APoA/FEsUSQBZAFmcaZxqtHq0e8iHyIRsjGyOtIa0hAx4DHgoZChm2E7YTgQ6BDkkJSQmbA5sDLv0u/Uf2R/ax77HvWepZ6s/mz+bv5O/kB+QH5EbjRuNR4lHiguGC4cnhyeEm5CbkDukO6RnwGfAi+CL4yf/J/xMGEwbLCssKeg56DvsR+xHhFeEVGBoYGuQd5B1HIEcgiCCIII8ejx7sGuwaeBZ4FtoR2hE7DTsNUwhTCMICwgJ6/Hr88PXw9fbv9u9S61LrUOhQ6KTmpOag5aDlrOSs5K/jr+Mu4y7jBeQF5O3m7eYD7APsq/Kr8s35zflXAFcAsAWwBfAJ8AmmDaYNcBFwEYUVhRWJGYkZthy2HEUeRR7THdMdkhuSGyUYJRg6FDoUMxAzEAEMAQxNB00H2wHbAc/7z/u99b31a/Br8Gvsa+zW6dbpRuhG6CTnJOcS5hLmLeUt5QvlC+Vl5mXmrOms6bnuue7X9Nf0EvsS+6UApQBKBUoFQQlBCQkNCQ39EP0QChUKFa0YrRgwGzAbCBwIHB0bHRvOGM4YtBW0FU0STRK/Dr8O1wrXCkgGSAb9AP0AQ/tD+7v1u/UQ8RDxou2i7V3rXevV6dXpmOiY6HrneufC5sLmA+cD58royuhG7EbsJPEk8an2qfYO/A780ADQAOIE4gSUCJQITAxMDDMQMxAKFAoURhdGF00ZTRnKGcoZ0BjQGMYWxhYqFCoURBFEEQ0ODQ5FCkUKtAW0BWoAagDU+tT6lvWW9UHxQfEV7hXu7uvu627qbupD6UPpaehp6C/oL+gO6Q7pW+tb6wvvC++v86/znfid+EL9Qv1aAVoB/gT+BH8IfwgdDB0M0A/QDzwTPBPcFdwVQRdBF0kXSRcrFisWThROFA4SDhKID4gPmAyYDP8I/wieBJ4EqP+o/5b6lvr79fv1QfJB8oPvg++L7YvtDOwM7Nvq2+oU6hTqEOoQ6i3rLeuX7ZftH/Ef8U31TfWT+ZP5kP2Q/S0BLQGVBJUECQgJCJ4LngsnDycPORI5EmAUYBRVFVUVIRUhFQsUCxRtEm0SgBCAED8OPw54C3gL+Af4B8IDwgMe/x7/ifqJ+n32ffY/8z/zzfDN8PDu8O5w7XDtRexF7KDroOvW69brKe0p7Zvvm+/o8ujynvae9lH6UfrJ/cn9DwEPAVEEUQS1B7UHLgsuC3UOdQ4hESER2BLYEnkTeRMmEyYTKhIqEskQyRAdDx0PCQ0JDVsKWwr2BvYG9QL1ArD+sP6a+pr6EPcQ9zn0OfT/8f/xNPA08Lruuu6i7aLtKO0o7ZTtlO0I7wjva/Fr8W/0b/Sx97H35vrm+vj9+P0AAQABJAQkBHAHcAe8CrwKsw2zDfkP+Q9QEVARtxG3EV0RXRGGEIYQXA9cD94N3g3mC+YLSglKCQMGAwZCAkICYf5h/sT6xPqr96v3I/Uj9RPzE/NX8Vfx6+/r7/Lu8u6p7qnuQu9C78bwxvAJ8wnzvPW89ZP4k/hg+2D7Jv4m/gEBAQEKBAoEMgcyB0AKQArfDN8MxQ7FDtAP0A8UEBQQww/DDxIPEg8UDhQOtQy1DM8KzwpECEQIJAUkBawBrAE0/jT+CPsI+1L4UvgM9gz2HfQd9HDycPIT8RPxM/Az8AfwB/Cx8LHwKvIq8j/0P/Ss9qz2OPk4+c37zft1/nX+RwFHAUQERARKB0oHFQoVClYMVgzXDdcNjg6ODpsOmw4zDjMOfQ19DYEMgQwlCyULSAlICeAG4AYIBAgE/QD9AAn+Cf5g+2D7EfkR+RD3EPdJ9Un1ufO583vye/K/8b/xs/Gz8WTyZPK/87/zj/WP9Z/3n/fM+cz5FPwU/If+h/4xATEBBAQEBNEG0QZQCVAJQgtCC4UMhQweDR4NMw0zDewM7AxgDGAMhAuECzwKPApxCHEIJwYnBoQDhAPHAMcAKP4o/sr7yvuw+bD5zPfM9xT2FPaW9Jb0dfN189/y3/Lx8vHyrfOt8/H08fSO9o72XPhc+E36Tfpm/Gb8uf65/kQBRAHtA+0DewZ7Bq8IrwhXClcKZQtlC+kL6QsFDAUM1gvWC2ILYguVCpUKVglWCZkHmQdwBXAFBgMGA5IAkgBA/kD+Ifwh/DL6Mvpp+Gn4x/bH9mb1ZvVr9Gv0+/P78yj0KPTi9OL0CfYJ9nT3dPcM+Qz5zPrM+sP8w/z4/vj+YAFgAdYD1gMgBiAGCQgJCHAJcAlUClQKywrLCvAK8ArTCtMKbQptCqcJpwlvCG8IxQbFBsMEwwSWApYCagBqAFz+XP5y/HL8p/qn+vj4+Phy93L3M/Yz9l/1X/US9RL1T/VP9QH2AfYH9wf3RfhF+K75rvlJ+0n7Iv0i/Tn/Of95AXkBtQO1A7sFuwVfB18HkQiRCFcJVwnICcgJ9gn2CeQJ5AmFCYUJwwjDCJMHkwcBBgEGKgQqBDkCOQJNAE0AeP54/rn8ufwO+w77evl6+RP4E/j59vn2TfZN9hz2HPZh9mH2BPcE9+n36ff++P74Q/pD+sL7wvuB/YH9ef95/4sBiwGNA40DUAVQBbkGuQbAB8AHcghyCOAI4AgUCRQJCAkICakIqQjpB+kHxgbGBk8FTwWnA6cD7QHtATkAOQCS/pL+9/z3/Gj7aPvy+fL5rfit+Lv3u/cx9zH3F/cX9173Xvfw9/D3tvi2+Kj5qPnK+sr6Kfwp/Mf9x/2X/5f/eAF4AUMDQwPTBNMEFQYVBgkHCQe7B7sHNQg1CHYIdghxCHEIEwgTCFIHUgcxBjEGyQTJBDgDOAObAZsBAwADAHT+dP7u/O78ePt4+yT6JPoO+Q75TvhO+PH38ff09/T3RPhE+M74zviD+YP5Yvpi+nT7dPvA/MD8RP5E/uv/6/+XAZcBIwMjA3YEdgSIBYgFXAZcBvwG/AZtB20HpwenB5sHmwc5BzkHfAZ8Bm8FbwUrBCsEygLKAl8BXwH1//X/jP6M/if9J/3S+9L7ofqh+rD5sPkQ+RD5yPjI+M/4z/gT+RP5hvmG+SH6Ifrp+un65/vn+x/9H/2I/oj+CgAKAIYBhgHhAuECCQQJBPsE+wS+Bb4FVwZXBsMGwwb4BvgG5gbmBoEGgQbLBcsF0wTTBLEDsQN4AngCNgE2Ae7/7v+i/qL+WP1Y/SD8IPwR+xH7QfpB+r35vfmE+YT5i/mL+cP5w/kj+iP6rPqs+mX7ZftW/Fb8ff19/cv+y/4oACgAeAF4AacCpwKrA6sDhQSFBDkFOQXJBckFLQYtBlgGWAY8BjwG1QXVBSgFKAVGBEYEQwNDAywCLAILAQsB3//f/63+rf5+/X79Zfxl/Hf7d/vG+sb6WfpZ+iv6K/ow+jD6Xfpd+rD6sPot+y373Pvc+8H8wfzV/dX9CP8I/0EAQQBpAWkBcwJzAloDWgMgBCAEyATIBE0FTQWmBaYFxQXFBaAFoAU3BTcFlQSVBMgDyAPgAuAC5wHnAeAA4ADM/8z/sv6y/p79nv2j/KP81fvV+0D7QPvl+uX6vvq++sD6wPrl+uX6L/sv+6X7pftN/E38J/0n/Sr+Kv5B/0H/VwBXAFwBXAFGAkYCFQMVA8oDygNkBGQE3QTdBCgFKAU6BToFDgUOBacEpwQRBBEEWQNZA4oCigKqAaoBugC6ALv/u/+2/rb+uv26/dr82vwk/CT8o/uj+1T7VPsw+zD7Mvsy+1b7Vvui+6L7G/wb/MX8xfyb/Zv9kP6Q/pD/kP+HAIcAagFqATMCMwLlAuUCfwN/AwEEAQRiBGIElwSXBJkEmQRmBGYEBAQEBH8DfwPgAuACLgIuAmoBagGUAJQAr/+v/8X+xf7o/ej9Jv0m/Yv8i/wd/B381/vX+7P7s/uv+6/7zfvN+xP8E/yF/IX8Jv0m/ez97P3J/sn+q/+r/4QAhABNAU0BAgICAqUCpQI0AzQDrAOsAwIEAgQuBC4EKQQpBPYD9gOcA5wDJAMkA5YClgLzAfMBPQE9AXMAcwCe/57/yP7I/gH+Af5X/Vf90vzS/HL8cvw0/DT8EvwS/A78Dvwr/Cv8cfxx/OL84vx8/Xz9Nf41/v7+/v7J/8n/igCKAD0BPQHhAeEBdwJ3AvsC+wJmA2YDsAOwA9AD0APEA8QDkAOQAz0DPQPQAtACTgJOArgBuAENAQ0BUQBRAIv/i//K/sr+Gv4a/of9h/0U/RT9wPzA/Ij8iPxp/Gn8Z/xn/Ib8hvzO/M78Pf09/dD90P17/nv+L/8v/+L/4v+OAI4ALgEuAcQBxAFNAk0CxQLFAiIDIgNeA14DcwNzA2IDYgMwAzAD5ALkAoECgQIKAgoCfgF+Ad4A3gAwADAAfP98/8/+z/42/jb+tv22/VP9U/0I/Qj91fzV/Lr8uvy7/Lv83vze/Cf9J/2U/ZT9Hf4d/rj+uP5Z/1n/+P/4/5AAkAAhASEBqQGpASYCJgKRApEC4QLhAhEDEQMeAx4DCgMKA9sC2wKUApQCOgI6AswBzAFJAUkBswCzABEAEQBu/27/1v7W/lH+Uf7j/eP9jP2M/Ur9Sv0b/Rv9BP0E/Qn9Cf0w/TD9ef15/eL94v1i/mL+7f7t/n3/ff8KAAoAkgCSABYBFgGUAZQBBQIFAmQCZAKnAqcCzALMAtAC0AK5ArkCigKKAkcCRwLxAfEBiAGIAQ0BDQGCAIIA8f/x/2T/ZP/j/uP+dP50/hn+Gf7Q/dD9lv2W/W39bf1Z/Vn9Xv1e/YL9gv3F/cX9Iv4i/pL+kv4M/wz/if+J/wcABwCEAIQA/QD9AHEBcQHYAdgBKwIrAmQCZAKAAoACgQKBAmoCagJAAkACAwIDArMBswFRAVEB3wDfAGEAYQDh/+H/Z/9n//r++v6e/p7+Uf5R/hP+E/7i/eL9wv3C/bX9tf3C/cL96f3p/Sr+Kv5+/n7+3v7e/kX/Rf+v/6//GAAYAIIAggDoAOgASAFIAZsBmwHcAdwBBgIGAhgCGAIVAhUC/wH/AdkB2QGiAaIBXAFcAQYBBgGjAKMAOQA5AND/0P9t/23/Fv8W/8z+zP6O/o7+Wv5a/jP+M/4b/hv+Ff4V/iX+Jf5M/kz+hv6G/s7+zv4f/x//df91/83/zf8mACYAfgB+ANQA1AAiASIBZAFkAZYBlgG0AbQBwAHAAboBugGmAaYBhAGEAVUBVQEWARYBywDLAHYAdgAdAB0Axv/G/3f/d/8x/zH/9f71/sL+wv6Y/pj+eP54/mf+Z/5m/mb+eP54/pz+nP7P/s/+Df8N/1H/Uf+Y/5j/4v/i/y0ALQB4AHgAvwC/AP8A/wAzATMBWAFYAW4BbgF1AXUBbwFvAV0BXQE/AT8BFAEUAd0A3QCbAJsAUwBTAAoACgDD/8P/g/+D/0v/S/8a/xr/7/7v/sz+zP6z/rP+p/6n/qr+qv69/r3+3/7f/gz/DP9A/0D/eP94/7T/tP/y//L/MgAyAHEAcQCsAKwA3wDfAAgBCAEkASQBMwEzATcBNwEwATABIAEgAQUBBQHfAN8ArgCuAHUAdQA4ADgA/P/8/8P/w/+P/4//Yf9h/zj/OP8V/xX/+f75/ub+5v7e/t7+5f7l/vj++P4W/xb/PP88/2j/aP+X/5f/yv/K//////81ADUAagBqAJoAmgDCAMIA4QDhAPYA9gABAQEBBAEEAf0A/QDuAO4A1QDVALMAswCIAIgAVwBXACQAJADx//H/wv/C/5f/l/9x/3H/T/9P/zP/M/8d/x3/EP8Q/w//D/8Y/xj/LP8s/0j/SP9q/2r/j/+P/7f/t//g/+D/DAAMADcANwBhAGEAhgCGAKQApAC7ALsAygDKANIA0gDTANMAzQDNAMAAwACrAKsAjQCNAGkAaQBAAEAAFwAXAO7/7v/I/8j/pf+l/4X/hf9p/2n/Uf9R/0D/QP83/zf/N/83/0H/Qf9T/1P/a/9r/4f/h/+m/6b/yP/I/+z/7P8RABEANQA1AFgAWAB2AHYAjgCOAKAAoACsAKwAsgCyALIAsgCsAKwAoACgAIwAjABxAHEAUQBRAC4ALgALAAsA6v/q/8r/yv+t/63/kv+S/3v/e/9o/2j/W/9b/1b/Vv9Y/1j/Yv9i/3L/cv+H/4f/n/+f/7r/uv/X/9f/9f/1/xUAFQAzADMAUABQAGgAaAB7AHsAiQCJAJIAkgCXAJcAlgCWAJAAkACEAIQAcQBxAFkAWQA9AD0AIAAgAAMAAwDo/+j/zv/O/7b/tv+f/5//jP+M/33/ff9z/3P/cf9x/3T/dP9+/37/jP+M/57/nv+z/7P/yv/K/+P/4//9//3/GAAYADEAMQBIAEgAWwBbAGoAagB1AHUAfAB8AH8AfwB+AH4AdwB3AGsAawBaAFoARQBFAC4ALgAWABYA/v/+/+f/5//R/9H/vf+9/6r/qv+b/5v/j/+P/4n/if+I/4j/jP+M/5b/lv+i/6L/sv+y/8P/w//X/9f/7P/s/wMAAwAZABkALgAuAEAAQABPAE8AWwBbAGQAZABpAGkAawBrAGkAaQBiAGIAVwBXAEcARwA1ADUAIgAiAA4ADgD6//r/5//n/9X/1f/E/8T/tP+0/6j/qP+f/5//m/+b/5z/nP+h/6H/qf+p/7T/tP/B/8H/0P/Q/+H/4f/0//T/BwAHABkAGQArACsAOQA5AEUARQBOAE4AVQBVAFgAWABZAFkAVgBWAE8ATwBFAEUANwA3ACgAKAAYABgACAAIAPj/+P/p/+n/2v/a/8z/zP/A/8D/tv+2/6//r/+s/6z/rf+t/7H/sf+4/7j/wf/B/8z/zP/Z/9n/6P/o//j/+P8IAAgAGAAYACYAJgAyADIAPAA8AEMAQwBJAEkATABMAEwATABIAEgAQQBBADgAOAAsACwAHwAfABEAEQADAAMA9v/2/+n/6f/d/93/0f/R/8f/x/+//7//u/+7/7n/uf+7/7v/v/+//8X/xf/N/83/1//X/+P/4//w//D//f/9/wsACwAYABgAIwAjAC0ALQA0ADQAOgA6AD4APgBAAEAAPwA/ADsAOwA0ADQALAAsACEAIQAWABYACwALAAAAAAD1//X/6v/q/9//3//V/9X/zv/O/8j/yP/F/8X/xf/F/8b/xv/K/8r/0P/Q/9f/1//g/+D/6v/q//b/9v8BAAEADAAMABcAFwAgACAAJwAnAC0ALQAyADIANQA1ADYANgA0ADQAMAAwACoAKgAiACIAGQAZABAAEAAHAAcA/f/9//T/9P/r/+v/4v/i/9r/2v/U/9T/0P/Q/87/zv/O/87/0P/Q/9T/1P/Z/9n/4P/g/+f/5//w//D/+v/6/wQABAANAA0AFQAVAB0AHQAjACMAKAAoACsAKwAtAC0ALQAtACsAKwAnACcAIgAiABsAGwATABMACwALAAMAAwD7//v/8//z/+z/7P/k/+T/3v/e/9r/2v/X/9f/1v/W/9b/1v/Y/9j/3P/c/+D/4P/m/+b/7f/t//X/9f/9//3/BQAFAA0ADQAUABQAGQAZAB4AHgAiACIAJQAlACYAJgAmACYAJAAkACAAIAAbABsAFQAVAA4ADgAIAAgAAQABAPr/+v/0//T/7f/t/+f/5//i/+L/3//f/93/3f/c/9z/3f/d/9//3//i/+L/5v/m/+z/7P/y//L/+P/4//////8GAAYADAAMABIAEgAWABYAGgAaAB4AHgAgACAAIQAhACAAIAAdAB0AGgAaABUAFQAQABAACgAKAAUABQD/////+f/5//P/8//u/+7/6f/p/+b/5v/k/+T/4v/i/+P/4//k/+T/5v/m/+j/6P/s/+z/8f/x//b/9v/7//v/AQABAAYABgALAAsADwAPABMAEwAWABYAGQAZABoAGgAbABsAGgAaABgAGAAUABQAEQARAAwADAAIAAgAAwADAP7//v/5//n/9P/0//D/8P/s/+z/6f/p/+j/6P/n/+f/5//n/+j/6P/q/+r/7f/t//D/8P/0//T/+f/5//3//f8CAAIABgAGAAoACgAOAA4AEQARABQAFAAWABYAFwAXABcAFwAVABUAEwATABAAEAANAA0ACQAJAAUABQABAAEA/f/9//n/+f/1//X/8f/x/+7/7v/s/+z/6//r/+v/6//r/+v/7P/s/+7/7v/w//D/8//z//f/9//7//v//////wMAAwAGAAYACgAKAA0ADQAPAA8AEQARABMAEwATABMAEwATABIAEgAQABAADQANAAoACgAHAAcAAwADAAAAAAD8//z/+f/5//X/9f/y//L/8P/w/+//7//u/+7/7v/u/+7/7v/v/+//8f/x//P/8//2//b/+f/5//3//f8AAAAAAwADAAYABgAJAAkACwALAA0ADQAPAA8AEAAQABAAEAAQABAADgAOAA0ADQAKAAoACAAIAAUABQACAAIA//////z//P/5//n/9v/2//T/9P/y//L/8f/x//D/8P/w//D/8f/x//L/8v/0//T/9v/2//j/+P/7//v//v/+/wEAAQADAAMABgAGAAgACAAKAAoADAAMAA0ADQAOAA4ADgAOAA0ADQAMAAwACgAKAAgACAAGAAYAAwADAAEAAQD+//7//P/8//n/+f/3//f/9f/1//T/9P/z//P/8//z//P/8//z//P/9P/0//b/9v/4//j/+v/6//z//P//////AQABAAMAAwAFAAUABwAHAAkACQAKAAoACwALAAsACwALAAsACgAKAAkACQAIAAgABgAGAAQABAACAAIAAAAAAP7//v/8//z/+v/6//j/+P/3//f/9v/2//X/9f/1//X/9f/1//X/9f/2//b/+P/4//n/+f/7//v//f/9//////8BAAEAAwADAAUABQAGAAYACAAIAAkACQAKAAoACgAKAAkACQAJAAkACAAIAAYABgAFAAUAAwADAAEAAQAAAAAA/v/+//z//P/6//r/+f/5//j/+P/3//f/9v/2//b/9v/2//b/9//3//j/+P/5//n/+//7//3//f/+//7/AAAAAAIAAgADAAMABQAFAAYABgAHAAcACAAIAAgACAAIAAgACAAIAAcABwAGAAYABQAFAAQABAACAAIAAQABAP/////9//3//P/8//r/+v/5//n/+f/5//j/+P/4//j/+P/4//j/+P/4//j/+f/5//v/+//8//z//f/9//////8AAAAAAgACAAMAAwAEAAQABQAFAAYABgAHAAcABwAHAAcABwAGAAYABQAFAAUABQAEAAQAAwADAAEAAQAAAAAA//////3//f/8//z/+//7//r/+v/5//n/+f/5//n/+f/5//n/+f/5//r/+v/7//v//P/8//3//f/+//7//////wEAAQACAAIAAwADAAQABAAFAAUABQAFAAYABgAGAAYABgAGAAUABQAEAAQABAAEAAMAAwACAAIAAQABAAAAAAD+//7//f/9//z//P/7//v/+//7//r/+v/6//r/+v/6//r/+v/6//r/+//7//z//P/9//3//v/+//////8AAAAAAQABAAIAAgADAAMAAwADAAQABAAFAAUABQAFAAUABQAFAAUABAAEAAQABAADAAMAAgACAAEAAQAAAAAA//////7//v/9//3//P/8//z//P/7//v/+//7//v/+//7//v/+//7//v/+//8//z//f/9//3//f/+//7//////wAAAAABAAEAAgACAAIAAgADAAMABAAEAAQABAAEAAQABAAEAAQABAADAAMAAwADAAIAAgABAAEAAQABAAAAAAD//////v/+//3//f/9//3//P/8//z//P/8//z//P/8//z//P/8//z//P/8//3//f/9//3//v/+////////////AAAAAAEAAQABAAEAAgACAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACAAIAAgACAAEAAQAAAAAAAAAAAP/////+//7//v/+//3//f/9//3//P/8//z//P/8//z//P/8//z//P/9//3//f/9//7//v/+//7//////wAAAAAAAAAAAQABAAEAAQACAAIAAgACAAMAAwADAAMAAwADAAMAAwACAAIAAgACAAIAAgABAAEAAQABAAAAAAD///////////7//v/+//7//f/9//3//f/9//3//f/9//3//f/9//3//f/9//3//f/+//7//v/+////////////AAAAAAAAAAABAAEAAQABAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAQABAAEAAQAAAAAAAAAAAP///////////v/+//7//v/9//3//f/9//3//f/9//3//f/9//3//f/9//3//v/+//7//v/+//7///////////8AAAAAAAAAAAEAAQABAAEAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAQABAAEAAQABAAEAAAAAAAAAAAD////////////////+//7//v/+//7//v/9//3//f/9//3//f/9//3//v/+//7//v/+//7//v/+////////////AAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAP////////////////7//v/+//7//v/+//7//v/+//7//v/+//7//v/+//7//v/+//7//v////////////////8AAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAAAAAAAAAAAAAAAA/////////////////v/+//7//v/+//7//v/+//7//v/+//7//v/+//7//v/+//7//////////////////////wAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAD//////////////////////v/+//7//v/+//7//v/+//7//v/+//7//v/+//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAA///////////////////////////+//7//v/+//7//v/+//7//v/+//7//v///////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD////////////////////////////////+//7//v/+//7//v//////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////////////////////////Y3VlIBwAAAABAAAAAQAAAAAAAABkYXRhAAAAAAAAAAAAAAAATElTVB4AAABhZHRsbGFibBIAAAABAAAAVGVtcG86IDEyMC4wAABiZXh0WwIAAAD1aaAAAAAAn7iildUOpZXVDqWVAAAAAAjB/79FAAAAQHDhOwAAAAAA8M88AACc/wIAAA6pOwMCQHDhO6XWhpcAAAAAAQAAADjB/7+gXOE7AADgO6A06EOgXOE7LA6llQgeAACAwO87GAAAAACkkKAAEAAAAAAAAAgeAABr9kIBoDThO1AAAAB4wf+/lfZCAThQ2AKgNOE79LHhO0UAAADoxv+/AAAAAABQ2AKuDaWVdMH/v4SiRCVr9kIBFIOGlwBQ2AIAAAAAuMH/v22DhpcAUNgCoDThO8jB/78IHuE7AADgOwEAAAAApJCgAQAAADhQ2AKAwO87a/ZCAQvmswJMb2dpYyBQcm8A/7/28KsClML/v1AAAABQAAAAlfZCAQBQ2AIAAAAAWML/MTAwMDDbwf+/BQAAAABQ2AKwd+I7MjAxMi0wNC0yMzE5OjQ3OjI4SyaUCQAAAAABAAAAAAAAUNgCAAAAADjC/78JqKsClML/v1AAAABQAAAA5Mn/v5zJ/79FVkFXWML/v4bwqwKUwv+/UAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMSVNUVgAAAElORk9JUFJECgAAAGRldl90b25lcwBJQVJUCgAAAFJDUCBUb25lcwBJQ01UFwAAAHJjcHRvbmVzLmNvbS9kZXZfdG9uZXMAAElDUkQFAAAAMjAxNAAAaWQzIJ4AAABJRDMDAAAAAAEUVEFMQgAAABcAAAH//mQAZQB2AF8AdABvAG4AZQBzAAAAVFlFUgAAAAYAAAAyMDE0AFRQRTEAAAAXAAAB//5SAEMAUAAgAFQAbwBuAGUAcwAAAENPTU0AAAA4AAABZW5n//4AAP/+cgBjAHAAdABvAG4AZQBzAC4AYwBvAG0ALwBkAGUAdgBfAHQAbwBuAGUAcwAAAExHV1YgAAAAkgsAANqASNC4SLtF1iroGPMN+gb9A/8B/wH/Af8B/wE=",classicButtonHoverString="data:audio/wav;base64,UklGRnZNAABXQVZFZm10IBAAAAABAAIARKwAABCxAgAEABAAZGF0YaRKAAAAAAAAGQASAD8AMwBmAFoAhAB9AJAAkwCCAJUAWgB/ABcATQDD/wQAZf+p/wv/Rv++/uf+iv6W/nT+X/6C/kv+tP5i/gf/p/52/xn/+v+y/4sAaAAeASsBpAHnAQ0CgwJJAuMCSALyAgECowJ0AfMBqgDwALX/tv+x/mn+vv00/fr8QfyC/LT7afym+7j8Hvxq/RT9cv5t/rX/AwAUAakBZwIqA4YDVwRIBAUFkQQZBVEEjASJA2wDTALZAboAAQD8/hv+RP1e/MT7Afuq+iz6G/r5+Sr6bvra+n77GfwJ/cf93/65/80AvwGhAqkDLgRLBVYFfgYDBiUHLgYuB9cFlgYNBW4F5QPWA4MC/wEOASQAs/+C/p3+VP3x/cn8y/32/DD+0/0P/zn/QADlAIgBhAKjArwDTgNBBE4D3wOFAokC9ABkAMr+wP1V/Az7APrI+Dz4avds90z31veT+I35LPts/MT+GgDYAg4EywavBwAKagrzC84LUQyeCwML2gksCLwGKQSsAoD/Nv7M+ur5p/ZT9pLz2vPr8cTy4PEn83Tz9fR49vP3lfrM+1D/EAAbBEIEYwjpB6MLmgp2DQoMnw0RDBgMrwoMCQ8I2AR+BAMAaAAp+0j88Pah+O7z6/WP8oP0CPOa9EX1KPb5+Pn4pf2v/LQC3QCKBwkFlgvECGIOqwufD3INKg/oDREN+wyMCbYK+wRKB97/BwPA+lr+K/a6+ZTynPVI8GTyc+9d8BTwuO8J8oLwFPWs8uL4BPYV/T/6UAH+/jsF1wONCF0IAQsfDF4MsA55DLUPQAvzDsEIZAwvBTsI5ADmAlD8AP319zv3UPRL8tLx0e7J8EHtWPHV7XPzgvDe9vb0Qvuu+i0AAgEpBT4HtgmxDFYNuRCaD9oSMBDIEvcOgRAHDEgMqwefBlcCMACX/Lj5B/fz80fyie/h7vjsQe2G7JrtN+7m79Dx5vPa9in5ufwg/8ECMwVSCNAK6Ax4DyoQxBLmEWoUDhJDFLkQVBIXDtMOdwokCkAG0wTqAYX/8/3j+tL6jffu+Pz1i/hv9rn51fhK/MX80P+SAa8DXQYwBzcKlwlGDEMK9AvSCBIJPAXjA9//JP1++ej1HPNv79jt7+q56lnpfOou62/tXvBc80f4iPvLAcwEfwvHDe0TGhXSGaoZTBzLGtEaMhjGFXIS3w1fCjcEGQEe+t335/DR77Hp5elK5bDmI+Ry5kHmEelT6yXurvIJ9W376vyBBN8E1QwDDHETjxGYF/IU2BjeFR0XTBSlEnsQBgzpChgEQgTe+1X9aPT49rTu9PGF6+nuQesz7t7t1+/u8ovzsvnD+EQB0v6vCAIFEg+mCrUTLA8aFioSCRZXE5ITlxIBD/gP4Ai0C+EBNQbM+gYAX/TH+TnvD/TC61/vLeoZ7Hbqfep17Kvq2e+b7ET0J/BL+QL1g/7J+ooD/QADCBYHmAuADPwNpRDqDvsSOw4gE+wL7xAvCJAMWwN6BvL9Yv+M+CL4xPOg8Szwr+w07vHpG+7F6eXvMexZ8+XwFvhM95r9nf5XA/4FvAiYDDkNqhFMEJwUkxEWFd8QDRM/DskO+wnXCIcE8QF1/ub6Z/iD9AXzf+/t7mbsl+yI60/s7ewc7lvwyfFY9en2Qfvp/GEBKgMQBxAJxQsUDiQPyhH+EOQTURE1FDYQuhLgDaIPngpHC8wGMQbYAv0AMv9Q/EL8xPhi+tX2z/nF9pn6kviZ/OX7d/8pAK4ClgSnBVAIwweOCngIuQppB5EIgARCBAQAY/6N+t339fTS8TXwXe017WfrpOx57Nfum/Cu80/3l/qm/54CYwiWCjkQTBH/FcEV4RhSF3MYyxXHFGwRXw7YCiIG+wIv/eH6s/SS88Dt6O0g6X/qUeeg6XToS+tT7DbvbvLj9AL6n/slAqMC2wkjCT4Qag6RFOwRYBZUE4AVjRIZErwPnQxBC70FpwVW/pb/WffG+bDx6/Qd7qDxFu1J8LXuCPGy8rPzcvji9yr/BP3/BXsCGgysB8gQDAyGEzMPEBTVEGMSyxC2Dg8PeQnEC0YDNAfQ/NQBy/Yu/NLx0PZS7jryguzQ7mrs2Ozl7Xjsr/C07XL0dfDO+ID0aP2C+egBEv//BbYEYwnnCcwLGA78DMYQxwyHESILKBAtCL0MMASfB5P/ZwHT+tX6ePa39P/y0O/T8L3sN/Do60Dxa+3M8xbxlPd19jD83PwsAYsDCQa4CUcKrQ5uDdYRHA/UEhcPjxFcDTkOGQpECagFUQN9ABP9IPs/9yH2e/IP8krvY+/97XDure5X7zfx//E89Rr2O/oy+5f/vQC3BC4GHgkHC20M2w50DlgRJA9GEo4OkhHYDFAPQArECxAHVwejA5QCVgAR/or9YfqP+wL4p/pG9+36Q/hP/MT6jf5V/j8BUgLmA/wF+wWWCAAHiAmWBn0IlwR4BSQB1wCq/E/71/fO9XrzUvFm8L7uQ++p7nTwR/H981L2fvkU/TsAiQQ2B5ALZA0aEdcRWBTqE9cUVxOIEjwQxA0PCzoHjQTU/5b9kPgP913yvfH17Tbu0OvN7B3sle3B7mbwYvPe9Gv5c/ocAHwAqQZIBkcMMQtQELMOVhJ0ECgSVhDdD2kOxAv2CmMGagZlAE4Bh/o8/Ij1y/cR8oX0lvDO8knx2fIG9Jb0ZPi+98f94/t4A38AxAgLBQcNDQnFDyAMthD9DcgPeg4cDYYNBgkyC/4DrQeX/ksDafl7/vz0tfmz8Wz1yu8C8k/vwe8v8NjuOPJd7yX1SfGs+Hb0hPyl+GUAf/0SBJkCRQd7B74JoQs5C4sOgQvMD3wKJQ83CJUM5gRdCOEA/QKZ/CD9hvh+9yH1yvLN8pnv0/FS7lHyHe839OHxUPdF9kr7wPu+/6oBPQRRB1AIDAyCC0gPbg2kENEN9w+XDF8N4gk5Cf8FEQRaAYf+cvxB+c731fT188LxWfFT8EzwqPDx8KXyOPMA9tn2SPpn+/X+YQCAA0MFdAeXCXsK/wxlDDUPJA0QEMcMhA9wC6YNUQmsCqkG7wbAA94C4wD2/mH+sPuE/HT5hvuQ+If7HvmF/P/6UP7e/ZYAOgHrAnQE3QTvBvwFHwjwBawHigSCBdYB3AEk/kD9+/lq+Af2NPQC823xh/Gx8ADyS/KJ9CH25fiw+4j+JAKiBIQISwrWDakOUREVEXQSOxEcERwPfg0QCyMIrAXLAa3/Vvvb+Zj16/RC8Wbxyu6k72zuxu8g8Lbxq/Ms9Zn4vvlQ/uH+IAT/A1YJgwhVDfMLrA/0DR4QWg6vDikNlguRCjwH6AYtAp8CB/01/nD4Lvr99AD3IfMP9RrzkvTf9JL1LPjk94n8N/tjAR7/HwYlAycK2wYFDd8JZQ7nCyQOwQxMDFYMGQmoCukE2Ac4ACgEj/v0/2v3qPsx9K/3JPJn9F3xHPLT8f7wX/Mm8cb1kfLE+CH1Evyh+HP/xvywAjcBlAWPBeoHYAl6CTwMEQrADY0JpA3qB9cLSAWCCOsBBQQx/vD+hvrm+Vf3ivUF9Wfy1vPf8O3zIvFC9SHzrfec9uj6H/uh/iQAewIRBRcGVgkSCXYMEwsSDtYL/Q0+C0EMVwkbCVUG9gSMAlMAYf66+0f6r/ez9qL0DvTi8qvymPK38sHzNfQw9vv2k/m2+n79+v59AVQDJQVVByAIowo2CvUMTgsdDmgLBg6cCrgMEglaCvoGNAePBKQDEgIVAMb/9fzo/af6sPx5+Ub8kPmx/OP62f0z/YX/GQBiAQ4DFQODBT8E9QaPBAYH0QORBf0BuQJA/9/++/ud+rP4sfb+9dLzZPSa8kv0Y/Pe9S72BPmm+l/9JABWAtIFKwfTCiQLaA6nDQsQWQ6EDyIN6Aw3CpwIBQZBAyMBk/03/Ff43/cv9Jn0lPG78sTwa/LH8aPzc/Q09m/4yfk//fj9TgJEAgEHMwbKClIJOw1SCxEO/gtBDVML7QpuCWcHkQYhAxgDpP5t/3/6/fs69y75QvVT99f0pfYC9i/3kfja+CX8aPtCAIf+ZATZAQcIAwW/CrIHPAykCVYMqgoMC6YKiAiSCRUFfwcZAZgECP0iAVL5d/1W9vD5UvTl9mfznvSU81HzvfQd87H2C/Q0+Qf2Bvzm+O3+aPy3AT8AOwQSBE4GhQfKBzwKhAjeC1oIKgxABwQLQQV8CIsC2ARj/4QAJPwI/C758vfd9sT0fvXj8jz1ifIf9sHzCvhj9sX6GfoE/nL+dAHsAr0EAgeIBzsKgwk3DG8KuQwqCrULuQhQCUMG3AUPA8YBdf+O/df7sfma+J32HPap9Kn0BfRv9Lj0d/Wf9qP3dPm1+tr8Uf5pABcCvgOoBYkGrwiSCO8KvQk6DAUKeAx7CakLPQjkCXMGXAdRBFkEEAIzAe3/R/4j/u775vx1+mD8CPqj/LX6oP1Y/Cv/qP78AD0BvQKaAxQESgWvBOgFUAQ/BeQCUwOHAGEAiP3d/Fv6W/mL9372nfXX9P30yfTh9XX2Rfiv+eT7Bf5BANACuQRWB6AI6QpjCwMNmwxZDSIM3gsRCs0IuwaZBJwC2v9D/jj7P/pK9wb3ivTu9D7zJPSA8670O/Vx9jT4MPkL/Jn8SABLAGkE3AP0B+oGfwokCckLTwqyC1EKSQo0CcAHHQdsBFEEtAAkAQ399v3s+Sf7uPcL+bv24/cS9833qvjF+EX7ofqI/iT9CQIBAFsF5wIXCIsF6wmoB6MKCwknCo8JhQgiCe0FxgeqApUFHP/EAqb7lf+h+Fn8VvZe+e306vZ89Dj1/vR19Fn2uPRj+AL25/o++Kv9Oft3ALD+FANQAlIFvAUBB5kI9wePChIIWAtIB88KowX3CEkDAQZ4AEQCgP0z/rT6Sfpp+AT35PbF9Fb20/PM9kz0Ofgg9nD6Evk2/cj8QQDRAEUDtQT2Bf8HBghLCjgJUgtiCfcKfAhLCZsGhwb2AwgD1QA7/439k/t6+n/49vdY9kr2V/Ws9ZD1L/bt9sX3Ovk/+ib8U/1T/6sAZALxAw4F1gYUBxsJWQiRCtEIHQuHCLUKkwdlCRcGVgdDBMIERwL1AVwAQv+2/vn8hf1h++78q/oD/ez6vP0S/Pf+5/16ABsA/gFHAjcDAQTgA+sEvwPGBLwCgAPiAD4Bav5U/rP7O/st+YL4Tveu9nr2Jvbp9hv3p/h9+YX7+vwh/w4B+AIXBXQGeQgRCbUKbwp3C14KpQrtCGAIWAb+BAMD/QBn/+38/PtX+Sn5rfY79zn1WfYb9Yv2S/a+95r4xvm8+2b8UP9S/+UCPQIRBtkEdwjiBtUJIwgMCoEIHwn1BzEHkwaCBIUEZwEIAkD+Zf9x++f8WPnc+jr4gvk++AD5XPlk+Wf7mvoV/nj8DQHG/vADQwFkBqwDIAjCBfEIUAe9CCsIiwc2CH4FZwfTAskF1/+AA+H8xAA9+t79KvgV+832rfg69uH2bfbg9Vf3xvXa+J320Ppd+A/94Pps/+39uwE/AdIDfgSEBVEHqQZkCRkHbQrABj8KnAXUCMQDTgZoAfUCyf4w/zL8dPvz+TP4UPjT9X73nfSV97n0kvgj9lf6rviu/Ar8W//R/xcCjwObBNUGowY8CfIHfApeCHAK1gcbCWUGrgY0BHkDfgHi/4/+Wfy6+0r5VPkR96b37fXj9vn1I/cp91z4Sfln+g78Bv0c/+z/EwLNAqYEZwWWBoIHxQf3CCoIrAnTB5cJ3Qa6CHAFLQe5AxkF6wG1AjUASQDI/hv+yP1t/FH9dftw/U/7GP76+yv/Vv12ACf/uwEZAb8C0QJJA/QDMAM7BFwChwPYAOIBzv6G/4T80/xZ+kL6rPhP+ND3ZPf998D3QPlq+X37LPxr/p3/owE0A6wEYgYUB6oIggi3CccIZQngB8MH+AUSBVkDugFmADb+fv0B+//6hfgq+Qn3KPiu9gf4dve/+Dz5M/rE+zT8vf6N/ssB/QCQBEUDuwYoBRAIdwZyCBIH4AfrBnIGCgZaBIsE2QGZAjj/agDK/Dz+3PpS/K755/pm+Sj6C/or+oD77PqQ/VD88/8r/l8CRwCJBGoCMwZbBC8H5wVfB+YGvQY3B1gFygZTA6EF6ADSA1j+iwHo+wX/1PmB/Er4QPpn93j4OPdZ97r3APfd+Hv3gvrG+IP8x/q2/lP97gAuAP4CEgO7BK8F+QW6B5IG7ghvBh0JjQU0CP0DSgbqAZIDj/9eADL9Ev0Y+xD6f/m295n4TPaA+AD2Nvnb9qL6xPiZ/ID74/65/kQBDwJ6AxgFTwV5B44G5wgUBzQJzwZbCMYFewYVBNYD6gG/AHz/mv0O/cf65fqd+EH5W/dU+CH3O/ju9/34nPmD+u77nvyU/hT/OQGjAZEDCgRkBRcGjgaeBwYHggjWBrQIGAYuCO8E/QaEAz8F/wElA4oA6wBL/9X+Yf4i/eT9Cvzg/a37Uf4T/CD/Jf0lALP+LwF3AA0CHwKPAlcDjwLbA/oBhAPSAE8CM/9kAFX9Df6A+7H7Bfq9+Sv5lvgm+YH4CvqW+cb7t/sl/pL+1AC3AXEDpgSZBesG/QYyCG8HTQjiBj0HdQUtBV4DbwLuAGr/dv6J/EP8LfqR+p34hvkA+DT5Yfia+an5pvqr+zb8Jv4h/soAMgBGAzQCTQXxA6kGPgU3B/oF8wYWBu0FkgVMBH4EQwL5Ag4ALgHt/Uv/I/yJ/en6Hvxm+jf7qvrw+qn7Uvs8/U78L//C/UEBhP8zA2ABywQiA9sFnQREBqcF+QUkBv4EAgZsAzsFbgHfAzv/CQIO/en/Hvuy/Zr5n/uh+OP5Rfir+Ij4Gvhi+UD4uvoj+XD8s/pd/s/8WQBI/zsC4QHcA1YEFAVfBsIFuwfMBTYIKwW4B+wDRwYxAgwELgBLARz+V/45/I37ufpA+cv5uPeG+SL38fmT9/76+fiM/Cz7b/7n/XYA1gBsAp4DHQTsBVsFdQcDBgoI/wWbB00FOwYABBwEOgKFASsAyv4N/kL8Gfw5+or66/iQ+Xz4Sfnt+L35Jvri+vf7lPwc/qL+UgDWAFYC9gL2A9MEFgVJBqkFOge3BZcHVAVWB5kEfQaiAx8FjAJfA3IBcAFsAIr/kP/p/fT+wvyl/jr8qf5h/Pz+K/2I/3P+MAAAANMAigFOAcUCgAFwA1EBXwO2AIUCtf/+AG3+AP8L/eL8zPsC++r6vvmZ+lv59/r8+QT8lPuq/ej9sP+cAM8BQAO0A2sFGwXLBs4FLge5BYsG4wT+BHADxgKVAToAlf+3/a/9kvsY/Az6+vpP+Wn6Z/lv+kn6CPvT+yP81f2j/QwAY/80AjMBCwTlAlwFSwQEBj8F/AWoBU0FfwUSBMgEdQKYA6cADgLc/lMASP2V/h38Cv1/+9/7f/s4+xv8LPs5/bj7s/7O/FsASv78AQYAaAPNAXUEbgMDBb4EAQWWBWwE2gVSA3kFzQF4BAcA6QIw/vIAdvzG/gX7oPz9+bj6dflD+XX5bfj8+VD4+fr1+FT8Ufru/UT8pP+i/lUBLQHdAqEDGwS5BesEMQcyBdgH4QSQB/oDXAaUAl8E1wDXAfn+FP8z/Wz8t/sz+rX6qvhH+gD4dvpE+Dr7bPl7/E/7FP6y/dj/TACdAc0CMwPrBHEEZgY1BRAHZwXXBv4EyAUCBAgEjQLSAcYAbv/d/ij9Cf1G+4H7//l2+nb5B/qx+UX6ofop+xv8mPzr/Wr+0/9pAJsBYgIVAyYEJQSOBcAEfgboBOcGrgTBBicEDwZpA+IEjQJZA6cBngHJAOX/BgBj/mz/R/0L/7f86v7C/Ar/Yv1h/3j+2f/W/1sAOQHLAGACDAERAwcBHgOuAHsCAQA3AQ//gP/4/Zz96/zf+xj8m/qr+xL6xvtq+nL8ofuj/Yv9NP/e/+4AOQKTAj8E5AOhBbAELwbbBNcFYgSsBFgD4ALmAboAQQCN/p7+pvwv/UD7Gfx/+nP7c/pI+xD7mvs+/F381v2C/aL/6f5rAXIA+gLyASUERAPNBEME6ATUBHwE5wScA38EaAKjAwEBbAKT//oAQv50/zn9CP6T/OD8Zfwg/LH83vtr/SL8ef7h/Lr/Bf4MAW//RgL0AEYDbALvA68DKwSVBO0DBgU4A+0EGwJCBLEAEQMg/3QBj/2U/yj8o/0M+9f7V/pk+hv6dvld+iz5E/uS+S78oPqQ/T/8Gf9E/qcAegAbAqkCVAORBDAE+AWYBLEGewSkBtYDzgW5AkcEQwE9AqD/7v8C/qX9nPyl+5X7LfoM+2f5D/tq+Zr7L/qZ/Jv77v1//XP/oP/+AL0BaQKXA48D9gRSBLEFmwSzBWMEAQWrA7UDhwL8ARcBDgCB/yn+9P2J/J78Xvun+8r6MPvW+kX7ePvk+5P8+/z8/Wj+gP8DAPMAoAEsAhgDFQNJBKIDHQXTA4QFtgN6BVsD/QTTAhwEMALsAoEBkQHVAC8AOADz/rf/A/5e/379NP9z/T3/3v1x/6v+w/+1/x8AzQBxAMABpABcAqYAgAJvAB0C/P87AVr/+f+g/or+7f0r/WL9G/wc/ZD7Lv2o+579afxg/rj9Xf9g/3MAIAF6AbICTgLZA9QCawT8AlkExAKqAzsCfQJ0AQUBjgB8/6P/GP7N/gf9G/5m/Jn9P/xR/Y/8Rf1G/Xz9Sf70/XX/pv6oAIb/vAGAAJMCegEZA1sCRAMGAxcDZwOcAm8D5gEYAwgBbQIbAH4BOv9oAHz+Sf/4/Un+vP2F/cz9Gf0l/hD9uf5o/XX/Fv5FAAT/EAESAMEBJQFDAh8ChQLjAn4CXAMrAnoDkQE0A8IAjQLQ/5EB1f5aAOn9B/8j/bz9lfyd/Ez8zftO/Gb7nvx4+zP9Avz//fn88P5F/vD/wv/rAEUByQGmAnYCuAPcAl0E7wJ+BKgCGAQNAjYDLgHxASYAcQAV/+P+Gv52/VT9VPzb/KD7ufxt+/T8wPuA/Y/8Tv7A/UP/L/9HAK4APgERAhACKQOmAtYD8QIBBOkCpwOMAtYC5gGtAQgBUwAIAPf+Bf/F/R3+5Pxt/W38Cf1s/P/82PxP/Z797/2b/s3+q//O/6wA2QCAAdABFwKfAmoCNQN8AocDWAKQAw0CTgOrAcoCQQEPAtoANAF+AFAAMQCB//X/3f7O/3z+uv9n/rr/n/7L/xf/5v+6/wYAagAgAAkBLgB1ASsAmQEOAGgB2P/kAIv/HwAw/zf/1P5R/oj+lv1d/ir9X/4k/ZT+if33/k3+gf9T/x0AcAC5AHkBPQFFApgBtwK/AcICrwFnAmwBugEAAdYAfADh//L///5v/03+//7e/an+u/1z/uD9YP5E/nP+2P6u/on/Dv9AAI7/5wAjAG4BvwDIAVEB7wHJAeIBGQKoATQCSQEWAs4AvwFGADgBvv+QAET/2f/m/iv/rv6c/qD+P/6//h7+Bf89/mn/lv7h/yD/YADH/9oAeQA+ASEBgQGuAZgBDwJ+ATcCMQEgArgAyAEgADYBeP94ANL+o/9A/sz+0P0M/o79eP1//SL9pf0W/f39WP1+/uP9HP+p/sn/lv90AJEADwF9AYsBPwLZAb4C8AHrAssBvgJtATwC4gB2ATkAhACH/4P/4v6Q/lz+yf0G/kX95/0R/QT+M/1W/qT90v5V/mv/M/8MACIAqAAFAS8BxAGSAUQCyQF3As8BWAKkAewBSQFCAcoAcwAzAJr/lP/S/v/+Nv6I/tf9PP7A/SX+7/1F/ln+mv7r/hn/kf+z/zMAWQDAAPgAKwGCAW8B7QGMATEChgFIAmcBMQI1Ae4B+QCFAbkAAQF9AHEARQDl/xYAcf/y/yP/2f8D/83/FP/O/1L/1v+w/+T/HAD0/4IAAADPAAMA8AD6/+AA4v+cAL3/LQCM/6T/WP8Y/yr/n/4N/1L+B/8+/iD/a/5V/9H+o/9k////CgBbAKoArAAuAeYAgQECAZsB/gB5AdwAJQGgAK0AVQAlAAYAov+5/zX/dv/p/kL/xf4c/8n+C//x/g3/N/8o/5D/Wf/y/57/UwD1/6cAUwDnALAAEAECAR0BQAEQAWIB6wBfAbEAOQFnAPIAFACPAMD/HAB2/6f/Pv8+/x//8P4d/8j+Nv/I/mr/8v6w/z//AwCm/1gAGgClAI0A4ADzAAEBQgEAAW0B3AByAZcASwE4APoAy/+IAFr////z/nD/of7o/mv+ev5Y/i/+aP4V/pr+Lv7p/nn+Tv/v/r//hP80ACcAoADIAPoAUQE3AbMBUgHgAUMB0wENAY4BtQAZAUcAgwDO/9//W/9A//n+t/61/lX+l/4k/qD+J/7R/l7+IP/A/oX/Q//z/9j/XwBtAL0A7wAEAVIBLQGHATQBiQEZAVgB3gD7AIoAgAAmAPj/vP9z/1n/A/8K/7X+1v6T/sb+nv7b/tH+E/8k/2f/if/P//H/PQBRAKYAoAABAdcARgH1AG4B+wB7Ae8AaQHUADsBsQD2AIgAoABfAEMAOADp/xYAnf/5/2n/5f9S/9n/XP/W/4P/2f/A/+L/CADt/04A+P+FAP3/ogD8/54A8f95ANv/NQC+/9z/nP9+/37/KP9n/+v+X//S/mv/4v6J/xv/uP90//L/3/8tAEsAYwCpAIsA6gCfAAgBnwD/AIsA1ABmAJAAOAA+AAQA6v/U/6H/q/9q/4v/S/92/0X/a/9W/23/e/98/63/mf/m/8H/IAD1/1UALgCAAGYAnQCaAKoAwwCoANsAlwDfAHkAzwBQAKgAHgBxAOr/LQC5/+T/kP+f/3X/af9p/0f/cf8+/4n/UP+w/3r/4f+2/xcA/P9MAEUAeACIAJYAvgChAN8AlQDpAHMA1wA+AKwA+/9qALP/GABt/77/Mf9m/wb/Gv/w/uP+8f7J/gn/zf41//P+c/81/7v/jv8HAPX/UgBdAJIAuwDCAAMB3AAsAdsAMAHAAA8BjgDOAEoAdAD9/w4Ar/+n/2z/S/84/wX/Hf/b/hr/0f4y/+j+X/8b/5z/Zv/i/8D/KgAeAGoAeACeAMIAvwDyAMoAAwG+APIAnADCAGoAegAqACUA5v/M/6P/e/9s/z7/Rv8Z/zX/Ev88/yf/W/9T/47/kP/O/9P/FAAVAFkATwCWAHsAxgCYAOUApADxAKMA6gCVANEAgACoAGQAcwBHADkAKgD//w8AzP/3/6b/5v+T/9v/lP/X/6j/2f/L/+H/+P/q/yUA9P9LAPz/YgD//2UA+v9SAO7/KwDc//X/xv+5/7D/gv+e/1b/lf9B/5n/Rv+p/2X/xv+Y/+z/2v8VAB4AOgBcAFcAiQBnAKEAagCiAF4AjQBHAGcAKAA1AAgAAwDo/9P/zP+u/7j/lv+q/47/o/+U/6P/pf+q/8D/uf/i/9D/BQDu/ycAEgBEADcAWQBbAGYAeABpAI0AYwCVAFQAjwA9AHsAIABaAP//MADe/wAAwP/R/6j/qP+b/4r/mv99/6X/gP+8/5X/3P+4/wEA5v8oABcASQBIAGIAcQBuAI8AagCbAFYAlwA0AIAACABXANb/IwCl/+b/ev+r/1z/df9L/0z/Sv81/1r/Mv94/0T/oP9r/9D/ov8DAOT/NAApAF8AagB/AJ8AkQDBAJEAzACAAL8AXwCaADEAZAD8/yMAx//f/5j/oP91/23/Yf9L/2H/PP9y/0L/k/9a/7//g//z/7j/JQDy/1EALQB0AGMAigCKAI8AoQCFAKMAbACRAEcAbQAbADsA7f8EAMH/zP+c/53/hP96/3r/aP+A/2j/lf96/7f/mf/h/8D/DwDr/zwAFQBhADkAfwBVAJEAZwCVAG8AjwBtAH0AYwBjAFQAQgBAACAAKQD//xMA4v/+/8z/7f/B/+D/wf/a/8z/2P/f/97/9//m/xEA8P8nAPv/NgABADsABAA0AAAAIwD1/wkA5v/q/9T/yv/E/7H/uf+g/7b/nP+8/6b/zf+7/+T/2P8BAPn/HQAZADUAMgBFAEIATABHAEcAQgA6ADQAJQAhAA0ACwD1//f/4P/n/9D/3P/G/9b/wf/U/8L/1//H/9z/0v/k/+H/6//0//P/CwD7/yIAAgA4AAoASgASAFgAGQBeACEAWwAmAFAAKAA9ACUAJAAdAAgAEgDr/wQA0f/1/77/6f+z/+H/tP/e/7//4//T/+//7v8AAAwAFAApACcAQwA2AFUAQABeAEAAXQA3AFAAIwA6AAkAHADp//r/x//W/6b/tf+K/5r/dv+G/23/ff9w/4H/f/+Q/5v/qf/B/8v/7//z/x8AHABMAEIAcQBgAIkAcwCQAHgAhABvAGgAWgA+ADwACwAYANf/8/+o/9H/hf+1/3D/ov9u/5n/ff+b/5v/p//C/73/8P/b/x0A//9FACUAYwBJAHQAZQB3AHYAbQB5AFcAbAA4AFAAFAAoAO//+f/O/8j/s/+c/6L/ev+d/2n/o/9o/7T/ef/O/5r/7v/H/w8A+P8vACoASwBVAGMAdQBxAIgAdwCLAHQAgQBnAGkAUwBIADoAIgAcAPz////a/+T/v//O/63/v/+o/7v/rf+//73/y//T/9z/7f/v/wYAAwAbABMAKQAdACwAIQAnAB4AFwAUAAIABgDq//f/0//o/8L/3f+5/9b/uv/V/8b/2P/Y/9//8P/p/wkA8/8gAP3/MQAFADsACwA+AA4AOQAQAC0AEAAeAA8ADgANAP7/CwDv/wgA4v8EANf//v/Q//n/zP/0/83/7//U/+3/3v/t/+7/7/8AAPT/EgD8/yQABQAzAA8APQAXAEIAHABAAB0AOQAaACoAFAAYAAoAAwABAO7/+P/b//L/zv/v/8f/8f/I//j/0P8BAN7/DADx/xcABgAfABoAJAArACMANgAcADwAEAA5AAAALgDs/x4A2P8JAMX/8f+1/9r/qf/E/6T/tf+n/63/sP+t/8H/t//Y/8j/8//f/xEA+/8uABYARQAuAFUAPwBaAEkAVQBKAEQAQgArADMADAAgAOv/CgDN//X/tv/j/6f/0/+k/8n/q//F/73/xv/V/87/8f/b/w4A7v8pAAUAPQAcAEsAMgBPAEIASgBJAD4ARwAqADsAEwAmAPv/CwDl/+z/0v/O/8X/tv/A/6b/wf+i/8z/qf/c/7v/8f/V/wgA9P8eABQAMgAxAEIARgBNAFMAUQBWAE4AUABGAEIAOAAuACYAFwASAP7//f/p/+v/2f/c/83/0//K/8//zv/S/9f/2v/m/+f/9//1/wcAAwAVAA8AHQAWAB8AGgAbABYAEAAPAAEABADv//j/3//t/9P/5P/O/+D/0P/f/9n/4//o/+r/+v/z/w0A+/8dAAIAKQAHAC8ACAAvAAgAKQAGAB8AAgATAAAABgD///j////u/wEA5f8CAN//BADa/wUA2f8DANv/AQDf//7/5v/6//H/9//9//X/CgD3/xcA+v8iAP//KgAFAC8ADAAvABEAKwAUACEAFQAUABIABQANAPX/BwDn/wAA2//5/9X/8//V//D/2v/v/+X/8v/y//f/AgD9/xEABQAeAAsAJwAPACwAEAArAA4AJAAJABoAAQAKAPb/+f/q/+n/3v/Z/9L/zP/J/8T/xf/C/8b/xv/N/9D/3P/g//D/8/8HAAcAIAAZADYAKQBHADIATwA2AE4AMwBCACwALQAfABEAEQDz/wIA1P/z/7v/5v+p/93/o//X/6f/1f+3/9f/z//e/+7/6v8OAPr/LQALAEYAHABXACsAXAA1AFgANwBIADEAMQAlABMAEAD0//n/1//g/7//yf+w/7j/rP+x/7P/sv/C/73/2v/R//X/6v8TAAUALQAgAEMANQBRAEUAVgBLAFIASgBFAD8AMwAwABwAHQAEAAcA7f/0/9v/5P/O/9r/yf/W/8v/2f/U/+H/4v/u//L//v8DAAwAEQAXABwAHwAiAB8AIgAZAB4ADQAVAPz/CgDq//7/2v/y/83/6f/I/+P/y//g/9X/4f/n/+P//P/n/xEA7f8kAPL/MwD3/zoA+/86AP7/MgABACUABQATAAgAAQALAO//DwDg/w8A1f8PAM//DQDN/wgA0P8CANb/+v/h//L/7f/q//v/5v8JAOT/FgDm/yEA7f8oAPb/LAABACsADAAmABUAHQAcABIAHwAEAB0A9v8XAOr/EADg/wYA2//8/9r/9P/e/+3/5v/r//P/6/8AAO//DwD0/xsA+/8lAAIAKgAIACoADAAlAAwAHAALABAABgAAAAAA8f/3/+L/7//V/+f/zP/f/8j/2//I/9r/zf/d/9f/5f/l//H/9v///wgAEAAXAB4AJQAqAC0AMAAxADIALQArACYAHwAaAA8ADAD8//3/6P/v/9j/4//L/9v/xv/W/8j/1v/Q/9r/3//h//H/7f8GAPv/GQAKACoAGQA1ACUAOwAtADgALwAvACsAIQAhAA8AEgD7/wAA6P/t/9r/2//Q/87/zP/G/8//xf/Z/8v/5//Y//n/6f8LAPz/HAAQACkAIAAzAC0ANwAzADUANAAtADAAIgAnABQAGwAEAA0A9v///+r/8//h/+n/3f/k/97/5P/j/+j/6//v//X/+P8AAAIACQAKABEAEQAWABMAFwARABQACwAPAAIACAD3////7P/3/+T/8f/f/+z/4P/p/+T/6f/u/+r/+v/t/wgA8f8UAPX/HQD5/yMA/f8jAAAAIAADABgABgANAAgAAgAJAPf/CgDs/woA5f8JAOD/BgDf/wMA4P/+/+T/+f/r//T/8//w//z/7f8GAO3/DwDw/xcA9f8dAPz/HwADAB8ACwAbABAAFQAUAA0AFQADABMA+f8OAPD/BwDq/wEA5//7/+b/9f/q//L/8f/y//n/8/8CAPf/DAD7/xQAAAAZAAMAHAAHABsACAAWAAgADwAGAAcAAgD9//7/8//5/+r/9P/i//D/3v/r/9v/6P/c/+f/4P/p/+b/7f/v//P/+f/8/wQABgANAA8AFgAXABsAHAAeAB4AHQAcABkAFgASAA0ACgACAAIA9v/4/+v/8f/j/+r/3v/m/93/5P/h/+X/6P/n//L/7f////X/CwD+/xYACAAgABEAJQAZACUAHgAiAB8AGwAbABAAFAAEAAkA+P/8/+z/7//k/+P/3v/b/93/1//f/9j/5f/f/+7/6f/5//X/BQADABAAEQAZABsAHwAjACIAJQAiACUAHgAgABgAGAAPAA8ABgAEAP3/+v/1//H/7//s/+z/6v/r/+v/7v/v//L/9v/5//3/AQAFAAgACwAOAA4AEgAOABQACwATAAYADwD+/wkA9v8BAO//+P/q/+//6P/o/+r/4//v/+D/9v/g/wAA5P8JAOn/EQDy/xcA+/8ZAAQAGAAMABMAEwANABcABQAYAPv/FwD0/xIA7f8LAOn/AwDo//r/6P/y/+v/6//v/+b/9f/l//z/5v8DAOr/CgDy/xAA+v8TAAMAFQAMABUAEwASABcADQAZAAgAFwABABMA+v8LAPX/AwDx//z/7//1//D/8P/z/+7/9//u//3/8f8DAPX/CQD7/w4AAQARAAYAEQAKABAADAANAA0ACAALAAMACAD+/wQA+P////P/+v/v//T/7f/v/+v/7P/r/+n/7f/o/+//6v/z/+7/9//0//z/+/8BAAMABQALAAkAEgANABYADgAYAA4AFwAMABIACgALAAYAAwACAPr//f/x//n/6v/2/+b/8//k//H/5v/x/+z/8v/z//X//f/6/wYAAAAPAAcAFgAMABoAEQAcABUAGgAVABQAEgAMAA0AAwAFAPr//P/y//P/6//q/+j/5P/n/+H/6v/i/+//5v/2/+z//v/2/wYAAAAOAAoAEwATABYAGgAXAB4AFQAfABEAHAAMABYABwAPAAEABgD8//3/9//1//T/7//0/+v/9P/r//b/7f/6//L//v/3/wMA/f8HAAIACQAHAAsACAALAAgACQAGAAUAAwABAP7//P/6//f/9//y//X/7//1/+z/9//s//r/7v/+//L/AwD3/wcA/P8JAAEACwAHAAoACgAIAA0ABQAOAAIADQD+/wsA+/8GAPn/AgD2//z/9v/3//X/8//2//D/+P/v//r/8P/9//L/AAD2/wMA/P8FAAIABwAIAAgADQAHAA8ABgAQAAQADwABAAwA//8HAPz/AgD7//3/+v/4//v/9f/7//T//f/0/wAA9v8CAPn/BAD9/wUAAQAGAAUABgAIAAUACQADAAgAAQAHAP//BAD9/wIA+v/+//n/+v/4//f/9//z//f/8f/2//D/9//v//f/8P/4//T/+v/3//z//f/+/wIAAAAHAAMADAAFAA8ABgARAAcAEAAHAAwABQAIAAQAAgACAPz////2//3/8f/7/+7/+f/s//j/7f/4//H/+P/2//r//P/8/wMA/v8IAAIADgAGABIACQASAAsAEgALAA8ACwALAAgABAAEAP7////4//n/8//0/+//7//u/+3/7//t//L/7v/3//L//P/4/wIA/v8IAAUADAALABAADwARABIAEQASAA4AEQAKAA4ABwAKAAEABQD9/wAA+f/8//f/+P/1//b/9f/1//f/9v/6//j//f/6/wEA/P8EAP//BwABAAgAAgAIAAIABwABAAQAAAABAP7//v/9//n//P/1//z/8//7//H//P/x//7/8/8AAPX/AgD5/wMA/P8DAAEABAAFAAQACAADAAoAAQAKAAAACQD//wcA/v8EAP3/AQD8//z//P/5//v/9v/7//X/+//0//z/9f/8//f//f/6/////v8AAAIAAgAFAAMACQAEAAoABAAKAAQACQADAAYAAQADAAAA///+//v//f/5//z/9//7//f//P/5//z/+//+//3///8AAAEAAwACAAUAAwAFAAQABQAEAAQAAwADAAMAAQABAP7/AAD8////+//9//n/+//3//n/9//4//b/9//3//f/9//3//n/+P/7//r//f/8/wAA//8DAAIABQAEAAgABgAJAAcACQAHAAgABgAGAAUAAwACAP/////7//3/9//6//X/+P/z//j/8//3//T/+f/3//r/+//9/wAA//8FAAIACQAEAAsABwANAAcADQAIAAsABwAIAAUABAACAP///v/7//v/9//4//T/9f/z//T/9P/0//X/9f/4//f//P/7/wEA/v8FAAIACAAFAAsACAALAAoACwALAAoACgAHAAkABAAHAAAABAD9/wIA+/////r//f/5//v/+f/6//r/+v/8//r//v/7/wEA/P8CAP7/BAD//wUA//8FAAAABAAAAAMA//8AAP7//v/+//z//f/5//7/9//+//b//v/2////9/////j/AAD7/wEA/f8CAAAAAgADAAIABAABAAYAAAAGAAAABgD//wQA/v8DAP7/AAD9//7//f/7//3/+v/8//j//P/4//z/+f/9//n//v/8//7///8AAAEAAQADAAIABQACAAYAAwAGAAMABgACAAQAAQACAAAA///+//3//f/7//3/+v/8//r//f/7//7//P/+//7/AAAAAAEAAgACAAIAAgADAAMAAwADAAIAAgACAAIAAAAAAP//AAD+//7//f/9//z//P/6//v/+v/7//r/+v/5//r/+f/6//r/+//8//v//f/9/////v8BAAAAAwACAAUABAAGAAQABgAEAAYABAAEAAMAAgABAP//AAD9//3/+v/8//j/+//3//r/9//6//f/+v/5//v//P/8/////v8CAAAABQACAAcABAAJAAUACQAFAAgABQAFAAQAAwACAP//AAD8//3/+v/7//j/+f/3//j/9//3//j/+P/6//n//f/7/////v8CAAAABQADAAcABAAHAAYABwAHAAYABgAFAAYAAwAFAAEAAwD+/wEA/f////z//v/7//3/+//8//z//P/9//z//v/9/wAA/f8BAP7/AgD//wMA/v8EAP//AwD//wIA//8BAP7///////3//v/7//7/+v/+//n//v/5////+f////r/AAD8/wAA/v8BAAAAAQABAAEAAgABAAMAAAAEAP//BAD//wMA//8BAP7/AAD+//7//f/8//3/+//9//r//f/6//7/+//9//v//v/9//////8AAAAAAQABAAIAAwACAAQAAgAEAAIAAwABAAIAAAAAAP////////3//f/8//3//P/9//v//f/8//7//f/+//7/AAD//wEAAAABAAIAAgACAAIAAgACAAIAAQABAAEA//8AAP/////+//7//f/+//3//f/8//3//P/8//z//P/7//z//P/8//z//P/9//z//v/9//////8AAP//AQAAAAMAAgAEAAIABAADAAMAAgACAAIAAgABAAAA///+//7//P/9//r//P/5//z/+f/7//n/+//7//z//P/9//7//v8BAP//AwABAAQAAgAFAAMABgADAAUAAwAEAAMAAgABAAAAAAD9/////P/9//r//P/6//v/+f/6//r/+v/8//v//v/8/wAA/f8BAP//AgAAAAQAAgAEAAMABAAEAAQABAADAAQAAgADAAEAAgD//wEA/v8AAP3////9//7//P/+//3//f/9//3////9/////f8AAP7/AQD//wIA//8CAP7/AgD//wEA/v8AAP////////7//v/9//7//P/+//v////7////+/8AAPz/AAD9/wAA/v8BAP//AQAAAAEAAgAAAAIAAAACAP//AgD//wEA/v8BAP7////+/////f/+//3//P/9//z//f/7//3//P/+//z////+//////8AAAAAAQABAAEAAgACAAIAAQADAAEAAgABAAEAAAAAAP/////+//7//f/9//7//f/9//3//v/+//7//v//////AAD//wEAAQABAAEAAQABAAIAAQABAAEAAQAAAAAA///////////+//7//f/+//7//v/9//3//f/9//z//f/9//3//f/9//3//f/+//3//v/+/////v//////AQAAAAEAAAACAAEAAgABAAIAAQABAAEAAQABAP//AAD//////f/+//3//f/7//3/+//8//v//P/8//z//f/9/////v8AAP//AQAAAAIAAAADAAIAAwACAAMAAgACAAIAAQABAP//AAD+/////f/+//z//f/8//z/+//8//z//P/9//z//v/9/////v8BAP//AgAAAAIAAQADAAIAAgADAAIAAgACAAIAAQACAAAAAQD//wEA/v////7////9//7//v/+//7//v/+//7//v/+//////8AAP//AAD//wEA//8BAP//AQD//wAA//8AAP///////////v/9//7//f////z////9/wAA/f////3/AAD9/wAA/v8AAAAAAAAAAAAAAQAAAAEA//8BAP//AQD//wEA/v8AAP7////+/////v/+//7//v/+//3//v/9//7//f////3////+//////8AAP//AAABAAAAAQABAAEAAQABAAEAAQAAAAAA//8AAP////////7//v/+//7//v/9//7//v/+//7//v//////AAD//wAAAAAAAAAAAQAAAAAAAAAAAP//AAAAAAAA//8AAP/////+//7//v////7//v/+//7//v/+//7//v/9//7//f/+//7//v/+//7//v/+/////v8AAP//AAAAAAEA//8BAAAAAQABAAEAAQABAAEAAAAAAAAAAAD//////v////3//v/9//3//P/9//z//f/8//3//f/9/////v8AAP//AAD//wIAAAACAAEAAwABAAIAAQABAAEAAQAAAP//AAD//////v////3//v/9//3//P/9//z//f/9//3//v/9/////v8AAP//AQAAAAEAAAABAAEAAgABAAEAAQABAAEAAAABAAAAAQD//wAA//8AAP7////9/////v/+//7////+/////////wAA//8AAP//AAD//wEA//8BAP//AQD//wEA//8AAP7////////////+/////f////3////9/////f////3/AAD+//////8AAP//AAAAAAAAAAAAAAEA//8BAP//AQD//wAA//8AAP7////+/////v/+//7//v/+//7////9//7//v/+//7///////////8AAAAAAAAAAAAAAQAAAAEAAAABAAAAAQAAAAAA//8AAP////////7//v/+//3//v/+//7//v/+//7//v///////////wAA//8AAAAAAQAAAAEAAAABAAAAAAAAAAAA//8AAP////////7//v///////v/+//7//v/+//7//v/+//7//v/+//7////+/////v//////////////AAD//wAA//8BAP//AQD//wEA//8AAP//AAD//wAA/////////v////7////9/////f/+//3//v/9//7//v/+//7//v//////AAD//wEA//8BAAAAAQD//wEAAAABAAAAAAAAAAAAAAD//////v////7////9//7//v/+//7//v/+//3//v/+/////v8AAP//AAD//wEAAAABAAAAAQAAAAAAAQAAAAAAAAAAAAAAAAD//wAA//8AAP/////+/////v////7//v/+//////////////8AAP//AAD//wAA//8AAP//AAD+/wAA//8AAP/////////////+//7//v////7////+/////v////7/AAD//////v8AAP//AAAAAAAAAAAAAAAA//8AAP//AAD//wAA//////7////+/////v/+//7//v/+//7//v/+//7//v////7////+/wAA//8AAAAAAAD//wAAAAAAAAAAAAAAAAAAAAD//wAA/////////////////v////7//v/+//7//v////7//////////////wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP/////+///////+//////////7////+/////v/+//7//v////7////+/////v//////////////AAAAAP////8AAP//AAD//wEA//8BAP//AAD//wAA/////////v////7////+/////f////7//v/+//7//v/+//7//v//////AAD//wAA//8BAAAAAQD//wAA//8AAP//AAD//wAA//8AAP////////7//////////v/+//7//v/+//7//v/+//7//v///////////wAAAAD///////8AAAAAAAAAAAAA//8AAP//AAD//wAA//8AAP///////////v////7////+/////v////7//////////////wAA//8AAP//AQD+/wEA//8BAP//AQD//wAA//8AAP///v////7////9/////f////3/AAD9/////f////7/AAD//wAA/////wAA//8AAP//AQD//wEA//8BAP//AQD+/wAA/v8AAP7////+/////v/+/////v////3////+/wAA/v8AAP7/AAD//wAA//8AAAAAAAAAAP//AAD//wAA//8AAP//AAD//wAA//////7////+//7//v////////////7////+/wAA/v////7////+/wAA//8AAP//AAD//wAA////////////////AAD//wAA//8AAP//AAD////////////////////////+/////v////7////+/////v8AAP//////////AAD//wAAAAAAAAAAAAAAAAAAAAAAAAAAAAD////////+//////////7//v/+//7//v/+//7//v/+//7////+//////8AAP////8AAAAA//8AAP//AAD//wAA//8AAP////////////////7////+/////v////7////+//////////////8AAP//AAD//wAAAAABAP//AQD//wEA//8AAP//AAD////////+/////v////7////+/////v////7/////////AAD///////8AAAAAAAD//wEAAAAAAAAAAAAAAAAAAAD//wAA/v/////////+/////v/+//7//v/+//3////+/////v8AAP7//////wAA//8AAAAAAAAAAAAAAAAAAAAA//8AAP//AAD//wAA//////7////+/////v////7//v/+//7//v/+//7//v///////////wAA//8AAAAAAAD//wAAAAAAAAAAAAAAAAAAAAD////////////////////////////////+/////v////////////////////////8AAP//////////AAAAAP//AAD//wAAAAAAAAAA//8AAP///////////////////////////v/+//7//v/+//7//v/+//////////////8AAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////7////+//7//v/+//7//v////7////+//////8AAP///////wAAAAAAAP//AAD///////////////////////////////////////////7///////////////////8AAP////8AAAAA//8AAP//AAD//wAA//8AAP///////////////////////////////////////////////////////////////wAAAAD//wAA//8AAP///////////////////v////////////////////////////7////+//////8AAP///////////////wAA///////////////////////////////////////////+/////v////7////+/////v///////////////////wAA//8AAP///////wAA//8AAP//AAD/////AAD///////////////////////////////////////////////////7////+/wAA/v//////////////AAD///////8AAP//AAD//wAA//8AAP//AAD////////////////////////+//7//v/+//7////+/////v////////8AAAAA/////wAA//8AAP//AQD//wAA//8AAP//AAD////////+//////////7////+/////v/+//7//v/+//7///////////8AAP///////wAAAAAAAP//AAD//wAA////////////////////////////////////////////////////////////////AAD/////AAD//////////////////////////////////////v//////////////////////////////////////////////////////AAD///////////////////////////////////////////////////////////////8AAP///////////////////////////////wAA//////////////////////////////////////////////////////////////////////////8AAP///////////////////////////////wAA////////////////////////////////////////////////AAD//////////////////////////wAA//////////////////////////////////////////////////////////////7///////////////////8AAP////////////8AAAAAAAD//wAA//8AAP//////////////////////////////////////////////////////////////////////////////////////////AAD///////////////////////////////////////////////////////////////8AAP//////////AAD/////////////////////////////////////////////////////////////////////////////////////AAD/////////////////////////////////////////////////////AAD//////////////////////////////////////////wAA//////////////////////////////////////////////////////////8AAP//AAD/////////////////////////////////////AAD///////////////////////////////////////////////8AAP////////////////////////////////////8AAP////////////////////////////////////////////////////////////////////////////8AAP///////wAAAAAAAP//AAD//wAA//////////////////////////////7////+/////v///////////////////wAA/////////////wAA//8AAP//AAD/////AAD//////////////////////////////////////////////////////////wAA////////////////AAD/////////////////////////////////////////////////////////////////////////////////////AAD/////////////////////////////////////////////////////AAD//////////////////////////////////////////wAA//////////////////////////////////////////////////////////8AAP//////////////////////////////////////////AAD///////////////////////////////////////////////8AAP////////////////////////////////////8AAP////////////////////////////////////////////////////////////////////////////8AAP////////////////////8AAP///////////////////////////////////////////////////////////////wAA/////////////////////////////////////////////////////////////////////////////////////////////wAA//////////8AAP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Y3VlIBwAAAABAAAAAQAAAAAAAABkYXRhAAAAAAAAAAAAAAAATElTVB4AAABhZHRsbGFibBIAAAABAAAAVGVtcG86IDEyMC4wAABiZXh0WwIAAAAFAADJ/Mv9//////////85/0AA5QCIAaAivF3/fwAAkCG8Xf9/AAAAAAAAAAAAAAAAvF3/fwAAAAAAAAAAAACgIrxd/38AAPSspgUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPN08/X0ePbz9wAAAAAAAAAAoquqMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP9r/y0At0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMb2dpYyBQcm8gWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAxNS0wMy0wMjEyOjEwOjAxxn12CQAAAAABAAAAAABD+BIGQngAX2ArvF3/fwAAoKvDAYBgAAAAAAAAAAAAAMak/wIBAAAAcCB8dP9/AACQI7xd/38AAOp2t4YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=";let classicButtonHover,classicButtonClick;window.onclick=()=>{classicButtonHover||(classicButtonHover=new howler__WEBPACK_IMPORTED_MODULE_6__.Howl({src:classicButtonHoverString,volume:.65}),classicButtonClick=new howler__WEBPACK_IMPORTED_MODULE_6__.Howl({src:classicButtonClickString,volume:.55}))};const setButtonSounds=function(list){var bhs=function(){classicButtonHover?.stop(),classicButtonHover?.play()},bcs=function(){classicButtonClick?.stop(),classicButtonClick?.play()};list.forEach((x=>{x.onmousedown=bcs,x.onmouseenter=bhs}))},__WEBPACK_DEFAULT_EXPORT__={init:function(){this.blockDefs=_blockly_blockdefs_js__WEBPACK_IMPORTED_MODULE_2___default(),this.initGMEditor()},initGMEditor:function(){document.getElementById("gmeditor").parentElement;document.getElementById("gmeditor_importbutton").addEventListener("click",gm.blockly.GMEImport),document.getElementById("gmeditor_exportbutton").addEventListener("click",gm.blockly.GMEExportShow),document.getElementById("gmeditor_settingsbutton").addEventListener("click",gm.blockly.GMESettingsShow),document.getElementById("gmsettings_cancel").addEventListener("click",gm.blockly.GMESettingsCancel),document.getElementById("gmexport_cancel").addEventListener("click",gm.blockly.GMEExportCancel),document.getElementById("gmexport_copy").addEventListener("click",gm.blockly.GMEExportCopy),document.getElementById("gmbackups_cancel").addEventListener("click",gm.blockly.GMEBackupsCancel),document.getElementById("gmbackups_load").addEventListener("click",gm.blockly.GMEBackupsLoad),document.getElementById("gmimportdialog_cancel").addEventListener("click",gm.blockly.GMEImportMapCancel),document.getElementById("gmimportdialog_no").addEventListener("click",gm.blockly.GMEImportMapNo);const buttons=["gmeditor_newbutton","gmeditor_importbutton","gmeditor_exportbutton","gmeditor_savebutton","gmeditor_closebutton","gmeditor_settingsbutton","gmeditor_backupsbutton","gmblockly_cancel","gmblockly_ok","gmexport_cancel","gmexport_ok","gmimportdialog_cancel","gmimportdialog_no","gmimportdialog_yes","gmsettings_cancel","gmsettings_save","gmbackups_cancel","gmbackups_load"];for(let i=0;i<buttons.length;i++)document.getElementById(buttons[i])&&setButtonSounds([document.getElementById(buttons[i])]);const baseModeSelect=document.getElementById("gmsettings_basemode");for(const mode of ModeList.lobbyModes){if("f"===mode||"p"===mode)continue;const option=document.createElement("option");option.value=mode,option.innerText=ModeList.modes[mode].lobbyName,baseModeSelect.appendChild(option)}for(let i=0;i!==this.blockDefs.length;i++)blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks[this.blockDefs[i].type]={};(0,_blockly_blockvalidators_js__WEBPACK_IMPORTED_MODULE_4__.Z)();for(let i=0;i!==this.blockDefs.length;i++)blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks[this.blockDefs[i].type].init=function(){this.jsonInit(gm.blockly.blockDefs[i]),this.validatorInit&&this.validatorInit()};(0,_blockly_blockfuncs_js__WEBPACK_IMPORTED_MODULE_3__.Z)();for(const block in blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks)blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks[block].init=function(){const init_OLD=blockly__WEBPACK_IMPORTED_MODULE_0___default().Blocks[block].init;return function(){if(init_OLD.apply(this,arguments),!this.type.startsWith("on_")&&!this.type.startsWith("procedures_def")){const onChange_OLD=this.onchange;this.setOnChange((function(){onChange_OLD&&onChange_OLD.apply(this,arguments),this.parentBlock_||this.isInMutator||this.isInFlyout?this.setWarningText(null):this.setWarningText("The block must be inside an event block (one of the\nblocks in the Bonk Events category), or inside a function definition.")}))}}}();const blocklyToolbox=document.createElement("xml");document.head.appendChild(blocklyToolbox),blocklyToolbox.outerHTML=_blockly_toolbox_xml__WEBPACK_IMPORTED_MODULE_7__.Z;const blocklyDiv=document.createElement("div");blocklyDiv.id="gmblocklydiv";const bounds=document.getElementById("gmblocklyarea").getBoundingClientRect();blocklyDiv.style.top=bounds.top,blocklyDiv.style.left=bounds.left,blocklyDiv.style.width=bounds.width,blocklyDiv.style.height=bounds.height,document.body.appendChild(blocklyDiv),gm.blockly.theme=blockly__WEBPACK_IMPORTED_MODULE_0___default().Theme.defineTheme("gmmaker",{base:blockly__WEBPACK_IMPORTED_MODULE_0___default().Themes.Classic,fontStyle:{family:"futurept_b1",size:12}}),gm.blockly.workspace=blockly__WEBPACK_IMPORTED_MODULE_0___default().inject("gmblocklydiv",{toolbox:document.getElementById("toolbox"),zoom:{controls:!0,wheel:!0,pinch:!0},theme:gm.blockly.theme}),gm.blockly.headlessWorkspace=new(blockly__WEBPACK_IMPORTED_MODULE_0___default().Workspace),gm.blockly.workspace.useWorkspaceDragSurface_=!1;new _blockly_plugin_workspace_search__WEBPACK_IMPORTED_MODULE_1__.p(gm.blockly.workspace).init(),blockly__WEBPACK_IMPORTED_MODULE_0___default().dialog.setAlert((function(message,callback){gm.blockly.genericDialog(message,callback,!1)})),blockly__WEBPACK_IMPORTED_MODULE_0___default().dialog.setConfirm((function(message,callback){gm.blockly.genericDialog(message,callback,!0)})),blockly__WEBPACK_IMPORTED_MODULE_0___default().dialog.setPrompt((function(message,defaultValue,callback){gm.blockly.genericDialog(message,callback,!0,!0,defaultValue)})),blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.INFINITE_LOOP_TRAP="if (++loopIterations > 10000000) throw 'gmInfiniteLoop';",window.addEventListener("resize",(()=>{const bounds=document.getElementById("gmblocklyarea").getBoundingClientRect();blocklyDiv.style.top=bounds.top,blocklyDiv.style.left=bounds.left,blocklyDiv.style.width=bounds.width,blocklyDiv.style.height=bounds.height,blockly__WEBPACK_IMPORTED_MODULE_0___default().svgResize(gm.blockly.workspace)}),!1),gm.blockly.savedXml=document.createElement("xml"),gm.blockly.headlessWorkspace.fireChangeListener_OLD=gm.blockly.headlessWorkspace.fireChangeListener,gm.blockly.headlessWorkspace.fireChangeListener=function(){return gm.blockly.headlessWorkspace.fireChangeListener_OLD(...arguments)},window.blockly=blockly__WEBPACK_IMPORTED_MODULE_0___default()},makeDraggable:function(elmnt,dragBar){let pos1=0,pos2=0,pos3=0,pos4=0;function dragMouseDown(e){(e=e||window.event).preventDefault(),pos3=e.clientX,pos4=e.clientY,document.onmouseup=closeDragElement,document.onmousemove=elementDrag}function elementDrag(e){(e=e||window.event).preventDefault(),pos1=pos3-e.clientX,pos2=pos4-e.clientY,pos3=e.clientX,pos4=e.clientY,elmnt.style.top=elmnt.offsetTop-pos2+"px",elmnt.style.left=elmnt.offsetLeft-pos1+"px"}function closeDragElement(){document.onmouseup=null,document.onmousemove=null}dragBar?dragBar.onmousedown=dragMouseDown:elmnt.onmousedown=dragMouseDown},blockDefs:null,workspace:null,xmlToImport:null,xmlDict:["block","mutation","field","variable","variables","bonkmap","statement","shadow","value","name","type","next","playerid_input","show_dropdown"],savedXml:null,modeBackups:[],canBackup:!0,compressXml:function(xml){if(!xml)return xml;for(let i=0;i<this.xmlDict.length;i++)xml=(xml=xml.replace(new RegExp(`<(/|)${this.xmlDict[i]}([ >])`,"g"),`<$1${i}$2`)).replace(new RegExp(` ${this.xmlDict[i]}="`,"g"),` ${i}="`);return xml},decompressXml:function(xml){if(!xml)return xml;for(let i=0;i<this.xmlDict.length;i++)xml=(xml=xml.replace(new RegExp(`<(/|)${i}([ >])`,"g"),`<$1${this.xmlDict[i]}$2`)).replace(new RegExp(` ${i}="`,"g"),` ${this.xmlDict[i]}="`);return xml},modeName:null,modeDescription:null,showVarInspector:!1,varInspector:null,createVarInspTab:function(id,name){if(!this.varInspector)return;const tabHeaderElement=document.createElement("div");tabHeaderElement.id=`gmvi_tab_header_${id}`,tabHeaderElement.className="mapeditor_table_heading_div";const tabNameElement=document.createElement("div");tabNameElement.id=`gmvi_tab_name_${id}`,tabNameElement.className="mapeditor_rightbox_heading",tabNameElement.innerText=name,tabHeaderElement.appendChild(tabNameElement);const tabSignElement=document.createElement("div");tabSignElement.id=`gmvi_tab_sign_${id}`,tabSignElement.className="mapeditor_rightbox_heading_pm",tabSignElement.innerText="+",tabHeaderElement.appendChild(tabSignElement);const tabContentElement=document.createElement("div");tabContentElement.id=`gmvi_tab_content_${id}`,tabContentElement.className="gmvi_tab_content",tabContentElement.style.display="none",tabHeaderElement.addEventListener("click",(function(){"none"==tabContentElement.style.display?(tabContentElement.style.display="flex",tabSignElement.textContent="-"):(tabContentElement.style.display="none",tabSignElement.textContent="+")})),this.varInspector.appendChild(tabHeaderElement),this.varInspector.appendChild(tabContentElement)},updateVarInspector:function(gameState){const vars=gameState.physics.bodies[0]?.cf.variables;document.getElementById("gmvi_tab_header_global")||this.createVarInspTab("global","Global");for(let i=0;i<gameState.discs.length;i++)gameState.discs[i]&&gm.graphics.rendererClass.playerArray[i]&&(document.getElementById(`gmvi_tab_header_${i}`)||this.createVarInspTab(i,`${gm.graphics.rendererClass.playerArray[i].userName||"Unknown"} (id ${i})`));if(vars)for(const key in vars)if(document.getElementById(`gmvi_tab_header_${key}`))for(const varName in vars[key]){let varElement=document.getElementById(`gmvi_vars_${key}_${varName}`);if(!varElement){const varContainer=document.createElement("div");varContainer.className="gmvi_var";const varNameElement=document.createElement("div");varNameElement.innerText=varName,varContainer.appendChild(varNameElement),varElement=document.createElement("div"),varElement.id=`gmvi_vars_${key}_${varName}`,varContainer.appendChild(varElement),document.getElementById(`gmvi_tab_content_${key}`).appendChild(varContainer)}const varJSON=JSON.stringify(vars[key][varName]);varElement.innerText=varJSON.includes("{")?varJSON.replace(/{([^{]+{[^}]+}){2}}/g,"{Shape}"):varJSON}},showGMEWindow:function(){document.getElementById("gmeditor").style.transform="scale(1)",gm.blockly.disableLobbyChatbox=!0;const blocklyDiv=document.getElementById("gmblocklydiv"),bounds=document.getElementById("gmblocklyarea").getBoundingClientRect();blocklyDiv.style.visibility="visible",blocklyDiv.style.top=bounds.top,blocklyDiv.style.left=bounds.left,blocklyDiv.style.width=bounds.width,blocklyDiv.style.height=bounds.height,gm.blockly.workspace.setVisible(!0),blockly__WEBPACK_IMPORTED_MODULE_0___default().svgResize(gm.blockly.workspace);const gmSettings=gm.blockly.savedXml?.getElementsByTagName("gmsettings")[0];gm.blockly.modeName=gmSettings?.getAttribute("mode_name")||"Custom",gm.blockly.modeDescription=gmSettings?.getAttribute("mode_description")||"Change your mode's description on the Game Mode Editor's Settings menu (gear icon).",gm.blockly.showVarInspector="true"===gmSettings?.getAttribute("show_var_insp")||!1,gm.blockly.baseMode=gmSettings?.getAttribute("base_mode")||"any"},hideGMEWindow:function(){gm.blockly.disableLobbyChatbox=!1,gm.blockly.workspace.setVisible(!1),document.getElementById("gmblocklydiv").style.visibility="hidden",document.getElementById("gmeditor").style.transform="scale(0)"},genericDialog:function(message="",callback=(()=>{}),showCancel=!1,showInput=!1,inputValue=""){let closeDialog;document.getElementById("gm_blocklydialogcontainer").style.visibility="visible",document.getElementById("gmblockly_message").innerText=message,document.getElementById("gmblockly_promptcontainer").style.display=showInput?"block":"none",showInput&&document.getElementById("gmblockly_prompt").focus(),document.getElementById("gmblockly_prompt").value=inputValue,document.getElementById("gmblockly_cancel").style.display=showCancel?"block":"none";const okListener=function(){callback(!showInput||document.getElementById("gmblockly_prompt").value),closeDialog()},okInputListener=function(event){"Enter"===event.key&&(callback(!showInput||document.getElementById("gmblockly_prompt").value),closeDialog())},cancelListener=function(){callback(!!showInput&&null),closeDialog()};closeDialog=function(){document.getElementById("gm_blocklydialogcontainer").style.visibility="hidden",document.getElementById("gmblockly_ok").removeEventListener("click",okListener),document.getElementById("gmblockly_prompt").removeEventListener("keydown",okInputListener),document.getElementById("gmblockly_cancel").removeEventListener("click",cancelListener)},document.getElementById("gmblockly_ok").addEventListener("click",okListener),document.getElementById("gmblockly_prompt").addEventListener("keydown",okInputListener),document.getElementById("gmblockly_cancel").addEventListener("click",cancelListener)},GMENew:function(){gm.blockly.genericDialog("Are you sure you want to delete all blocks and reset mode settings?",(function(confirmed){confirmed&&(gm.blockly.workspace.clear(),gm.blockly.modeName="Custom",gm.blockly.modeDescription="Change your mode's description on the Game Mode Editor's Settings menu (gear icon).",gm.blockly.showVarInspector=!1,gm.blockly.baseMode="any")}),!0)},GMEImport:function(){const input=document.createElement("input");input.type="file",input.onchange=e=>{const file=e.target.files[0],reader=new FileReader;reader.readAsText(file,"UTF-8"),reader.onload=readerEvent=>{let content=readerEvent.target.result;content.startsWith("!!!COMPRESSED!!!")&&(content=content.replace("!!!COMPRESSED!!!",""),content=gm.blockly.decompressXml(content));const xml=document.createElement("xml");xml.innerHTML=content;const gmSettings=xml?.getElementsByTagName("gmsettings")[0];if(gm.blockly.modeName=gmSettings?.getAttribute("mode_name")||"Custom",gm.blockly.modeDescription=gmSettings?.getAttribute("mode_description")||"Change your mode's description on the Game Mode Editor's Settings menu (gear icon).",gm.blockly.showVarInspector="true"===gmSettings?.getAttribute("show_var_insp")||!1,gm.blockly.baseMode=gmSettings?.getAttribute("base_mode")||"any",document.getElementById("gmexport_name").value=file.name.slice(0,-4),xml.getElementsByTagName("bonkmap")[0]){gm.blockly.xmlToImport=xml;try{var mapData=getMapNameFromDatabase(xml.getElementsByTagName("bonkmap")[0].innerText)}catch(e){mapData={name:"(invalid map)",author:"???"}}document.getElementById("gm_dialogtext_name").innerText=mapData.name,document.getElementById("gm_dialogtext_author").innerText=mapData.author,document.getElementById("gm_importdialogwindowcontainer").style.visibility="visible"}else gm.blockly.workspace.clear(),blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToWorkspace(xml,gm.blockly.workspace)}},input.click()},GMEImportMapCancel:function(){document.getElementById("gm_importdialogwindowcontainer").style.visibility="hidden"},GMEImportMapNo:function(){gm.blockly.workspace.clear(),blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToWorkspace(gm.blockly.xmlToImport,gm.blockly.workspace),document.getElementById("gm_importdialogwindowcontainer").style.visibility="hidden"},GMEImportMapYes:function(){const gameSettings=gm.lobby.mpSession.getGameSettings();gameSettings.map=MapEncoder.decodeFromDatabase(gm.blockly.xmlToImport.getElementsByTagName("bonkmap")[0].innerHTML),gm.lobby.bonkLobby.updateGameSettings(gameSettings),gm.blockly.workspace.clear(),blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToWorkspace(gm.blockly.xmlToImport,gm.blockly.workspace),document.getElementById("gm_importdialogwindowcontainer").style.visibility="hidden"},GMEExportShow:function(){document.getElementById("gm_exportwindowcontainer").style.visibility="visible",document.getElementById("gmexport_name").focus(),document.getElementById("gmexport_name").value=gm.blockly.generateCode()},GMEExportCancel:function(){document.getElementById("gm_exportwindowcontainer").style.visibility="hidden"},GMEExportCopy:function(){const field=document.getElementById("gmexport_name");field.select(),field.setSelectionRange(0,99999);try{navigator.clipboard.writeText(field.value)}catch(e){document.execCommand("copy")}},GMEExportSave:function(){const blob=new Blob([gm.blockly.generateCode()],{type:"application/javascript;charset=utf-8"});(0,file_saver__WEBPACK_IMPORTED_MODULE_5__.saveAs)(blob,"youShouldntSeeDis.js"),document.getElementById("gm_exportwindowcontainer").style.visibility="hidden"},GMEBackupsShow:function(){document.getElementById("gm_backupswindowcontainer").style.visibility="visible";const backupSelect=document.getElementById("gmbackups_backupselect");backupSelect.innerHTML="",backupSelect.value="";for(let i=0;i<gm.blockly.modeBackups.length;i++){const option=document.createElement("option");option.value=i,option.innerText=new Date(gm.blockly.modeBackups[i].timeStamp).toLocaleString(),backupSelect.appendChild(option)}},GMEBackupsCancel:function(){document.getElementById("gm_backupswindowcontainer").style.visibility="hidden"},GMEBackupsLoad:function(){document.getElementById("gm_backupswindowcontainer").style.visibility="hidden";const backup=gm.blockly.modeBackups[document.getElementById("gmbackups_backupselect").value].xml;if(!backup)return;const xml=document.createElement("xml");xml.innerHTML=backup;const gmSettings=xml?.getElementsByTagName("gmsettings")[0];gm.blockly.modeName=gmSettings?.getAttribute("mode_name")||"Custom",gm.blockly.modeDescription=gmSettings?.getAttribute("mode_description")||"Change your mode's description on the Game Mode Editor's Settings menu (gear icon).",gm.blockly.showVarInspector="true"===gmSettings?.getAttribute("show_var_insp")||!1,gm.blockly.baseMode=gmSettings?.getAttribute("base_mode")||"any",gm.blockly.workspace.clear(),blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.domToWorkspace(xml,gm.blockly.workspace)},GMESettingsShow:function(){document.getElementById("gm_settingswindowcontainer").style.visibility="visible",document.getElementById("gmsettings_modename").value=gm.blockly.modeName,document.getElementById("gmsettings_modedescription").value=gm.blockly.modeDescription,document.getElementById("gmsettings_showvarinsp").checked=gm.blockly.showVarInspector,document.getElementById("gmsettings_basemode").value=gm.blockly.baseMode},GMESettingsCancel:function(){document.getElementById("gm_settingswindowcontainer").style.visibility="hidden"},GMESettingsSave:function(){gm.blockly.modeName=document.getElementById("gmsettings_modename").value.substring(0,12),gm.blockly.modeDescription=document.getElementById("gmsettings_modedescription").value.substring(0,500),gm.blockly.showVarInspector=document.getElementById("gmsettings_showvarinsp").checked,gm.blockly.baseMode=document.getElementById("gmsettings_basemode").value,document.getElementById("gm_settingswindowcontainer").style.visibility="hidden"},GMESave:function(){if(gm.lobby.networkEngine.getLSID()!==gm.lobby.networkEngine.hostID)return;gm.blockly.resetAll();try{eval(gm.blockly.generateCode())}catch(e){throw alert("An error ocurred while trying to save. Please send SneezingCactus a full screenshot of the console (Ctrl+Shift+I, go to the Console tab) so this error can be diagnosed."),e}const xml=blockly__WEBPACK_IMPORTED_MODULE_0___default().Xml.workspaceToDom(gm.blockly.workspace,!0),settingsObj=blockly__WEBPACK_IMPORTED_MODULE_0___default().utils.xml.createElement("gmsettings");settingsObj.setAttribute("mode_name",gm.blockly.modeName),settingsObj.setAttribute("mode_description",gm.blockly.modeDescription),settingsObj.setAttribute("show_var_insp",gm.blockly.showVarInspector),settingsObj.setAttribute("base_mode",gm.blockly.baseMode),xml.appendChild(settingsObj),gm.blockly.savedXml=xml,gm.blockly.savedSettings=xml?.getElementsByTagName("gmsettings")[0];const compressedXml=gm.blockly.compressXml(xml.innerHTML);gm.lobby.socket.emit(23,{m:`!!!GMMODE!!!${compressedXml}`}),gm.lobby.mpSession.getGameSettings().GMMode=compressedXml,gm.blockly.baseMode&&"any"!==gm.blockly.baseMode&&(gm.lobby.networkEngine.sendGAMO("b",gm.blockly.baseMode),gm.lobby.mpSession.getGameSettings().ga="b",gm.lobby.mpSession.getGameSettings().mo=gm.blockly.baseMode),gm.lobby.bonkLobby.updateGameSettings(),gm.blockly.hideGMEWindow()},generateCode:function(){const workspace=gm.blockly.workspace,topBlocks=workspace.getTopBlocks();let code="";blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.init(workspace);for(let i=0;i!=topBlocks.length;i++)(topBlocks[i].type.startsWith("on_")||topBlocks[i].type.startsWith("procedures_def"))&&(code+=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.blockToCode(topBlocks[i])+"\n");return code=blockly__WEBPACK_IMPORTED_MODULE_0___default().JavaScript.finish(code),code.startsWith("var ")&&(code=code.replace(/var (.+);/,"")),code},vars:[],funcs:{},resetVars:function(){},resetMode:function(){gm.physics.onFirstStep=function(){},gm.physics.onStep=function(){},gm.physics.onPlayerDie=function(){},gm.physics.onPlayerPlayerCollision=function(){},gm.physics.onPlayerArrowCollision=function(){},gm.physics.onPlayerPlatformCollision=function(){},gm.physics.onArrowPlayerCollision=function(){},gm.physics.onArrowArrowCollision=function(){},gm.physics.onArrowPlatformCollision=function(){},gm.physics.onPlatformPlayerCollision=function(){},gm.physics.onPlatformArrowCollision=function(){},gm.physics.onPlatformPlatformCollision=function(){},gm.graphics.onRender=function(){}},resetAll:function(){gm.blockly.resetMode(),gm.blockly.funcs.clearGraphics()}}}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={id:moduleId,exports:{}};return __webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.exports}__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module.default:()=>module;return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=(exports,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop);var __webpack_exports__={};(()=>{"use strict";__webpack_require__(190);var _gmObject_blockly_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(323);window.initGM=function(){if(!window.gm){window.gmStyles&&document.querySelector("head").appendChild(window.gmStyles),window.gm={blockly:_gmObject_blockly_js__WEBPACK_IMPORTED_MODULE_1__.Z};for(const key in gm)gm[key].init();console.log("[Game Mode Maker] The extension has been successfully loaded!")}}})()})();